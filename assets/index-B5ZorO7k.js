(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function o(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=o(a);fetch(a.href,c)}})();function Bu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yu={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function Nv(){if(lp)return gl;lp=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(s,a,c){var h=null;if(c!==void 0&&(h=""+c),a.key!==void 0&&(h=""+a.key),"key"in a){c={};for(var g in a)g!=="key"&&(c[g]=a[g])}else c=a;return a=c.ref,{$$typeof:n,type:s,key:h,ref:a!==void 0?a:null,props:c}}return gl.Fragment=t,gl.jsx=o,gl.jsxs=o,gl}var sp;function bv(){return sp||(sp=1,yu.exports=Nv()),yu.exports}var T=bv(),vu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function Rv(){if(rp)return ve;rp=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),x=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,U={};function L(N,q,K){this.props=N,this.context=q,this.refs=U,this.updater=K||R}L.prototype.isReactComponent={},L.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function F(){}F.prototype=L.prototype;function z(N,q,K){this.props=N,this.context=q,this.refs=U,this.updater=K||R}var X=z.prototype=new F;X.constructor=z,w(X,L.prototype),X.isPureReactComponent=!0;var j=Array.isArray;function P(){}var G={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function ee(N,q,K){var W=K.ref;return{$$typeof:n,type:N,key:q,ref:W!==void 0?W:null,props:K}}function he(N,q){return ee(N.type,q,N.props)}function Se(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ce(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(K){return q[K]})}var ke=/\/+/g;function ze(N,q){return typeof N=="object"&&N!==null&&N.key!=null?ce(""+N.key):q.toString(36)}function Be(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(P,P):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function H(N,q,K,W,ge){var Te=typeof N;(Te==="undefined"||Te==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(Te){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case n:case t:Ne=!0;break;case v:return Ne=N._init,H(Ne(N._payload),q,K,W,ge)}}if(Ne)return ge=ge(N),Ne=W===""?"."+ze(N,0):W,j(ge)?(K="",Ne!=null&&(K=Ne.replace(ke,"$&/")+"/"),H(ge,q,K,"",function(ye){return ye})):ge!=null&&(Se(ge)&&(ge=he(ge,K+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(ke,"$&/")+"/")+Ne)),q.push(ge)),1;Ne=0;var J=W===""?".":W+":";if(j(N))for(var ie=0;ie<N.length;ie++)W=N[ie],Te=J+ze(W,ie),Ne+=H(W,q,K,Te,ge);else if(ie=_(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(W=N.next()).done;)W=W.value,Te=J+ze(W,ie++),Ne+=H(W,q,K,Te,ge);else if(Te==="object"){if(typeof N.then=="function")return H(Be(N),q,K,W,ge);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Q(N,q,K){if(N==null)return N;var W=[],ge=0;return H(N,W,"","",function(Te){return q.call(K,Te,ge++)}),W}function ae(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(K){(N._status===0||N._status===-1)&&(N._status=1,N._result=K)},function(K){(N._status===0||N._status===-1)&&(N._status=2,N._result=K)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},le={map:Q,forEach:function(N,q,K){Q(N,function(){q.apply(this,arguments)},K)},count:function(N){var q=0;return Q(N,function(){q++}),q},toArray:function(N){return Q(N,function(q){return q})||[]},only:function(N){if(!Se(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ve.Activity=E,ve.Children=le,ve.Component=L,ve.Fragment=o,ve.Profiler=a,ve.PureComponent=z,ve.StrictMode=s,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ve.__COMPILER_RUNTIME={__proto__:null,c:function(N){return G.H.useMemoCache(N)}},ve.cache=function(N){return function(){return N.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(N,q,K){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=w({},N.props),ge=N.key;if(q!=null)for(Te in q.key!==void 0&&(ge=""+q.key),q)!ue.call(q,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&q.ref===void 0||(W[Te]=q[Te]);var Te=arguments.length-2;if(Te===1)W.children=K;else if(1<Te){for(var Ne=Array(Te),J=0;J<Te;J++)Ne[J]=arguments[J+2];W.children=Ne}return ee(N.type,ge,W)},ve.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},ve.createElement=function(N,q,K){var W,ge={},Te=null;if(q!=null)for(W in q.key!==void 0&&(Te=""+q.key),q)ue.call(q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ge[W]=q[W]);var Ne=arguments.length-2;if(Ne===1)ge.children=K;else if(1<Ne){for(var J=Array(Ne),ie=0;ie<Ne;ie++)J[ie]=arguments[ie+2];ge.children=J}if(N&&N.defaultProps)for(W in Ne=N.defaultProps,Ne)ge[W]===void 0&&(ge[W]=Ne[W]);return ee(N,Te,ge)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:g,render:N}},ve.isValidElement=Se,ve.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ae}},ve.memo=function(N,q){return{$$typeof:m,type:N,compare:q===void 0?null:q}},ve.startTransition=function(N){var q=G.T,K={};G.T=K;try{var W=N(),ge=G.S;ge!==null&&ge(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(P,ne)}catch(Te){ne(Te)}finally{q!==null&&K.types!==null&&(q.types=K.types),G.T=q}},ve.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ve.use=function(N){return G.H.use(N)},ve.useActionState=function(N,q,K){return G.H.useActionState(N,q,K)},ve.useCallback=function(N,q){return G.H.useCallback(N,q)},ve.useContext=function(N){return G.H.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N,q){return G.H.useDeferredValue(N,q)},ve.useEffect=function(N,q){return G.H.useEffect(N,q)},ve.useEffectEvent=function(N){return G.H.useEffectEvent(N)},ve.useId=function(){return G.H.useId()},ve.useImperativeHandle=function(N,q,K){return G.H.useImperativeHandle(N,q,K)},ve.useInsertionEffect=function(N,q){return G.H.useInsertionEffect(N,q)},ve.useLayoutEffect=function(N,q){return G.H.useLayoutEffect(N,q)},ve.useMemo=function(N,q){return G.H.useMemo(N,q)},ve.useOptimistic=function(N,q){return G.H.useOptimistic(N,q)},ve.useReducer=function(N,q,K){return G.H.useReducer(N,q,K)},ve.useRef=function(N){return G.H.useRef(N)},ve.useState=function(N){return G.H.useState(N)},ve.useSyncExternalStore=function(N,q,K){return G.H.useSyncExternalStore(N,q,K)},ve.useTransition=function(){return G.H.useTransition()},ve.version="19.2.1",ve}var ap;function Fu(){return ap||(ap=1,vu.exports=Rv()),vu.exports}var Z=Fu();const Mv=Bu(Z);var Tu={exports:{}},yl={},Su={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function wv(){return up||(up=1,(function(n){function t(H,Q){var ae=H.length;H.push(Q);e:for(;0<ae;){var ne=ae-1>>>1,le=H[ne];if(0<a(le,Q))H[ne]=Q,H[ae]=le,ae=ne;else break e}}function o(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var Q=H[0],ae=H.pop();if(ae!==Q){H[0]=ae;e:for(var ne=0,le=H.length,N=le>>>1;ne<N;){var q=2*(ne+1)-1,K=H[q],W=q+1,ge=H[W];if(0>a(K,ae))W<le&&0>a(ge,K)?(H[ne]=ge,H[W]=ae,ne=W):(H[ne]=K,H[q]=ae,ne=q);else if(W<le&&0>a(ge,ae))H[ne]=ge,H[W]=ae,ne=W;else break e}}return Q}function a(H,Q){var ae=H.sortIndex-Q.sortIndex;return ae!==0?ae:H.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();n.unstable_now=function(){return h.now()-g}}var y=[],m=[],v=1,E=null,x=3,_=!1,R=!1,w=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(H){for(var Q=o(m);Q!==null;){if(Q.callback===null)s(m);else if(Q.startTime<=H)s(m),Q.sortIndex=Q.expirationTime,t(y,Q);else break;Q=o(m)}}function j(H){if(w=!1,X(H),!R)if(o(y)!==null)R=!0,P||(P=!0,ce());else{var Q=o(m);Q!==null&&Be(j,Q.startTime-H)}}var P=!1,G=-1,ue=5,ee=-1;function he(){return U?!0:!(n.unstable_now()-ee<ue)}function Se(){if(U=!1,P){var H=n.unstable_now();ee=H;var Q=!0;try{e:{R=!1,w&&(w=!1,F(G),G=-1),_=!0;var ae=x;try{t:{for(X(H),E=o(y);E!==null&&!(E.expirationTime>H&&he());){var ne=E.callback;if(typeof ne=="function"){E.callback=null,x=E.priorityLevel;var le=ne(E.expirationTime<=H);if(H=n.unstable_now(),typeof le=="function"){E.callback=le,X(H),Q=!0;break t}E===o(y)&&s(y),X(H)}else s(y);E=o(y)}if(E!==null)Q=!0;else{var N=o(m);N!==null&&Be(j,N.startTime-H),Q=!1}}break e}finally{E=null,x=ae,_=!1}Q=void 0}}finally{Q?ce():P=!1}}}var ce;if(typeof z=="function")ce=function(){z(Se)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ze=ke.port2;ke.port1.onmessage=Se,ce=function(){ze.postMessage(null)}}else ce=function(){L(Se,0)};function Be(H,Q){G=L(function(){H(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(H){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var ae=x;x=Q;try{return H()}finally{x=ae}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=x;x=H;try{return Q()}finally{x=ae}},n.unstable_scheduleCallback=function(H,Q,ae){var ne=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ne+ae:ne):ae=ne,H){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ae+le,H={id:v++,callback:Q,priorityLevel:H,startTime:ae,expirationTime:le,sortIndex:-1},ae>ne?(H.sortIndex=ae,t(m,H),o(y)===null&&H===o(m)&&(w?(F(G),G=-1):w=!0,Be(j,ae-ne))):(H.sortIndex=le,t(y,H),R||_||(R=!0,P||(P=!0,ce()))),H},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(H){var Q=x;return function(){var ae=x;x=Q;try{return H.apply(this,arguments)}finally{x=ae}}}})(Eu)),Eu}var cp;function Dv(){return cp||(cp=1,Su.exports=wv()),Su.exports}var xu={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function Iv(){if(fp)return ft;fp=1;var n=Fu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(y,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:y,containerInfo:m,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ft.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(y,m,null,v)},ft.flushSync=function(y){var m=h.T,v=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=m,s.p=v,s.d.f()}},ft.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},ft.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ft.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:_}):v==="script"&&s.d.X(y,{crossOrigin:E,integrity:x,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ft.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},ft.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ft.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},ft.requestFormReset=function(y){s.d.r(y)},ft.unstable_batchedUpdates=function(y,m){return y(m)},ft.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},ft.version="19.2.1",ft}var dp;function Uv(){if(dp)return xu.exports;dp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xu.exports=Iv(),xu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function kv(){if(hp)return yl;hp=1;var n=Dv(),t=Fu(),o=Uv();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,r=i;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(r=d.return,r!==null){l=r;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return y(d),e;if(p===r)return y(d),i;p=p.sibling}throw Error(s(188))}if(l.return!==r.return)l=d,r=p;else{for(var S=!1,C=d.child;C;){if(C===l){S=!0,l=d,r=p;break}if(C===r){S=!0,r=d,l=p;break}C=C.sibling}if(!S){for(C=p.child;C;){if(C===l){S=!0,l=p,r=d;break}if(C===r){S=!0,r=p,l=d;break}C=C.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==r)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function v(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=v(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case L:return"Profiler";case U:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case z:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case X:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return i=e.displayName||null,i!==null?i:ze(e.type)||"Memo";case ue:i=e._payload,e=e._init;try{return ze(e(i))}catch{}}return null}var Be=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ne=[],le=-1;function N(e){return{current:e}}function q(e){0>le||(e.current=ne[le],ne[le]=null,le--)}function K(e,i){le++,ne[le]=e.current,e.current=i}var W=N(null),ge=N(null),Te=N(null),Ne=N(null);function J(e,i){switch(K(Te,i),K(ge,e),K(W,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Rh(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Rh(i),e=Mh(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(W),K(W,e)}function ie(){q(W),q(ge),q(Te)}function ye(e){e.memoizedState!==null&&K(Ne,e);var i=W.current,l=Mh(i,e.type);i!==l&&(K(ge,e),K(W,l))}function We(e){ge.current===e&&(q(W),q(ge)),Ne.current===e&&(q(Ne),dl._currentValue=ae)}var pt,Wt;function Xt(e){if(pt===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);pt=i&&i[1]||"",Wt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+e+Wt}var oi=!1;function li(e,i){if(!e||oi)return"";oi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(O){var k=O}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(O){k=O}e.call(Y.prototype)}}else{try{throw Error()}catch(O){k=O}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(O){if(O&&k&&typeof O.stack=="string")return[O.stack,k.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),S=p[0],C=p[1];if(S&&C){var A=S.split(`
`),I=C.split(`
`);for(d=r=0;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(r===A.length||d===I.length)for(r=A.length-1,d=I.length-1;1<=r&&0<=d&&A[r]!==I[d];)d--;for(;1<=r&&0<=d;r--,d--)if(A[r]!==I[d]){if(r!==1||d!==1)do if(r--,d--,0>d||A[r]!==I[d]){var V=`
`+A[r].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=r&&0<=d);break}}}finally{oi=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Xt(l):""}function on(e,i){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==i&&i!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return li(e.type,!1);case 11:return li(e.type.render,!1);case 1:return li(e.type,!0);case 31:return Xt("Activity");default:return""}}function Ri(e){try{var i="",l=null;do i+=on(e,l),l=e,e=e.return;while(e);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var si=Object.prototype.hasOwnProperty,$=n.unstable_scheduleCallback,me=n.unstable_cancelCallback,de=n.unstable_shouldYield,mt=n.unstable_requestPaint,yt=n.unstable_now,or=n.unstable_getCurrentPriorityLevel,lc=n.unstable_ImmediatePriority,sc=n.unstable_UserBlockingPriority,xl=n.unstable_NormalPriority,r0=n.unstable_LowPriority,rc=n.unstable_IdlePriority,a0=n.log,u0=n.unstable_setDisableYieldValue,_o=null,At=null;function Nn(e){if(typeof a0=="function"&&u0(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(_o,e)}catch{}}var Nt=Math.clz32?Math.clz32:d0,c0=Math.log,f0=Math.LN2;function d0(e){return e>>>=0,e===0?32:31-(c0(e)/f0|0)|0}var Cl=256,_l=262144,Al=4194304;function ri(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nl(e,i,l){var r=e.pendingLanes;if(r===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var C=r&134217727;return C!==0?(r=C&~p,r!==0?d=ri(r):(S&=C,S!==0?d=ri(S):l||(l=C&~e,l!==0&&(d=ri(l))))):(C=r&~p,C!==0?d=ri(C):S!==0?d=ri(S):l||(l=r&~e,l!==0&&(d=ri(l)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,l=i&-i,p>=l||p===32&&(l&4194048)!==0)?i:d}function Ao(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function h0(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ac(){var e=Al;return Al<<=1,(Al&62914560)===0&&(Al=4194304),e}function lr(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function No(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function p0(e,i,l,r,d,p){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,A=e.expirationTimes,I=e.hiddenUpdates;for(l=S&~l;0<l;){var V=31-Nt(l),Y=1<<V;C[V]=0,A[V]=-1;var k=I[V];if(k!==null)for(I[V]=null,V=0;V<k.length;V++){var O=k[V];O!==null&&(O.lane&=-536870913)}l&=~Y}r!==0&&uc(e,r,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~i))}function uc(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var r=31-Nt(i);e.entangledLanes|=i,e.entanglements[r]=e.entanglements[r]|1073741824|l&261930}function cc(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var r=31-Nt(l),d=1<<r;d&i|e[r]&i&&(e[r]|=i),l&=~d}}function fc(e,i){var l=i&-i;return l=(l&42)!==0?1:sr(l),(l&(e.suspendedLanes|i))!==0?0:l}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function dc(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Wh(e.type))}function hc(e,i){var l=Q.p;try{return Q.p=e,i()}finally{Q.p=l}}var bn=Math.random().toString(36).slice(2),st="__reactFiber$"+bn,vt="__reactProps$"+bn,Mi="__reactContainer$"+bn,ar="__reactEvents$"+bn,m0="__reactListeners$"+bn,g0="__reactHandles$"+bn,pc="__reactResources$"+bn,bo="__reactMarker$"+bn;function ur(e){delete e[st],delete e[vt],delete e[ar],delete e[m0],delete e[g0]}function wi(e){var i=e[st];if(i)return i;for(var l=e.parentNode;l;){if(i=l[Mi]||l[st]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=Ph(e);e!==null;){if(l=e[st])return l;e=Ph(e)}return i}e=l,l=e.parentNode}return null}function Di(e){if(e=e[st]||e[Mi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Ro(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ii(e){var i=e[pc];return i||(i=e[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ot(e){e[bo]=!0}var mc=new Set,gc={};function ai(e,i){Ui(e,i),Ui(e+"Capture",i)}function Ui(e,i){for(gc[e]=i,e=0;e<i.length;e++)mc.add(i[e])}var y0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},vc={};function v0(e){return si.call(vc,e)?!0:si.call(yc,e)?!1:y0.test(e)?vc[e]=!0:(yc[e]=!0,!1)}function bl(e,i,l){if(v0(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function Rl(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function ln(e,i,l,r){if(r===null)e.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+r)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tc(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function T0(e,i,l){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,p=r.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,p.call(this,S)}}),Object.defineProperty(e,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function cr(e){if(!e._valueTracker){var i=Tc(e)?"checked":"value";e._valueTracker=T0(e,i,""+e[i])}}function Sc(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),r="";return e&&(r=Tc(e)?e.checked?"true":"false":e.value),e=r,e!==l?(i.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var S0=/[\n"\\]/g;function Lt(e){return e.replace(S0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fr(e,i,l,r,d,p,S,C){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+kt(i)):e.value!==""+kt(i)&&(e.value=""+kt(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?dr(e,S,kt(i)):l!=null?dr(e,S,kt(l)):r!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+kt(C):e.removeAttribute("name")}function Ec(e,i,l,r,d,p,S,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){cr(e);return}l=l!=null?""+kt(l):"",i=i!=null?""+kt(i):l,C||i===e.value||(e.value=i),e.defaultValue=i}r=r??d,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=C?e.checked:!!r,e.defaultChecked=!!r,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),cr(e)}function dr(e,i,l){i==="number"&&Ml(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ki(e,i,l,r){if(e=e.options,i){i={};for(var d=0;d<l.length;d++)i["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=i.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&r&&(e[l].defaultSelected=!0)}else{for(l=""+kt(l),i=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,r&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function xc(e,i,l){if(i!=null&&(i=""+kt(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+kt(l):""}function Cc(e,i,l,r){if(i==null){if(r!=null){if(l!=null)throw Error(s(92));if(Be(r)){if(1<r.length)throw Error(s(93));r=r[0]}l=r}l==null&&(l=""),i=l}l=kt(i),e.defaultValue=l,r=e.textContent,r===l&&r!==""&&r!==null&&(e.value=r),cr(e)}function Li(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var E0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(e,i,l){var r=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":r?e.setProperty(i,l):typeof l!="number"||l===0||E0.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function Ac(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var d in i)r=i[d],i.hasOwnProperty(d)&&l[d]!==r&&_c(e,d,r)}else for(var p in i)i.hasOwnProperty(p)&&_c(e,p,i[p])}function hr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(e){return C0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sn(){}var pr=null;function mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pi=null,Oi=null;function Nc(e){var i=Di(e);if(i&&(e=i.stateNode)){var l=e[vt]||null;e:switch(e=i.stateNode,i.type){case"input":if(fr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var r=l[i];if(r!==e&&r.form===e.form){var d=r[vt]||null;if(!d)throw Error(s(90));fr(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<l.length;i++)r=l[i],r.form===e.form&&Sc(r)}break e;case"textarea":xc(e,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ki(e,!!l.multiple,i,!1)}}}var gr=!1;function bc(e,i,l){if(gr)return e(i,l);gr=!0;try{var r=e(i);return r}finally{if(gr=!1,(Pi!==null||Oi!==null)&&(ys(),Pi&&(i=Pi,e=Oi,Oi=Pi=null,Nc(i),e)))for(i=0;i<e.length;i++)Nc(e[i])}}function Mo(e,i){var l=e.stateNode;if(l===null)return null;var r=l[vt]||null;if(r===null)return null;l=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(rn)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){yr=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{yr=!1}var Rn=null,vr=null,Dl=null;function Rc(){if(Dl)return Dl;var e,i=vr,l=i.length,r,d="value"in Rn?Rn.value:Rn.textContent,p=d.length;for(e=0;e<l&&i[e]===d[e];e++);var S=l-e;for(r=1;r<=S&&i[l-r]===d[p-r];r++);return Dl=d.slice(e,1<r?1-r:void 0)}function Il(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ul(){return!0}function Mc(){return!1}function Tt(e){function i(l,r,d,p,S){this._reactName=l,this._targetInst=d,this.type=r,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ul:Mc,this.isPropagationStopped=Mc,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),i}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Tt(ui),Do=E({},ui,{view:0,detail:0}),_0=Tt(Do),Tr,Sr,Io,Ll=E({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Io&&(Io&&e.type==="mousemove"?(Tr=e.screenX-Io.screenX,Sr=e.screenY-Io.screenY):Sr=Tr=0,Io=e),Tr)},movementY:function(e){return"movementY"in e?e.movementY:Sr}}),wc=Tt(Ll),A0=E({},Ll,{dataTransfer:0}),N0=Tt(A0),b0=E({},Do,{relatedTarget:0}),Er=Tt(b0),R0=E({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),M0=Tt(R0),w0=E({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=Tt(w0),I0=E({},ui,{data:0}),Dc=Tt(I0),U0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=L0[e])?!!i[e]:!1}function xr(){return P0}var O0=E({},Do,{key:function(e){if(e.key){var i=U0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return e.type==="keypress"?Il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H0=Tt(O0),G0=E({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=Tt(G0),q0=E({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),V0=Tt(q0),z0=E({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=Tt(z0),F0=E({},Ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=Tt(F0),J0=E({},ui,{newState:0,oldState:0}),X0=Tt(J0),K0=[9,13,27,32],Cr=rn&&"CompositionEvent"in window,Uo=null;rn&&"documentMode"in document&&(Uo=document.documentMode);var Q0=rn&&"TextEvent"in window&&!Uo,Uc=rn&&(!Cr||Uo&&8<Uo&&11>=Uo),kc=" ",Lc=!1;function Pc(e,i){switch(e){case"keyup":return K0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function Z0(e,i){switch(e){case"compositionend":return Oc(i);case"keypress":return i.which!==32?null:(Lc=!0,kc);case"textInput":return e=i.data,e===kc&&Lc?null:e;default:return null}}function $0(e,i){if(Hi)return e==="compositionend"||!Cr&&Pc(e,i)?(e=Rc(),Dl=vr=Rn=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Uc&&i.locale!=="ko"?null:i.data;default:return null}}var W0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!W0[e.type]:i==="textarea"}function Gc(e,i,l,r){Pi?Oi?Oi.push(r):Oi=[r]:Pi=r,i=_s(i,"onChange"),0<i.length&&(l=new kl("onChange","change",null,l,r),e.push({event:l,listeners:i}))}var ko=null,Lo=null;function j0(e){xh(e,0)}function Pl(e){var i=Ro(e);if(Sc(i))return e}function qc(e,i){if(e==="change")return i}var Vc=!1;if(rn){var _r;if(rn){var Ar="oninput"in document;if(!Ar){var zc=document.createElement("div");zc.setAttribute("oninput","return;"),Ar=typeof zc.oninput=="function"}_r=Ar}else _r=!1;Vc=_r&&(!document.documentMode||9<document.documentMode)}function Bc(){ko&&(ko.detachEvent("onpropertychange",Fc),Lo=ko=null)}function Fc(e){if(e.propertyName==="value"&&Pl(Lo)){var i=[];Gc(i,Lo,e,mr(e)),bc(j0,i)}}function ey(e,i,l){e==="focusin"?(Bc(),ko=i,Lo=l,ko.attachEvent("onpropertychange",Fc)):e==="focusout"&&Bc()}function ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(Lo)}function ny(e,i){if(e==="click")return Pl(i)}function iy(e,i){if(e==="input"||e==="change")return Pl(i)}function oy(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bt=typeof Object.is=="function"?Object.is:oy;function Po(e,i){if(bt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),r=Object.keys(i);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var d=l[r];if(!si.call(i,d)||!bt(e[d],i[d]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,i){var l=Yc(e);e=0;for(var r;l;){if(l.nodeType===3){if(r=e+l.textContent.length,e<=i&&r>=i)return{node:l,offset:i-e};e=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Yc(l)}}function Xc(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Xc(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Kc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ml(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=Ml(e.document)}return i}function Nr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ly=rn&&"documentMode"in document&&11>=document.documentMode,Gi=null,br=null,Oo=null,Rr=!1;function Qc(e,i,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rr||Gi==null||Gi!==Ml(r)||(r=Gi,"selectionStart"in r&&Nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oo&&Po(Oo,r)||(Oo=r,r=_s(br,"onSelect"),0<r.length&&(i=new kl("onSelect","select",null,i,l),e.push({event:i,listeners:r}),i.target=Gi)))}function ci(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var qi={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},Mr={},Zc={};rn&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function fi(e){if(Mr[e])return Mr[e];if(!qi[e])return e;var i=qi[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in Zc)return Mr[e]=i[l];return e}var $c=fi("animationend"),Wc=fi("animationiteration"),jc=fi("animationstart"),sy=fi("transitionrun"),ry=fi("transitionstart"),ay=fi("transitioncancel"),ef=fi("transitionend"),tf=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wr.push("scrollEnd");function Kt(e,i){tf.set(e,i),ai(i,[e])}var Ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pt=[],Vi=0,Dr=0;function Hl(){for(var e=Vi,i=Dr=Vi=0;i<e;){var l=Pt[i];Pt[i++]=null;var r=Pt[i];Pt[i++]=null;var d=Pt[i];Pt[i++]=null;var p=Pt[i];if(Pt[i++]=null,r!==null&&d!==null){var S=r.pending;S===null?d.next=d:(d.next=S.next,S.next=d),r.pending=d}p!==0&&nf(l,d,p)}}function Gl(e,i,l,r){Pt[Vi++]=e,Pt[Vi++]=i,Pt[Vi++]=l,Pt[Vi++]=r,Dr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Ir(e,i,l,r){return Gl(e,i,l,r),ql(e)}function di(e,i){return Gl(e,null,null,i),ql(e)}function nf(e,i,l){e.lanes|=l;var r=e.alternate;r!==null&&(r.lanes|=l);for(var d=!1,p=e.return;p!==null;)p.childLanes|=l,r=p.alternate,r!==null&&(r.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&i!==null&&(d=31-Nt(l),e=p.hiddenUpdates,r=e[d],r===null?e[d]=[i]:r.push(i),i.lane=l|536870912),p):null}function ql(e){if(50<ll)throw ll=0,Va=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var zi={};function uy(e,i,l,r){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,i,l,r){return new uy(e,i,l,r)}function Ur(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,i){var l=e.alternate;return l===null?(l=Rt(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function of(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Vl(e,i,l,r,d,p){var S=0;if(r=e,typeof e=="function")Ur(e)&&(S=1);else if(typeof e=="string")S=pv(e,l,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Rt(31,l,i,d),e.elementType=ee,e.lanes=p,e;case w:return hi(l.children,d,p,i);case U:S=8,d|=24;break;case L:return e=Rt(12,l,i,d|2),e.elementType=L,e.lanes=p,e;case j:return e=Rt(13,l,i,d),e.elementType=j,e.lanes=p,e;case P:return e=Rt(19,l,i,d),e.elementType=P,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:S=10;break e;case F:S=9;break e;case X:S=11;break e;case G:S=14;break e;case ue:S=16,r=null;break e}S=29,l=Error(s(130,e===null?"null":typeof e,"")),r=null}return i=Rt(S,l,i,d),i.elementType=e,i.type=r,i.lanes=p,i}function hi(e,i,l,r){return e=Rt(7,e,r,i),e.lanes=l,e}function kr(e,i,l){return e=Rt(6,e,null,i),e.lanes=l,e}function lf(e){var i=Rt(18,null,null,0);return i.stateNode=e,i}function Lr(e,i,l){return i=Rt(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var sf=new WeakMap;function Ot(e,i){if(typeof e=="object"&&e!==null){var l=sf.get(e);return l!==void 0?l:(i={value:e,source:i,stack:Ri(i)},sf.set(e,i),i)}return{value:e,source:i,stack:Ri(i)}}var Bi=[],Fi=0,zl=null,Ho=0,Ht=[],Gt=0,Mn=null,jt=1,en="";function un(e,i){Bi[Fi++]=Ho,Bi[Fi++]=zl,zl=e,Ho=i}function rf(e,i,l){Ht[Gt++]=jt,Ht[Gt++]=en,Ht[Gt++]=Mn,Mn=e;var r=jt;e=en;var d=32-Nt(r)-1;r&=~(1<<d),l+=1;var p=32-Nt(i)+d;if(30<p){var S=d-d%5;p=(r&(1<<S)-1).toString(32),r>>=S,d-=S,jt=1<<32-Nt(i)+d|l<<d|r,en=p+e}else jt=1<<p|l<<d|r,en=e}function Pr(e){e.return!==null&&(un(e,1),rf(e,1,0))}function Or(e){for(;e===zl;)zl=Bi[--Fi],Bi[Fi]=null,Ho=Bi[--Fi],Bi[Fi]=null;for(;e===Mn;)Mn=Ht[--Gt],Ht[Gt]=null,en=Ht[--Gt],Ht[Gt]=null,jt=Ht[--Gt],Ht[Gt]=null}function af(e,i){Ht[Gt++]=jt,Ht[Gt++]=en,Ht[Gt++]=Mn,jt=i.id,en=i.overflow,Mn=e}var rt=null,Fe=null,Me=!1,wn=null,qt=!1,Hr=Error(s(519));function Dn(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Ot(i,e)),Hr}function uf(e){var i=e.stateNode,l=e.type,r=e.memoizedProps;switch(i[st]=e,i[vt]=r,l){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(l=0;l<rl.length;l++)Ae(rl[l],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":Ae("invalid",i),Ec(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ae("invalid",i);break;case"textarea":Ae("invalid",i),Cc(i,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||r.suppressHydrationWarning===!0||Nh(i.textContent,l)?(r.popover!=null&&(Ae("beforetoggle",i),Ae("toggle",i)),r.onScroll!=null&&Ae("scroll",i),r.onScrollEnd!=null&&Ae("scrollend",i),r.onClick!=null&&(i.onclick=sn),i=!0):i=!1,i||Dn(e,!0)}function cf(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:rt=rt.return}}function Yi(e){if(e!==rt)return!1;if(!Me)return cf(e),Me=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||nu(e.type,e.memoizedProps)),l=!l),l&&Fe&&Dn(e),cf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Fe=Lh(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Fe=Lh(e)}else i===27?(i=Fe,Yn(e.type)?(e=ru,ru=null,Fe=e):Fe=i):Fe=rt?zt(e.stateNode.nextSibling):null;return!0}function pi(){Fe=rt=null,Me=!1}function Gr(){var e=wn;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),wn=null),e}function Go(e){wn===null?wn=[e]:wn.push(e)}var qr=N(null),mi=null,cn=null;function In(e,i,l){K(qr,i._currentValue),i._currentValue=l}function fn(e){e._currentValue=qr.current,q(qr)}function Vr(e,i,l){for(;e!==null;){var r=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),e===l)break;e=e.return}}function zr(e,i,l,r){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=d;for(var A=0;A<i.length;A++)if(C.context===i[A]){p.lanes|=l,C=p.alternate,C!==null&&(C.lanes|=l),Vr(p.return,l,e),r||(S=null);break e}p=C.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(s(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),Vr(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Ji(e,i,l,r){e=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var C=d.type;bt(d.pendingProps.value,S.value)||(e!==null?e.push(C):e=[C])}}else if(d===Ne.current){if(S=d.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}d=d.return}e!==null&&zr(i,e,l,r),i.flags|=262144}function Bl(e){for(e=e.firstContext;e!==null;){if(!bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gi(e){mi=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return ff(mi,e)}function Fl(e,i){return mi===null&&gi(e),ff(e,i)}function ff(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},cn===null){if(e===null)throw Error(s(308));cn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else cn=cn.next=i;return l}var cy=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,r){e.push(r)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},fy=n.unstable_scheduleCallback,dy=n.unstable_NormalPriority,je={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Br(){return{controller:new cy,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&fy(dy,function(){e.controller.abort()})}var Vo=null,Fr=0,Xi=0,Ki=null;function hy(e,i){if(Vo===null){var l=Vo=[];Fr=0,Xi=Xa(),Ki={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Fr++,i.then(df,df),i}function df(){if(--Fr===0&&Vo!==null){Ki!==null&&(Ki.status="fulfilled");var e=Vo;Vo=null,Xi=0,Ki=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function py(e,i){var l=[],r={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){r.status="fulfilled",r.value=i;for(var d=0;d<l.length;d++)(0,l[d])(i)},function(d){for(r.status="rejected",r.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),r}var hf=H.S;H.S=function(e,i){Zd=yt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&hy(e,i),hf!==null&&hf(e,i)};var yi=N(null);function Yr(){var e=yi.current;return e!==null?e:Ve.pooledCache}function Yl(e,i){i===null?K(yi,yi.current):K(yi,i.pool)}function pf(){var e=Yr();return e===null?null:{parent:je._currentValue,pool:e}}var Qi=Error(s(460)),Jr=Error(s(474)),Jl=Error(s(542)),Xl={then:function(){}};function mf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gf(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(sn,sn),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vf(e),e;default:if(typeof i.status=="string")i.then(sn,sn);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(r){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=r}},function(r){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vf(e),e}throw Ti=i,Qi}}function vi(e){try{var i=e._init;return i(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ti=l,Qi):l}}var Ti=null;function yf(){if(Ti===null)throw Error(s(459));var e=Ti;return Ti=null,e}function vf(e){if(e===Qi||e===Jl)throw Error(s(483))}var Zi=null,zo=0;function Kl(e){var i=zo;return zo+=1,Zi===null&&(Zi=[]),gf(Zi,e,i)}function Bo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ql(e,i){throw i.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Tf(e){function i(M,b){if(e){var D=M.deletions;D===null?(M.deletions=[b],M.flags|=16):D.push(b)}}function l(M,b){if(!e)return null;for(;b!==null;)i(M,b),b=b.sibling;return null}function r(M){for(var b=new Map;M!==null;)M.key!==null?b.set(M.key,M):b.set(M.index,M),M=M.sibling;return b}function d(M,b){return M=an(M,b),M.index=0,M.sibling=null,M}function p(M,b,D){return M.index=D,e?(D=M.alternate,D!==null?(D=D.index,D<b?(M.flags|=67108866,b):D):(M.flags|=67108866,b)):(M.flags|=1048576,b)}function S(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function C(M,b,D,B){return b===null||b.tag!==6?(b=kr(D,M.mode,B),b.return=M,b):(b=d(b,D),b.return=M,b)}function A(M,b,D,B){var fe=D.type;return fe===w?V(M,b,D.props.children,B,D.key):b!==null&&(b.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ue&&vi(fe)===b.type)?(b=d(b,D.props),Bo(b,D),b.return=M,b):(b=Vl(D.type,D.key,D.props,null,M.mode,B),Bo(b,D),b.return=M,b)}function I(M,b,D,B){return b===null||b.tag!==4||b.stateNode.containerInfo!==D.containerInfo||b.stateNode.implementation!==D.implementation?(b=Lr(D,M.mode,B),b.return=M,b):(b=d(b,D.children||[]),b.return=M,b)}function V(M,b,D,B,fe){return b===null||b.tag!==7?(b=hi(D,M.mode,B,fe),b.return=M,b):(b=d(b,D),b.return=M,b)}function Y(M,b,D){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=kr(""+b,M.mode,D),b.return=M,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _:return D=Vl(b.type,b.key,b.props,null,M.mode,D),Bo(D,b),D.return=M,D;case R:return b=Lr(b,M.mode,D),b.return=M,b;case ue:return b=vi(b),Y(M,b,D)}if(Be(b)||ce(b))return b=hi(b,M.mode,D,null),b.return=M,b;if(typeof b.then=="function")return Y(M,Kl(b),D);if(b.$$typeof===z)return Y(M,Fl(M,b),D);Ql(M,b)}return null}function k(M,b,D,B){var fe=b!==null?b.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return fe!==null?null:C(M,b,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===fe?A(M,b,D,B):null;case R:return D.key===fe?I(M,b,D,B):null;case ue:return D=vi(D),k(M,b,D,B)}if(Be(D)||ce(D))return fe!==null?null:V(M,b,D,B,null);if(typeof D.then=="function")return k(M,b,Kl(D),B);if(D.$$typeof===z)return k(M,b,Fl(M,D),B);Ql(M,D)}return null}function O(M,b,D,B,fe){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return M=M.get(D)||null,C(b,M,""+B,fe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return M=M.get(B.key===null?D:B.key)||null,A(b,M,B,fe);case R:return M=M.get(B.key===null?D:B.key)||null,I(b,M,B,fe);case ue:return B=vi(B),O(M,b,D,B,fe)}if(Be(B)||ce(B))return M=M.get(D)||null,V(b,M,B,fe,null);if(typeof B.then=="function")return O(M,b,D,Kl(B),fe);if(B.$$typeof===z)return O(M,b,D,Fl(b,B),fe);Ql(b,B)}return null}function oe(M,b,D,B){for(var fe=null,we=null,se=b,Ce=b=0,Re=null;se!==null&&Ce<D.length;Ce++){se.index>Ce?(Re=se,se=null):Re=se.sibling;var De=k(M,se,D[Ce],B);if(De===null){se===null&&(se=Re);break}e&&se&&De.alternate===null&&i(M,se),b=p(De,b,Ce),we===null?fe=De:we.sibling=De,we=De,se=Re}if(Ce===D.length)return l(M,se),Me&&un(M,Ce),fe;if(se===null){for(;Ce<D.length;Ce++)se=Y(M,D[Ce],B),se!==null&&(b=p(se,b,Ce),we===null?fe=se:we.sibling=se,we=se);return Me&&un(M,Ce),fe}for(se=r(se);Ce<D.length;Ce++)Re=O(se,M,Ce,D[Ce],B),Re!==null&&(e&&Re.alternate!==null&&se.delete(Re.key===null?Ce:Re.key),b=p(Re,b,Ce),we===null?fe=Re:we.sibling=Re,we=Re);return e&&se.forEach(function(Zn){return i(M,Zn)}),Me&&un(M,Ce),fe}function pe(M,b,D,B){if(D==null)throw Error(s(151));for(var fe=null,we=null,se=b,Ce=b=0,Re=null,De=D.next();se!==null&&!De.done;Ce++,De=D.next()){se.index>Ce?(Re=se,se=null):Re=se.sibling;var Zn=k(M,se,De.value,B);if(Zn===null){se===null&&(se=Re);break}e&&se&&Zn.alternate===null&&i(M,se),b=p(Zn,b,Ce),we===null?fe=Zn:we.sibling=Zn,we=Zn,se=Re}if(De.done)return l(M,se),Me&&un(M,Ce),fe;if(se===null){for(;!De.done;Ce++,De=D.next())De=Y(M,De.value,B),De!==null&&(b=p(De,b,Ce),we===null?fe=De:we.sibling=De,we=De);return Me&&un(M,Ce),fe}for(se=r(se);!De.done;Ce++,De=D.next())De=O(se,M,Ce,De.value,B),De!==null&&(e&&De.alternate!==null&&se.delete(De.key===null?Ce:De.key),b=p(De,b,Ce),we===null?fe=De:we.sibling=De,we=De);return e&&se.forEach(function(Av){return i(M,Av)}),Me&&un(M,Ce),fe}function Ge(M,b,D,B){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var fe=D.key;b!==null;){if(b.key===fe){if(fe=D.type,fe===w){if(b.tag===7){l(M,b.sibling),B=d(b,D.props.children),B.return=M,M=B;break e}}else if(b.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ue&&vi(fe)===b.type){l(M,b.sibling),B=d(b,D.props),Bo(B,D),B.return=M,M=B;break e}l(M,b);break}else i(M,b);b=b.sibling}D.type===w?(B=hi(D.props.children,M.mode,B,D.key),B.return=M,M=B):(B=Vl(D.type,D.key,D.props,null,M.mode,B),Bo(B,D),B.return=M,M=B)}return S(M);case R:e:{for(fe=D.key;b!==null;){if(b.key===fe)if(b.tag===4&&b.stateNode.containerInfo===D.containerInfo&&b.stateNode.implementation===D.implementation){l(M,b.sibling),B=d(b,D.children||[]),B.return=M,M=B;break e}else{l(M,b);break}else i(M,b);b=b.sibling}B=Lr(D,M.mode,B),B.return=M,M=B}return S(M);case ue:return D=vi(D),Ge(M,b,D,B)}if(Be(D))return oe(M,b,D,B);if(ce(D)){if(fe=ce(D),typeof fe!="function")throw Error(s(150));return D=fe.call(D),pe(M,b,D,B)}if(typeof D.then=="function")return Ge(M,b,Kl(D),B);if(D.$$typeof===z)return Ge(M,b,Fl(M,D),B);Ql(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,b!==null&&b.tag===6?(l(M,b.sibling),B=d(b,D),B.return=M,M=B):(l(M,b),B=kr(D,M.mode,B),B.return=M,M=B),S(M)):l(M,b)}return function(M,b,D,B){try{zo=0;var fe=Ge(M,b,D,B);return Zi=null,fe}catch(se){if(se===Qi||se===Jl)throw se;var we=Rt(29,se,null,M.mode);return we.lanes=B,we.return=M,we}finally{}}}var Si=Tf(!0),Sf=Tf(!1),Un=!1;function Xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kr(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,i,l){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var d=r.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i,i=ql(e),nf(e,null,l),i}return Gl(e,r,i,l),ql(e)}function Fo(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var r=i.lanes;r&=e.pendingLanes,l|=r,i.lanes=l,cc(e,l)}}function Qr(e,i){var l=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?d=p=i:p=p.next=i}else d=p=i;l={baseState:r.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var Zr=!1;function Yo(){if(Zr){var e=Ki;if(e!==null)throw e}}function Jo(e,i,l,r){Zr=!1;var d=e.updateQueue;Un=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var A=C,I=A.next;A.next=null,S===null?p=I:S.next=I,S=A;var V=e.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==S&&(C===null?V.firstBaseUpdate=I:C.next=I,V.lastBaseUpdate=A))}if(p!==null){var Y=d.baseState;S=0,V=I=A=null,C=p;do{var k=C.lane&-536870913,O=k!==C.lane;if(O?(be&k)===k:(r&k)===k){k!==0&&k===Xi&&(Zr=!0),V!==null&&(V=V.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var oe=e,pe=C;k=i;var Ge=l;switch(pe.tag){case 1:if(oe=pe.payload,typeof oe=="function"){Y=oe.call(Ge,Y,k);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=pe.payload,k=typeof oe=="function"?oe.call(Ge,Y,k):oe,k==null)break e;Y=E({},Y,k);break e;case 2:Un=!0}}k=C.callback,k!==null&&(e.flags|=64,O&&(e.flags|=8192),O=d.callbacks,O===null?d.callbacks=[k]:O.push(k))}else O={lane:k,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(I=V=O,A=Y):V=V.next=O,S|=k;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;O=C,C=O.next,O.next=null,d.lastBaseUpdate=O,d.shared.pending=null}}while(!0);V===null&&(A=Y),d.baseState=A,d.firstBaseUpdate=I,d.lastBaseUpdate=V,p===null&&(d.shared.lanes=0),qn|=S,e.lanes=S,e.memoizedState=Y}}function Ef(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function xf(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Ef(l[e],i)}var $i=N(null),Zl=N(0);function Cf(e,i){e=Sn,K(Zl,e),K($i,i),Sn=e|i.baseLanes}function $r(){K(Zl,Sn),K($i,$i.current)}function Wr(){Sn=Zl.current,q($i),q(Zl)}var Mt=N(null),Vt=null;function Pn(e){var i=e.alternate;K(Ze,Ze.current&1),K(Mt,e),Vt===null&&(i===null||$i.current!==null||i.memoizedState!==null)&&(Vt=e)}function jr(e){K(Ze,Ze.current),K(Mt,e),Vt===null&&(Vt=e)}function _f(e){e.tag===22?(K(Ze,Ze.current),K(Mt,e),Vt===null&&(Vt=e)):On()}function On(){K(Ze,Ze.current),K(Mt,Mt.current)}function wt(e){q(Mt),Vt===e&&(Vt=null),q(Ze)}var Ze=N(0);function $l(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||lu(l)||su(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var dn=0,Ee=null,Oe=null,et=null,Wl=!1,Wi=!1,Ei=!1,jl=0,Xo=0,ji=null,my=0;function Ke(){throw Error(s(321))}function ea(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!bt(e[l],i[l]))return!1;return!0}function ta(e,i,l,r,d,p){return dn=p,Ee=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?rd:ga,Ei=!1,p=l(r,d),Ei=!1,Wi&&(p=Nf(i,l,r,d)),Af(e),p}function Af(e){H.H=Zo;var i=Oe!==null&&Oe.next!==null;if(dn=0,et=Oe=Ee=null,Wl=!1,Xo=0,ji=null,i)throw Error(s(300));e===null||tt||(e=e.dependencies,e!==null&&Bl(e)&&(tt=!0))}function Nf(e,i,l,r){Ee=e;var d=0;do{if(Wi&&(ji=null),Xo=0,Wi=!1,25<=d)throw Error(s(301));if(d+=1,et=Oe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=ad,p=i(l,r)}while(Wi);return p}function gy(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Ko(i):i,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(Ee.flags|=1024),i}function na(){var e=jl!==0;return jl=0,e}function ia(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function oa(e){if(Wl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Wl=!1}dn=0,et=Oe=Ee=null,Wi=!1,Xo=jl=0,ji=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ee.memoizedState=et=e:et=et.next=e,et}function $e(){if(Oe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var i=et===null?Ee.memoizedState:et.next;if(i!==null)et=i,Oe=e;else{if(e===null)throw Ee.alternate===null?Error(s(467)):Error(s(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},et===null?Ee.memoizedState=et=e:et=et.next=e}return et}function es(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var i=Xo;return Xo+=1,ji===null&&(ji=[]),e=gf(ji,e,i),i=Ee,(et===null?i.memoizedState:et.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?rd:ga),e}function ts(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===z)return at(e)}throw Error(s(438,String(e)))}function la(e){var i=null,l=Ee.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var r=Ee.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=es(),Ee.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),r=0;r<e;r++)l[r]=he;return i.index++,l}function hn(e,i){return typeof i=="function"?i(e):i}function ns(e){var i=$e();return sa(i,Oe,e)}function sa(e,i,l){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=l;var d=e.baseQueue,p=r.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}i.baseQueue=d=p,r.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{i=d.next;var C=S=null,A=null,I=i,V=!1;do{var Y=I.lane&-536870913;if(Y!==I.lane?(be&Y)===Y:(dn&Y)===Y){var k=I.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Y===Xi&&(V=!0);else if((dn&k)===k){I=I.next,k===Xi&&(V=!0);continue}else Y={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(C=A=Y,S=p):A=A.next=Y,Ee.lanes|=k,qn|=k;Y=I.action,Ei&&l(p,Y),p=I.hasEagerState?I.eagerState:l(p,Y)}else k={lane:Y,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(C=A=k,S=p):A=A.next=k,Ee.lanes|=Y,qn|=Y;I=I.next}while(I!==null&&I!==i);if(A===null?S=p:A.next=C,!bt(p,e.memoizedState)&&(tt=!0,V&&(l=Ki,l!==null)))throw l;e.memoizedState=p,e.baseState=S,e.baseQueue=A,r.lastRenderedState=p}return d===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ra(e){var i=$e(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var r=l.dispatch,d=l.pending,p=i.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);bt(p,i.memoizedState)||(tt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),l.lastRenderedState=p}return[p,r]}function bf(e,i,l){var r=Ee,d=$e(),p=Me;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=i();var S=!bt((Oe||d).memoizedState,l);if(S&&(d.memoizedState=l,tt=!0),d=d.queue,ca(wf.bind(null,r,d,e),[e]),d.getSnapshot!==i||S||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,eo(9,{destroy:void 0},Mf.bind(null,r,d,l,i),null),Ve===null)throw Error(s(349));p||(dn&127)!==0||Rf(r,i,l)}return l}function Rf(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=Ee.updateQueue,i===null?(i=es(),Ee.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function Mf(e,i,l,r){i.value=l,i.getSnapshot=r,Df(i)&&If(e)}function wf(e,i,l){return l(function(){Df(i)&&If(e)})}function Df(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!bt(e,l)}catch{return!0}}function If(e){var i=di(e,2);i!==null&&_t(i,e,2)}function aa(e){var i=gt();if(typeof e=="function"){var l=e;if(e=l(),Ei){Nn(!0);try{l()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},i}function Uf(e,i,l,r){return e.baseState=l,sa(e,Oe,typeof r=="function"?r:hn)}function yy(e,i,l,r,d){if(ls(e))throw Error(s(485));if(e=i.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};H.T!==null?l(!0):p.isTransition=!1,r(p),l=i.pending,l===null?(p.next=i.pending=p,kf(i,p)):(p.next=l.next,i.pending=l.next=p)}}function kf(e,i){var l=i.action,r=i.payload,d=e.state;if(i.isTransition){var p=H.T,S={};H.T=S;try{var C=l(d,r),A=H.S;A!==null&&A(S,C),Lf(e,i,C)}catch(I){ua(e,i,I)}finally{p!==null&&S.types!==null&&(p.types=S.types),H.T=p}}else try{p=l(d,r),Lf(e,i,p)}catch(I){ua(e,i,I)}}function Lf(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){Pf(e,i,r)},function(r){return ua(e,i,r)}):Pf(e,i,l)}function Pf(e,i,l){i.status="fulfilled",i.value=l,Of(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,kf(e,l)))}function ua(e,i,l){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=l,Of(i),i=i.next;while(i!==r)}e.action=null}function Of(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hf(e,i){return i}function Gf(e,i){if(Me){var l=Ve.formState;if(l!==null){e:{var r=Ee;if(Me){if(Fe){t:{for(var d=Fe,p=qt;d.nodeType!==8;){if(!p){d=null;break t}if(d=zt(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Fe=zt(d.nextSibling),r=d.data==="F!";break e}}Dn(r)}r=!1}r&&(i=l[0])}}return l=gt(),l.memoizedState=l.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:i},l.queue=r,l=od.bind(null,Ee,r),r.dispatch=l,r=aa(!1),p=ma.bind(null,Ee,!1,r.queue),r=gt(),d={state:i,dispatch:null,action:e,pending:null},r.queue=d,l=yy.bind(null,Ee,d,p,l),d.dispatch=l,r.memoizedState=e,[i,l,!1]}function qf(e){var i=$e();return Vf(i,Oe,e)}function Vf(e,i,l){if(i=sa(e,i,Hf)[0],e=ns(hn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Ko(i)}catch(S){throw S===Qi?Jl:S}else r=i;i=$e();var d=i.queue,p=d.dispatch;return l!==i.memoizedState&&(Ee.flags|=2048,eo(9,{destroy:void 0},vy.bind(null,d,l),null)),[r,p,e]}function vy(e,i){e.action=i}function zf(e){var i=$e(),l=Oe;if(l!==null)return Vf(i,l,e);$e(),i=i.memoizedState,l=$e();var r=l.queue.dispatch;return l.memoizedState=e,[i,r,!1]}function eo(e,i,l,r){return e={tag:e,create:l,deps:r,inst:i,next:null},i=Ee.updateQueue,i===null&&(i=es(),Ee.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(r=l.next,l.next=e,e.next=r,i.lastEffect=e),e}function Bf(){return $e().memoizedState}function is(e,i,l,r){var d=gt();Ee.flags|=e,d.memoizedState=eo(1|i,{destroy:void 0},l,r===void 0?null:r)}function os(e,i,l,r){var d=$e();r=r===void 0?null:r;var p=d.memoizedState.inst;Oe!==null&&r!==null&&ea(r,Oe.memoizedState.deps)?d.memoizedState=eo(i,p,l,r):(Ee.flags|=e,d.memoizedState=eo(1|i,p,l,r))}function Ff(e,i){is(8390656,8,e,i)}function ca(e,i){os(2048,8,e,i)}function Ty(e){Ee.flags|=4;var i=Ee.updateQueue;if(i===null)i=es(),Ee.updateQueue=i,i.events=[e];else{var l=i.events;l===null?i.events=[e]:l.push(e)}}function Yf(e){var i=$e().memoizedState;return Ty({ref:i,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Jf(e,i){return os(4,2,e,i)}function Xf(e,i){return os(4,4,e,i)}function Kf(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Qf(e,i,l){l=l!=null?l.concat([e]):null,os(4,4,Kf.bind(null,i,e),l)}function fa(){}function Zf(e,i){var l=$e();i=i===void 0?null:i;var r=l.memoizedState;return i!==null&&ea(i,r[1])?r[0]:(l.memoizedState=[e,i],e)}function $f(e,i){var l=$e();i=i===void 0?null:i;var r=l.memoizedState;if(i!==null&&ea(i,r[1]))return r[0];if(r=e(),Ei){Nn(!0);try{e()}finally{Nn(!1)}}return l.memoizedState=[r,i],r}function da(e,i,l){return l===void 0||(dn&1073741824)!==0&&(be&261930)===0?e.memoizedState=i:(e.memoizedState=l,e=Wd(),Ee.lanes|=e,qn|=e,l)}function Wf(e,i,l,r){return bt(l,i)?l:$i.current!==null?(e=da(e,l,r),bt(e,i)||(tt=!0),e):(dn&42)===0||(dn&1073741824)!==0&&(be&261930)===0?(tt=!0,e.memoizedState=l):(e=Wd(),Ee.lanes|=e,qn|=e,i)}function jf(e,i,l,r,d){var p=Q.p;Q.p=p!==0&&8>p?p:8;var S=H.T,C={};H.T=C,ma(e,!1,i,l);try{var A=d(),I=H.S;if(I!==null&&I(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=py(A,r);Qo(e,i,V,Ut(e))}else Qo(e,i,r,Ut(e))}catch(Y){Qo(e,i,{then:function(){},status:"rejected",reason:Y},Ut())}finally{Q.p=p,S!==null&&C.types!==null&&(S.types=C.types),H.T=S}}function Sy(){}function ha(e,i,l,r){if(e.tag!==5)throw Error(s(476));var d=ed(e).queue;jf(e,d,i,ae,l===null?Sy:function(){return td(e),l(r)})}function ed(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:ae},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function td(e){var i=ed(e);i.next===null&&(i=e.alternate.memoizedState),Qo(e,i.next.queue,{},Ut())}function pa(){return at(dl)}function nd(){return $e().memoizedState}function id(){return $e().memoizedState}function Ey(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=Ut();e=kn(l);var r=Ln(i,e,l);r!==null&&(_t(r,i,l),Fo(r,i,l)),i={cache:Br()},e.payload=i;return}i=i.return}}function xy(e,i,l){var r=Ut();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ls(e)?ld(i,l):(l=Ir(e,i,l,r),l!==null&&(_t(l,e,r),sd(l,i,r)))}function od(e,i,l){var r=Ut();Qo(e,i,l,r)}function Qo(e,i,l,r){var d={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ls(e))ld(i,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var S=i.lastRenderedState,C=p(S,l);if(d.hasEagerState=!0,d.eagerState=C,bt(C,S))return Gl(e,i,d,0),Ve===null&&Hl(),!1}catch{}finally{}if(l=Ir(e,i,d,r),l!==null)return _t(l,e,r),sd(l,i,r),!0}return!1}function ma(e,i,l,r){if(r={lane:2,revertLane:Xa(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ls(e)){if(i)throw Error(s(479))}else i=Ir(e,l,r,2),i!==null&&_t(i,e,2)}function ls(e){var i=e.alternate;return e===Ee||i!==null&&i===Ee}function ld(e,i){Wi=Wl=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function sd(e,i,l){if((l&4194048)!==0){var r=i.lanes;r&=e.pendingLanes,l|=r,i.lanes=l,cc(e,l)}}var Zo={readContext:at,use:ts,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Zo.useEffectEvent=Ke;var rd={readContext:at,use:ts,useCallback:function(e,i){return gt().memoizedState=[e,i===void 0?null:i],e},useContext:at,useEffect:Ff,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,is(4194308,4,Kf.bind(null,i,e),l)},useLayoutEffect:function(e,i){return is(4194308,4,e,i)},useInsertionEffect:function(e,i){is(4,2,e,i)},useMemo:function(e,i){var l=gt();i=i===void 0?null:i;var r=e();if(Ei){Nn(!0);try{e()}finally{Nn(!1)}}return l.memoizedState=[r,i],r},useReducer:function(e,i,l){var r=gt();if(l!==void 0){var d=l(i);if(Ei){Nn(!0);try{l(i)}finally{Nn(!1)}}}else d=i;return r.memoizedState=r.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},r.queue=e,e=e.dispatch=xy.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var i=gt();return e={current:e},i.memoizedState=e},useState:function(e){e=aa(e);var i=e.queue,l=od.bind(null,Ee,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:fa,useDeferredValue:function(e,i){var l=gt();return da(l,e,i)},useTransition:function(){var e=aa(!1);return e=jf.bind(null,Ee,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var r=Ee,d=gt();if(Me){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Ve===null)throw Error(s(349));(be&127)!==0||Rf(r,i,l)}d.memoizedState=l;var p={value:l,getSnapshot:i};return d.queue=p,Ff(wf.bind(null,r,p,e),[e]),r.flags|=2048,eo(9,{destroy:void 0},Mf.bind(null,r,p,l,i),null),l},useId:function(){var e=gt(),i=Ve.identifierPrefix;if(Me){var l=en,r=jt;l=(r&~(1<<32-Nt(r)-1)).toString(32)+l,i="_"+i+"R_"+l,l=jl++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=my++,i="_"+i+"r_"+l.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:pa,useFormState:Gf,useActionState:Gf,useOptimistic:function(e){var i=gt();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=ma.bind(null,Ee,!0,l),l.dispatch=i,[e,i]},useMemoCache:la,useCacheRefresh:function(){return gt().memoizedState=Ey.bind(null,Ee)},useEffectEvent:function(e){var i=gt(),l={impl:e};return i.memoizedState=l,function(){if((Ue&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},ga={readContext:at,use:ts,useCallback:Zf,useContext:at,useEffect:ca,useImperativeHandle:Qf,useInsertionEffect:Jf,useLayoutEffect:Xf,useMemo:$f,useReducer:ns,useRef:Bf,useState:function(){return ns(hn)},useDebugValue:fa,useDeferredValue:function(e,i){var l=$e();return Wf(l,Oe.memoizedState,e,i)},useTransition:function(){var e=ns(hn)[0],i=$e().memoizedState;return[typeof e=="boolean"?e:Ko(e),i]},useSyncExternalStore:bf,useId:nd,useHostTransitionStatus:pa,useFormState:qf,useActionState:qf,useOptimistic:function(e,i){var l=$e();return Uf(l,Oe,e,i)},useMemoCache:la,useCacheRefresh:id};ga.useEffectEvent=Yf;var ad={readContext:at,use:ts,useCallback:Zf,useContext:at,useEffect:ca,useImperativeHandle:Qf,useInsertionEffect:Jf,useLayoutEffect:Xf,useMemo:$f,useReducer:ra,useRef:Bf,useState:function(){return ra(hn)},useDebugValue:fa,useDeferredValue:function(e,i){var l=$e();return Oe===null?da(l,e,i):Wf(l,Oe.memoizedState,e,i)},useTransition:function(){var e=ra(hn)[0],i=$e().memoizedState;return[typeof e=="boolean"?e:Ko(e),i]},useSyncExternalStore:bf,useId:nd,useHostTransitionStatus:pa,useFormState:zf,useActionState:zf,useOptimistic:function(e,i){var l=$e();return Oe!==null?Uf(l,Oe,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:la,useCacheRefresh:id};ad.useEffectEvent=Yf;function ya(e,i,l,r){i=e.memoizedState,l=l(r,i),l=l==null?i:E({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var va={enqueueSetState:function(e,i,l){e=e._reactInternals;var r=Ut(),d=kn(r);d.payload=i,l!=null&&(d.callback=l),i=Ln(e,d,r),i!==null&&(_t(i,e,r),Fo(i,e,r))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var r=Ut(),d=kn(r);d.tag=1,d.payload=i,l!=null&&(d.callback=l),i=Ln(e,d,r),i!==null&&(_t(i,e,r),Fo(i,e,r))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=Ut(),r=kn(l);r.tag=2,i!=null&&(r.callback=i),i=Ln(e,r,l),i!==null&&(_t(i,e,l),Fo(i,e,l))}};function ud(e,i,l,r,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,p,S):i.prototype&&i.prototype.isPureReactComponent?!Po(l,r)||!Po(d,p):!0}function cd(e,i,l,r){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,r),i.state!==e&&va.enqueueReplaceState(i,i.state,null)}function xi(e,i){var l=i;if("ref"in i){l={};for(var r in i)r!=="ref"&&(l[r]=i[r])}if(e=e.defaultProps){l===i&&(l=E({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function fd(e){Ol(e)}function dd(e){console.error(e)}function hd(e){Ol(e)}function ss(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function pd(e,i,l){try{var r=e.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ta(e,i,l){return l=kn(l),l.tag=3,l.payload={element:null},l.callback=function(){ss(e,i)},l}function md(e){return e=kn(e),e.tag=3,e}function gd(e,i,l,r){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var p=r.value;e.payload=function(){return d(p)},e.callback=function(){pd(i,l,r)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){pd(i,l,r),typeof d!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function Cy(e,i,l,r,d){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=l.alternate,i!==null&&Ji(i,l,d,!0),l=Mt.current,l!==null){switch(l.tag){case 31:case 13:return Vt===null?vs():l.alternate===null&&Qe===0&&(Qe=3),l.flags&=-257,l.flags|=65536,l.lanes=d,r===Xl?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([r]):i.add(r),Fa(e,r,d)),!1;case 22:return l.flags|=65536,r===Xl?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([r]):l.add(r)),Fa(e,r,d)),!1}throw Error(s(435,l.tag))}return Fa(e,r,d),vs(),!1}if(Me)return i=Mt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,r!==Hr&&(e=Error(s(422),{cause:r}),Go(Ot(e,l)))):(r!==Hr&&(i=Error(s(423),{cause:r}),Go(Ot(i,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,r=Ot(r,l),d=Ta(e.stateNode,r,d),Qr(e,d),Qe!==4&&(Qe=2)),!1;var p=Error(s(520),{cause:r});if(p=Ot(p,l),ol===null?ol=[p]:ol.push(p),Qe!==4&&(Qe=2),i===null)return!0;r=Ot(r,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=Ta(l.stateNode,r,e),Qr(l,e),!1;case 1:if(i=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Vn===null||!Vn.has(p))))return l.flags|=65536,d&=-d,l.lanes|=d,d=md(d),gd(d,e,l,r),Qr(l,d),!1}l=l.return}while(l!==null);return!1}var Sa=Error(s(461)),tt=!1;function ut(e,i,l,r){i.child=e===null?Sf(i,null,l,r):Si(i,e.child,l,r)}function yd(e,i,l,r,d){l=l.render;var p=i.ref;if("ref"in r){var S={};for(var C in r)C!=="ref"&&(S[C]=r[C])}else S=r;return gi(i),r=ta(e,i,l,S,p,d),C=na(),e!==null&&!tt?(ia(e,i,d),pn(e,i,d)):(Me&&C&&Pr(i),i.flags|=1,ut(e,i,r,d),i.child)}function vd(e,i,l,r,d){if(e===null){var p=l.type;return typeof p=="function"&&!Ur(p)&&p.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=p,Td(e,i,p,r,d)):(e=Vl(l.type,null,r,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!Ra(e,d)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:Po,l(S,r)&&e.ref===i.ref)return pn(e,i,d)}return i.flags|=1,e=an(p,r),e.ref=i.ref,e.return=i,i.child=e}function Td(e,i,l,r,d){if(e!==null){var p=e.memoizedProps;if(Po(p,r)&&e.ref===i.ref)if(tt=!1,i.pendingProps=r=p,Ra(e,d))(e.flags&131072)!==0&&(tt=!0);else return i.lanes=e.lanes,pn(e,i,d)}return Ea(e,i,l,r,d)}function Sd(e,i,l,r){var d=r.children,p=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(r=i.child=e.child,d=0;r!==null;)d=d|r.lanes|r.childLanes,r=r.sibling;r=d&~p}else r=0,i.child=null;return Ed(e,i,p,l,r)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yl(i,p!==null?p.cachePool:null),p!==null?Cf(i,p):$r(),_f(i);else return r=i.lanes=536870912,Ed(e,i,p!==null?p.baseLanes|l:l,l,r)}else p!==null?(Yl(i,p.cachePool),Cf(i,p),On(),i.memoizedState=null):(e!==null&&Yl(i,null),$r(),On());return ut(e,i,d,l),i.child}function $o(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ed(e,i,l,r,d){var p=Yr();return p=p===null?null:{parent:je._currentValue,pool:p},i.memoizedState={baseLanes:l,cachePool:p},e!==null&&Yl(i,null),$r(),_f(i),e!==null&&Ji(e,i,r,!0),i.childLanes=d,null}function rs(e,i){return i=us({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function xd(e,i,l){return Si(i,e.child,null,l),e=rs(i,i.pendingProps),e.flags|=2,wt(i),i.memoizedState=null,e}function _y(e,i,l){var r=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Me){if(r.mode==="hidden")return e=rs(i,r),i.lanes=536870912,$o(null,e);if(jr(i),(e=Fe)?(e=kh(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:jt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},l=lf(e),l.return=i,i.child=l,rt=i,Fe=null)):e=null,e===null)throw Dn(i);return i.lanes=536870912,null}return rs(i,r)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(jr(i),d)if(i.flags&256)i.flags&=-257,i=xd(e,i,l);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(tt||Ji(e,i,l,!1),d=(l&e.childLanes)!==0,tt||d){if(r=Ve,r!==null&&(S=fc(r,l),S!==0&&S!==p.retryLane))throw p.retryLane=S,di(e,S),_t(r,e,S),Sa;vs(),i=xd(e,i,l)}else e=p.treeContext,Fe=zt(S.nextSibling),rt=i,Me=!0,wn=null,qt=!1,e!==null&&af(i,e),i=rs(i,r),i.flags|=4096;return i}return e=an(e.child,{mode:r.mode,children:r.children}),e.ref=i.ref,i.child=e,e.return=i,e}function as(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function Ea(e,i,l,r,d){return gi(i),l=ta(e,i,l,r,void 0,d),r=na(),e!==null&&!tt?(ia(e,i,d),pn(e,i,d)):(Me&&r&&Pr(i),i.flags|=1,ut(e,i,l,d),i.child)}function Cd(e,i,l,r,d,p){return gi(i),i.updateQueue=null,l=Nf(i,r,l,d),Af(e),r=na(),e!==null&&!tt?(ia(e,i,p),pn(e,i,p)):(Me&&r&&Pr(i),i.flags|=1,ut(e,i,l,p),i.child)}function _d(e,i,l,r,d){if(gi(i),i.stateNode===null){var p=zi,S=l.contextType;typeof S=="object"&&S!==null&&(p=at(S)),p=new l(r,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=va,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=r,p.state=i.memoizedState,p.refs={},Xr(i),S=l.contextType,p.context=typeof S=="object"&&S!==null?at(S):zi,p.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ya(i,l,S,r),p.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&va.enqueueReplaceState(p,p.state,null),Jo(i,r,p,d),Yo(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(e===null){p=i.stateNode;var C=i.memoizedProps,A=xi(l,C);p.props=A;var I=p.context,V=l.contextType;S=zi,typeof V=="object"&&V!==null&&(S=at(V));var Y=l.getDerivedStateFromProps;V=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||I!==S)&&cd(i,p,r,S),Un=!1;var k=i.memoizedState;p.state=k,Jo(i,r,p,d),Yo(),I=i.memoizedState,C||k!==I||Un?(typeof Y=="function"&&(ya(i,l,Y,r),I=i.memoizedState),(A=Un||ud(i,l,A,r,k,I,S))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=I),p.props=r,p.state=I,p.context=S,r=A):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{p=i.stateNode,Kr(e,i),S=i.memoizedProps,V=xi(l,S),p.props=V,Y=i.pendingProps,k=p.context,I=l.contextType,A=zi,typeof I=="object"&&I!==null&&(A=at(I)),C=l.getDerivedStateFromProps,(I=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==Y||k!==A)&&cd(i,p,r,A),Un=!1,k=i.memoizedState,p.state=k,Jo(i,r,p,d),Yo();var O=i.memoizedState;S!==Y||k!==O||Un||e!==null&&e.dependencies!==null&&Bl(e.dependencies)?(typeof C=="function"&&(ya(i,l,C,r),O=i.memoizedState),(V=Un||ud(i,l,V,r,k,O,A)||e!==null&&e.dependencies!==null&&Bl(e.dependencies))?(I||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,O,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,O,A)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=O),p.props=r,p.state=O,p.context=A,r=V):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),r=!1)}return p=r,as(e,i),r=(i.flags&128)!==0,p||r?(p=i.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&r?(i.child=Si(i,e.child,null,d),i.child=Si(i,null,l,d)):ut(e,i,l,d),i.memoizedState=p.state,e=i.child):e=pn(e,i,d),e}function Ad(e,i,l,r){return pi(),i.flags|=256,ut(e,i,l,r),i.child}var xa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ca(e){return{baseLanes:e,cachePool:pf()}}function _a(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=It),e}function Nd(e,i,l){var r=i.pendingProps,d=!1,p=(i.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),S&&(d=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if(Me){if(d?Pn(i):On(),(e=Fe)?(e=kh(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:jt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},l=lf(e),l.return=i,i.child=l,rt=i,Fe=null)):e=null,e===null)throw Dn(i);return su(e)?i.lanes=32:i.lanes=536870912,null}var C=r.children;return r=r.fallback,d?(On(),d=i.mode,C=us({mode:"hidden",children:C},d),r=hi(r,d,l,null),C.return=i,r.return=i,C.sibling=r,i.child=C,r=i.child,r.memoizedState=Ca(l),r.childLanes=_a(e,S,l),i.memoizedState=xa,$o(null,r)):(Pn(i),Aa(i,C))}var A=e.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(p)i.flags&256?(Pn(i),i.flags&=-257,i=Na(e,i,l)):i.memoizedState!==null?(On(),i.child=e.child,i.flags|=128,i=null):(On(),C=r.fallback,d=i.mode,r=us({mode:"visible",children:r.children},d),C=hi(C,d,l,null),C.flags|=2,r.return=i,C.return=i,r.sibling=C,i.child=r,Si(i,e.child,null,l),r=i.child,r.memoizedState=Ca(l),r.childLanes=_a(e,S,l),i.memoizedState=xa,i=$o(null,r));else if(Pn(i),su(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var I=S.dgst;S=I,r=Error(s(419)),r.stack="",r.digest=S,Go({value:r,source:null,stack:null}),i=Na(e,i,l)}else if(tt||Ji(e,i,l,!1),S=(l&e.childLanes)!==0,tt||S){if(S=Ve,S!==null&&(r=fc(S,l),r!==0&&r!==A.retryLane))throw A.retryLane=r,di(e,r),_t(S,e,r),Sa;lu(C)||vs(),i=Na(e,i,l)}else lu(C)?(i.flags|=192,i.child=e.child,i=null):(e=A.treeContext,Fe=zt(C.nextSibling),rt=i,Me=!0,wn=null,qt=!1,e!==null&&af(i,e),i=Aa(i,r.children),i.flags|=4096);return i}return d?(On(),C=r.fallback,d=i.mode,A=e.child,I=A.sibling,r=an(A,{mode:"hidden",children:r.children}),r.subtreeFlags=A.subtreeFlags&65011712,I!==null?C=an(I,C):(C=hi(C,d,l,null),C.flags|=2),C.return=i,r.return=i,r.sibling=C,i.child=r,$o(null,r),r=i.child,C=e.child.memoizedState,C===null?C=Ca(l):(d=C.cachePool,d!==null?(A=je._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=pf(),C={baseLanes:C.baseLanes|l,cachePool:d}),r.memoizedState=C,r.childLanes=_a(e,S,l),i.memoizedState=xa,$o(e.child,r)):(Pn(i),l=e.child,e=l.sibling,l=an(l,{mode:"visible",children:r.children}),l.return=i,l.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=l,i.memoizedState=null,l)}function Aa(e,i){return i=us({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function us(e,i){return e=Rt(22,e,null,i),e.lanes=0,e}function Na(e,i,l){return Si(i,e.child,null,l),e=Aa(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function bd(e,i,l){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i),Vr(e.return,i,l)}function ba(e,i,l,r,d,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:d,treeForkCount:p}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=r,S.tail=l,S.tailMode=d,S.treeForkCount=p)}function Rd(e,i,l){var r=i.pendingProps,d=r.revealOrder,p=r.tail;r=r.children;var S=Ze.current,C=(S&2)!==0;if(C?(S=S&1|2,i.flags|=128):S&=1,K(Ze,S),ut(e,i,r,l),r=Me?Ho:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bd(e,l,i);else if(e.tag===19)bd(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=i.child,d=null;l!==null;)e=l.alternate,e!==null&&$l(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=i.child,i.child=null):(d=l.sibling,l.sibling=null),ba(i,!1,d,l,p,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&$l(e)===null){i.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}ba(i,!0,l,null,p,r);break;case"together":ba(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function pn(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),qn|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(Ji(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=an(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=an(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function Ra(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bl(e)))}function Ay(e,i,l){switch(i.tag){case 3:J(i,i.stateNode.containerInfo),In(i,je,e.memoizedState.cache),pi();break;case 27:case 5:ye(i);break;case 4:J(i,i.stateNode.containerInfo);break;case 10:In(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jr(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(Pn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Nd(e,i,l):(Pn(i),e=pn(e,i,l),e!==null?e.sibling:null);Pn(i);break;case 19:var d=(e.flags&128)!==0;if(r=(l&i.childLanes)!==0,r||(Ji(e,i,l,!1),r=(l&i.childLanes)!==0),d){if(r)return Rd(e,i,l);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(Ze,Ze.current),r)break;return null;case 22:return i.lanes=0,Sd(e,i,l,i.pendingProps);case 24:In(i,je,e.memoizedState.cache)}return pn(e,i,l)}function Md(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)tt=!0;else{if(!Ra(e,l)&&(i.flags&128)===0)return tt=!1,Ay(e,i,l);tt=(e.flags&131072)!==0}else tt=!1,Me&&(i.flags&1048576)!==0&&rf(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(e=vi(i.elementType),i.type=e,typeof e=="function")Ur(e)?(r=xi(e,r),i.tag=1,i=_d(null,i,e,r,l)):(i.tag=0,i=Ea(null,i,e,r,l));else{if(e!=null){var d=e.$$typeof;if(d===X){i.tag=11,i=yd(null,i,e,r,l);break e}else if(d===G){i.tag=14,i=vd(null,i,e,r,l);break e}}throw i=ze(e)||e,Error(s(306,i,""))}}return i;case 0:return Ea(e,i,i.type,i.pendingProps,l);case 1:return r=i.type,d=xi(r,i.pendingProps),_d(e,i,r,d,l);case 3:e:{if(J(i,i.stateNode.containerInfo),e===null)throw Error(s(387));r=i.pendingProps;var p=i.memoizedState;d=p.element,Kr(e,i),Jo(i,r,null,l);var S=i.memoizedState;if(r=S.cache,In(i,je,r),r!==p.cache&&zr(i,[je],l,!0),Yo(),r=S.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Ad(e,i,r,l);break e}else if(r!==d){d=Ot(Error(s(424)),i),Go(d),i=Ad(e,i,r,l);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=zt(e.firstChild),rt=i,Me=!0,wn=null,qt=!0,l=Sf(i,null,r,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(pi(),r===d){i=pn(e,i,l);break e}ut(e,i,r,l)}i=i.child}return i;case 26:return as(e,i),e===null?(l=qh(i.type,null,i.pendingProps,null))?i.memoizedState=l:Me||(l=i.type,e=i.pendingProps,r=As(Te.current).createElement(l),r[st]=i,r[vt]=e,ct(r,l,e),ot(r),i.stateNode=r):i.memoizedState=qh(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ye(i),e===null&&Me&&(r=i.stateNode=Oh(i.type,i.pendingProps,Te.current),rt=i,qt=!0,d=Fe,Yn(i.type)?(ru=d,Fe=zt(r.firstChild)):Fe=d),ut(e,i,i.pendingProps.children,l),as(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Me&&((d=r=Fe)&&(r=tv(r,i.type,i.pendingProps,qt),r!==null?(i.stateNode=r,rt=i,Fe=zt(r.firstChild),qt=!1,d=!0):d=!1),d||Dn(i)),ye(i),d=i.type,p=i.pendingProps,S=e!==null?e.memoizedProps:null,r=p.children,nu(d,p)?r=null:S!==null&&nu(d,S)&&(i.flags|=32),i.memoizedState!==null&&(d=ta(e,i,gy,null,null,l),dl._currentValue=d),as(e,i),ut(e,i,r,l),i.child;case 6:return e===null&&Me&&((e=l=Fe)&&(l=nv(l,i.pendingProps,qt),l!==null?(i.stateNode=l,rt=i,Fe=null,e=!0):e=!1),e||Dn(i)),null;case 13:return Nd(e,i,l);case 4:return J(i,i.stateNode.containerInfo),r=i.pendingProps,e===null?i.child=Si(i,null,r,l):ut(e,i,r,l),i.child;case 11:return yd(e,i,i.type,i.pendingProps,l);case 7:return ut(e,i,i.pendingProps,l),i.child;case 8:return ut(e,i,i.pendingProps.children,l),i.child;case 12:return ut(e,i,i.pendingProps.children,l),i.child;case 10:return r=i.pendingProps,In(i,i.type,r.value),ut(e,i,r.children,l),i.child;case 9:return d=i.type._context,r=i.pendingProps.children,gi(i),d=at(d),r=r(d),i.flags|=1,ut(e,i,r,l),i.child;case 14:return vd(e,i,i.type,i.pendingProps,l);case 15:return Td(e,i,i.type,i.pendingProps,l);case 19:return Rd(e,i,l);case 31:return _y(e,i,l);case 22:return Sd(e,i,l,i.pendingProps);case 24:return gi(i),r=at(je),e===null?(d=Yr(),d===null&&(d=Ve,p=Br(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=l),d=p),i.memoizedState={parent:r,cache:d},Xr(i),In(i,je,d)):((e.lanes&l)!==0&&(Kr(e,i),Jo(i,null,null,l),Yo()),d=e.memoizedState,p=i.memoizedState,d.parent!==r?(d={parent:r,cache:r},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),In(i,je,r)):(r=p.cache,In(i,je,r),r!==d.cache&&zr(i,[je],l,!0))),ut(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function mn(e){e.flags|=4}function Ma(e,i,l,r,d){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(nh())e.flags|=8192;else throw Ti=Xl,Jr}else e.flags&=-16777217}function wd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yh(i))if(nh())e.flags|=8192;else throw Ti=Xl,Jr}function cs(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ac():536870912,e.lanes|=i,oo|=i)}function Wo(e,i){if(!Me)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,r=0;if(i)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,r|=d.subtreeFlags&65011712,r|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,r|=d.subtreeFlags,r|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=r,e.childLanes=l,i}function Ny(e,i,l){var r=i.pendingProps;switch(Or(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(i),null;case 1:return Ye(i),null;case 3:return l=i.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),fn(je),ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Yi(i)?mn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gr())),Ye(i),null;case 26:var d=i.type,p=i.memoizedState;return e===null?(mn(i),p!==null?(Ye(i),wd(i,p)):(Ye(i),Ma(i,d,null,r,l))):p?p!==e.memoizedState?(mn(i),Ye(i),wd(i,p)):(Ye(i),i.flags&=-16777217):(e=e.memoizedProps,e!==r&&mn(i),Ye(i),Ma(i,d,e,r,l)),null;case 27:if(We(i),l=Te.current,d=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&mn(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Ye(i),null}e=W.current,Yi(i)?uf(i):(e=Oh(d,r,l),i.stateNode=e,mn(i))}return Ye(i),null;case 5:if(We(i),d=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&mn(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Ye(i),null}if(p=W.current,Yi(i))uf(i);else{var S=As(Te.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof r.is=="string"?S.createElement("select",{is:r.is}):S.createElement("select"),r.multiple?p.multiple=!0:r.size&&(p.size=r.size);break;default:p=typeof r.is=="string"?S.createElement(d,{is:r.is}):S.createElement(d)}}p[st]=i,p[vt]=r;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=p;e:switch(ct(p,d,r),d){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&mn(i)}}return Ye(i),Ma(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,l),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==r&&mn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(e=Te.current,Yi(i)){if(e=i.stateNode,l=i.memoizedProps,r=null,d=rt,d!==null)switch(d.tag){case 27:case 5:r=d.memoizedProps}e[st]=i,e=!!(e.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||Nh(e.nodeValue,l)),e||Dn(i,!0)}else e=As(e).createTextNode(r),e[st]=i,i.stateNode=e}return Ye(i),null;case 31:if(l=i.memoizedState,e===null||e.memoizedState!==null){if(r=Yi(i),l!==null){if(e===null){if(!r)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[st]=i}else pi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),e=!1}else l=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return i.flags&256?(wt(i),i):(wt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ye(i),null;case 13:if(r=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Yi(i),r!==null&&r.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[st]=i}else pi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),d=!1}else d=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(wt(i),i):(wt(i),null)}return wt(i),(i.flags&128)!==0?(i.lanes=l,i):(l=r!==null,e=e!==null&&e.memoizedState!==null,l&&(r=i.child,d=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(d=r.alternate.memoizedState.cachePool.pool),p=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==d&&(r.flags|=2048)),l!==e&&l&&(i.child.flags|=8192),cs(i,i.updateQueue),Ye(i),null);case 4:return ie(),e===null&&$a(i.stateNode.containerInfo),Ye(i),null;case 10:return fn(i.type),Ye(i),null;case 19:if(q(Ze),r=i.memoizedState,r===null)return Ye(i),null;if(d=(i.flags&128)!==0,p=r.rendering,p===null)if(d)Wo(r,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(p=$l(e),p!==null){for(i.flags|=128,Wo(r,!1),e=p.updateQueue,i.updateQueue=e,cs(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)of(l,e),l=l.sibling;return K(Ze,Ze.current&1|2),Me&&un(i,r.treeForkCount),i.child}e=e.sibling}r.tail!==null&&yt()>ms&&(i.flags|=128,d=!0,Wo(r,!1),i.lanes=4194304)}else{if(!d)if(e=$l(p),e!==null){if(i.flags|=128,d=!0,e=e.updateQueue,i.updateQueue=e,cs(i,e),Wo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!p.alternate&&!Me)return Ye(i),null}else 2*yt()-r.renderingStartTime>ms&&l!==536870912&&(i.flags|=128,d=!0,Wo(r,!1),i.lanes=4194304);r.isBackwards?(p.sibling=i.child,i.child=p):(e=r.last,e!==null?e.sibling=p:i.child=p,r.last=p)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=yt(),e.sibling=null,l=Ze.current,K(Ze,d?l&1|2:l&1),Me&&un(i,r.treeForkCount),e):(Ye(i),null);case 22:case 23:return wt(i),Wr(),r=i.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(l&536870912)!==0&&(i.flags&128)===0&&(Ye(i),i.subtreeFlags&6&&(i.flags|=8192)):Ye(i),l=i.updateQueue,l!==null&&cs(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(i.flags|=2048),e!==null&&q(yi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),fn(je),Ye(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function by(e,i){switch(Or(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return fn(je),ie(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return We(i),null;case 31:if(i.memoizedState!==null){if(wt(i),i.alternate===null)throw Error(s(340));pi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(wt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));pi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return q(Ze),null;case 4:return ie(),null;case 10:return fn(i.type),null;case 22:case 23:return wt(i),Wr(),e!==null&&q(yi),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return fn(je),null;case 25:return null;default:return null}}function Dd(e,i){switch(Or(i),i.tag){case 3:fn(je),ie();break;case 26:case 27:case 5:We(i);break;case 4:ie();break;case 31:i.memoizedState!==null&&wt(i);break;case 13:wt(i);break;case 19:q(Ze);break;case 10:fn(i.type);break;case 22:case 23:wt(i),Wr(),e!==null&&q(yi);break;case 24:fn(je)}}function jo(e,i){try{var l=i.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var d=r.next;l=d;do{if((l.tag&e)===e){r=void 0;var p=l.create,S=l.inst;r=p(),S.destroy=r}l=l.next}while(l!==d)}}catch(C){Pe(i,i.return,C)}}function Hn(e,i,l){try{var r=i.updateQueue,d=r!==null?r.lastEffect:null;if(d!==null){var p=d.next;r=p;do{if((r.tag&e)===e){var S=r.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,d=i;var A=l,I=C;try{I()}catch(V){Pe(d,A,V)}}}r=r.next}while(r!==p)}}catch(V){Pe(i,i.return,V)}}function Id(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{xf(i,l)}catch(r){Pe(e,e.return,r)}}}function Ud(e,i,l){l.props=xi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(r){Pe(e,i,r)}}function el(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof l=="function"?e.refCleanup=l(r):l.current=r}}catch(d){Pe(e,i,d)}}function tn(e,i){var l=e.ref,r=e.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(d){Pe(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Pe(e,i,d)}else l.current=null}function kd(e){var i=e.type,l=e.memoizedProps,r=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(d){Pe(e,e.return,d)}}function wa(e,i,l){try{var r=e.stateNode;Qy(r,e.type,l,i),r[vt]=i}catch(d){Pe(e,e.return,d)}}function Ld(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yn(e.type)||e.tag===4}function Da(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ia(e,i,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=sn));else if(r!==4&&(r===27&&Yn(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(Ia(e,i,l),e=e.sibling;e!==null;)Ia(e,i,l),e=e.sibling}function fs(e,i,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(r!==4&&(r===27&&Yn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(fs(e,i,l),e=e.sibling;e!==null;)fs(e,i,l),e=e.sibling}function Pd(e){var i=e.stateNode,l=e.memoizedProps;try{for(var r=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);ct(i,r,l),i[st]=e,i[vt]=l}catch(p){Pe(e,e.return,p)}}var gn=!1,nt=!1,Ua=!1,Od=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Ry(e,i){if(e=e.containerInfo,eu=Is,e=Kc(e),Nr(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var d=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var S=0,C=-1,A=-1,I=0,V=0,Y=e,k=null;t:for(;;){for(var O;Y!==l||d!==0&&Y.nodeType!==3||(C=S+d),Y!==p||r!==0&&Y.nodeType!==3||(A=S+r),Y.nodeType===3&&(S+=Y.nodeValue.length),(O=Y.firstChild)!==null;)k=Y,Y=O;for(;;){if(Y===e)break t;if(k===l&&++I===d&&(C=S),k===p&&++V===r&&(A=S),(O=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=O}l=C===-1||A===-1?null:{start:C,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(tu={focusedElem:e,selectionRange:l},Is=!1,lt=i;lt!==null;)if(i=lt,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,lt=e;else for(;lt!==null;){switch(i=lt,p=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=i,d=p.memoizedProps,p=p.memoizedState,r=l.stateNode;try{var oe=xi(l.type,d);e=r.getSnapshotBeforeUpdate(oe,p),r.__reactInternalSnapshotBeforeUpdate=e}catch(pe){Pe(l,l.return,pe)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)ou(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,lt=e;break}lt=i.return}}function Hd(e,i,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:vn(e,l),r&4&&jo(5,l);break;case 1:if(vn(e,l),r&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(S){Pe(l,l.return,S)}else{var d=xi(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(l,l.return,S)}}r&64&&Id(l),r&512&&el(l,l.return);break;case 3:if(vn(e,l),r&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{xf(e,i)}catch(S){Pe(l,l.return,S)}}break;case 27:i===null&&r&4&&Pd(l);case 26:case 5:vn(e,l),i===null&&r&4&&kd(l),r&512&&el(l,l.return);break;case 12:vn(e,l);break;case 31:vn(e,l),r&4&&Vd(e,l);break;case 13:vn(e,l),r&4&&zd(e,l),r&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Oy.bind(null,l),iv(e,l))));break;case 22:if(r=l.memoizedState!==null||gn,!r){i=i!==null&&i.memoizedState!==null||nt,d=gn;var p=nt;gn=r,(nt=i)&&!p?Tn(e,l,(l.subtreeFlags&8772)!==0):vn(e,l),gn=d,nt=p}break;case 30:break;default:vn(e,l)}}function Gd(e){var i=e.alternate;i!==null&&(e.alternate=null,Gd(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ur(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,St=!1;function yn(e,i,l){for(l=l.child;l!==null;)qd(e,i,l),l=l.sibling}function qd(e,i,l){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(_o,l)}catch{}switch(l.tag){case 26:nt||tn(l,i),yn(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nt||tn(l,i);var r=Xe,d=St;Yn(l.type)&&(Xe=l.stateNode,St=!1),yn(e,i,l),ul(l.stateNode),Xe=r,St=d;break;case 5:nt||tn(l,i);case 6:if(r=Xe,d=St,Xe=null,yn(e,i,l),Xe=r,St=d,Xe!==null)if(St)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(l.stateNode)}catch(p){Pe(l,i,p)}else try{Xe.removeChild(l.stateNode)}catch(p){Pe(l,i,p)}break;case 18:Xe!==null&&(St?(e=Xe,Ih(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ho(e)):Ih(Xe,l.stateNode));break;case 4:r=Xe,d=St,Xe=l.stateNode.containerInfo,St=!0,yn(e,i,l),Xe=r,St=d;break;case 0:case 11:case 14:case 15:Hn(2,l,i),nt||Hn(4,l,i),yn(e,i,l);break;case 1:nt||(tn(l,i),r=l.stateNode,typeof r.componentWillUnmount=="function"&&Ud(l,i,r)),yn(e,i,l);break;case 21:yn(e,i,l);break;case 22:nt=(r=nt)||l.memoizedState!==null,yn(e,i,l),nt=r;break;default:yn(e,i,l)}}function Vd(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ho(e)}catch(l){Pe(i,i.return,l)}}}function zd(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ho(e)}catch(l){Pe(i,i.return,l)}}function My(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Od),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Od),i;default:throw Error(s(435,e.tag))}}function ds(e,i){var l=My(e);i.forEach(function(r){if(!l.has(r)){l.add(r);var d=Hy.bind(null,e,r);r.then(d,d)}})}function Et(e,i){var l=i.deletions;if(l!==null)for(var r=0;r<l.length;r++){var d=l[r],p=e,S=i,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(Yn(C.type)){Xe=C.stateNode,St=!1;break e}break;case 5:Xe=C.stateNode,St=!1;break e;case 3:case 4:Xe=C.stateNode.containerInfo,St=!0;break e}C=C.return}if(Xe===null)throw Error(s(160));qd(p,S,d),Xe=null,St=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Bd(i,e),i=i.sibling}var Qt=null;function Bd(e,i){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(i,e),xt(e),r&4&&(Hn(3,e,e.return),jo(3,e),Hn(5,e,e.return));break;case 1:Et(i,e),xt(e),r&512&&(nt||l===null||tn(l,l.return)),r&64&&gn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var d=Qt;if(Et(i,e),xt(e),r&512&&(nt||l===null||tn(l,l.return)),r&4){var p=l!==null?l.memoizedState:null;if(r=e.memoizedState,l===null)if(r===null)if(e.stateNode===null){e:{r=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(r){case"title":p=d.getElementsByTagName("title")[0],(!p||p[bo]||p[st]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(r),d.head.insertBefore(p,d.querySelector("head > title"))),ct(p,r,l),p[st]=e,ot(p),r=p;break e;case"link":var S=Bh("link","href",d).get(r+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(p=S[C],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break t}}p=d.createElement(r),ct(p,r,l),d.head.appendChild(p);break;case"meta":if(S=Bh("meta","content",d).get(r+(l.content||""))){for(C=0;C<S.length;C++)if(p=S[C],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break t}}p=d.createElement(r),ct(p,r,l),d.head.appendChild(p);break;default:throw Error(s(468,r))}p[st]=e,ot(p),r=p}e.stateNode=r}else Fh(d,e.type,e.stateNode);else e.stateNode=zh(d,r,e.memoizedProps);else p!==r?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,r===null?Fh(d,e.type,e.stateNode):zh(d,r,e.memoizedProps)):r===null&&e.stateNode!==null&&wa(e,e.memoizedProps,l.memoizedProps)}break;case 27:Et(i,e),xt(e),r&512&&(nt||l===null||tn(l,l.return)),l!==null&&r&4&&wa(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Et(i,e),xt(e),r&512&&(nt||l===null||tn(l,l.return)),e.flags&32){d=e.stateNode;try{Li(d,"")}catch(oe){Pe(e,e.return,oe)}}r&4&&e.stateNode!=null&&(d=e.memoizedProps,wa(e,d,l!==null?l.memoizedProps:d)),r&1024&&(Ua=!0);break;case 6:if(Et(i,e),xt(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,l=e.stateNode;try{l.nodeValue=r}catch(oe){Pe(e,e.return,oe)}}break;case 3:if(Rs=null,d=Qt,Qt=Ns(i.containerInfo),Et(i,e),Qt=d,xt(e),r&4&&l!==null&&l.memoizedState.isDehydrated)try{ho(i.containerInfo)}catch(oe){Pe(e,e.return,oe)}Ua&&(Ua=!1,Fd(e));break;case 4:r=Qt,Qt=Ns(e.stateNode.containerInfo),Et(i,e),xt(e),Qt=r;break;case 12:Et(i,e),xt(e);break;case 31:Et(i,e),xt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ds(e,r)));break;case 13:Et(i,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ps=yt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ds(e,r)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,I=gn,V=nt;if(gn=I||d,nt=V||A,Et(i,e),nt=V,gn=I,xt(e),r&8192)e:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(l===null||A||gn||nt||Ci(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){A=l=i;try{if(p=A.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=A.stateNode;var Y=A.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;C.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(oe){Pe(A,A.return,oe)}}}else if(i.tag===6){if(l===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(oe){Pe(A,A.return,oe)}}}else if(i.tag===18){if(l===null){A=i;try{var O=A.stateNode;d?Uh(O,!0):Uh(A.stateNode,!1)}catch(oe){Pe(A,A.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=e.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,ds(e,l))));break;case 19:Et(i,e),xt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ds(e,r)));break;case 30:break;case 21:break;default:Et(i,e),xt(e)}}function xt(e){var i=e.flags;if(i&2){try{for(var l,r=e.return;r!==null;){if(Ld(r)){l=r;break}r=r.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var d=l.stateNode,p=Da(e);fs(e,p,d);break;case 5:var S=l.stateNode;l.flags&32&&(Li(S,""),l.flags&=-33);var C=Da(e);fs(e,C,S);break;case 3:case 4:var A=l.stateNode.containerInfo,I=Da(e);Ia(e,I,A);break;default:throw Error(s(161))}}catch(V){Pe(e,e.return,V)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Fd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function vn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hd(e,i.alternate,i),i=i.sibling}function Ci(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Hn(4,i,i.return),Ci(i);break;case 1:tn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ud(i,i.return,l),Ci(i);break;case 27:ul(i.stateNode);case 26:case 5:tn(i,i.return),Ci(i);break;case 22:i.memoizedState===null&&Ci(i);break;case 30:Ci(i);break;default:Ci(i)}e=e.sibling}}function Tn(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,d=e,p=i,S=p.flags;switch(p.tag){case 0:case 11:case 15:Tn(d,p,l),jo(4,p);break;case 1:if(Tn(d,p,l),r=p,d=r.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){Pe(r,r.return,I)}if(r=p,d=r.updateQueue,d!==null){var C=r.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Ef(A[d],C)}catch(I){Pe(r,r.return,I)}}l&&S&64&&Id(p),el(p,p.return);break;case 27:Pd(p);case 26:case 5:Tn(d,p,l),l&&r===null&&S&4&&kd(p),el(p,p.return);break;case 12:Tn(d,p,l);break;case 31:Tn(d,p,l),l&&S&4&&Vd(d,p);break;case 13:Tn(d,p,l),l&&S&4&&zd(d,p);break;case 22:p.memoizedState===null&&Tn(d,p,l),el(p,p.return);break;case 30:break;default:Tn(d,p,l)}i=i.sibling}}function ka(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&qo(l))}function La(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e))}function Zt(e,i,l,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yd(e,i,l,r),i=i.sibling}function Yd(e,i,l,r){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Zt(e,i,l,r),d&2048&&jo(9,i);break;case 1:Zt(e,i,l,r);break;case 3:Zt(e,i,l,r),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e)));break;case 12:if(d&2048){Zt(e,i,l,r),e=i.stateNode;try{var p=i.memoizedProps,S=p.id,C=p.onPostCommit;typeof C=="function"&&C(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Pe(i,i.return,A)}}else Zt(e,i,l,r);break;case 31:Zt(e,i,l,r);break;case 13:Zt(e,i,l,r);break;case 23:break;case 22:p=i.stateNode,S=i.alternate,i.memoizedState!==null?p._visibility&2?Zt(e,i,l,r):tl(e,i):p._visibility&2?Zt(e,i,l,r):(p._visibility|=2,to(e,i,l,r,(i.subtreeFlags&10256)!==0||!1)),d&2048&&ka(S,i);break;case 24:Zt(e,i,l,r),d&2048&&La(i.alternate,i);break;default:Zt(e,i,l,r)}}function to(e,i,l,r,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=e,S=i,C=l,A=r,I=S.flags;switch(S.tag){case 0:case 11:case 15:to(p,S,C,A,d),jo(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?to(p,S,C,A,d):tl(p,S):(V._visibility|=2,to(p,S,C,A,d)),d&&I&2048&&ka(S.alternate,S);break;case 24:to(p,S,C,A,d),d&&I&2048&&La(S.alternate,S);break;default:to(p,S,C,A,d)}i=i.sibling}}function tl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,r=i,d=r.flags;switch(r.tag){case 22:tl(l,r),d&2048&&ka(r.alternate,r);break;case 24:tl(l,r),d&2048&&La(r.alternate,r);break;default:tl(l,r)}i=i.sibling}}var nl=8192;function no(e,i,l){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)Jd(e,i,l),e=e.sibling}function Jd(e,i,l){switch(e.tag){case 26:no(e,i,l),e.flags&nl&&e.memoizedState!==null&&mv(l,Qt,e.memoizedState,e.memoizedProps);break;case 5:no(e,i,l);break;case 3:case 4:var r=Qt;Qt=Ns(e.stateNode.containerInfo),no(e,i,l),Qt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=nl,nl=16777216,no(e,i,l),nl=r):no(e,i,l));break;default:no(e,i,l)}}function Xd(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function il(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];lt=r,Qd(r,e)}Xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kd(e),e=e.sibling}function Kd(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,hs(e)):il(e);break;default:il(e)}}function hs(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];lt=r,Qd(r,e)}Xd(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Hn(8,i,i.return),hs(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,hs(i));break;default:hs(i)}e=e.sibling}}function Qd(e,i){for(;lt!==null;){var l=lt;switch(l.tag){case 0:case 11:case 15:Hn(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:qo(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,lt=r;else e:for(l=e;lt!==null;){r=lt;var d=r.sibling,p=r.return;if(Gd(r),r===l){lt=null;break e}if(d!==null){d.return=p,lt=d;break e}lt=p}}}var wy={getCacheForType:function(e){var i=at(je),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l},cacheSignal:function(){return at(je).controller.signal}},Dy=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ve=null,_e=null,be=0,Le=0,Dt=null,Gn=!1,io=!1,Pa=!1,Sn=0,Qe=0,qn=0,_i=0,Oa=0,It=0,oo=0,ol=null,Ct=null,Ha=!1,ps=0,Zd=0,ms=1/0,gs=null,Vn=null,it=0,zn=null,lo=null,En=0,Ga=0,qa=null,$d=null,ll=0,Va=null;function Ut(){return(Ue&2)!==0&&be!==0?be&-be:H.T!==null?Xa():dc()}function Wd(){if(It===0)if((be&536870912)===0||Me){var e=_l;_l<<=1,(_l&3932160)===0&&(_l=262144),It=e}else It=536870912;return e=Mt.current,e!==null&&(e.flags|=32),It}function _t(e,i,l){(e===Ve&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(so(e,0),Bn(e,be,It,!1)),No(e,l),((Ue&2)===0||e!==Ve)&&(e===Ve&&((Ue&2)===0&&(_i|=l),Qe===4&&Bn(e,be,It,!1)),nn(e))}function jd(e,i,l){if((Ue&6)!==0)throw Error(s(327));var r=!l&&(i&127)===0&&(i&e.expiredLanes)===0||Ao(e,i),d=r?ky(e,i):Ba(e,i,!0),p=r;do{if(d===0){io&&!r&&Bn(e,i,0,!1);break}else{if(l=e.current.alternate,p&&!Iy(l)){d=Ba(e,i,!1),p=!1;continue}if(d===2){if(p=i,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var C=e;d=ol;var A=C.current.memoizedState.isDehydrated;if(A&&(so(C,S).flags|=256),S=Ba(C,S,!1),S!==2){if(Pa&&!A){C.errorRecoveryDisabledLanes|=p,_i|=p,d=4;break e}p=Ct,Ct=d,p!==null&&(Ct===null?Ct=p:Ct.push.apply(Ct,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){so(e,0),Bn(e,i,0,!0);break}e:{switch(r=e,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Bn(r,i,It,!Gn);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=ps+300-yt(),10<d)){if(Bn(r,i,It,!Gn),Nl(r,0,!0)!==0)break e;En=i,r.timeoutHandle=wh(eh.bind(null,r,l,Ct,gs,Ha,i,It,_i,oo,Gn,p,"Throttled",-0,0),d);break e}eh(r,l,Ct,gs,Ha,i,It,_i,oo,Gn,p,null,-0,0)}}break}while(!0);nn(e)}function eh(e,i,l,r,d,p,S,C,A,I,V,Y,k,O){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Jd(i,p,Y);var oe=(p&62914560)===p?ps-yt():(p&4194048)===p?Zd-yt():0;if(oe=gv(Y,oe),oe!==null){En=p,e.cancelPendingCommit=oe(ah.bind(null,e,i,p,l,r,d,S,C,A,V,Y,null,k,O)),Bn(e,p,S,!I);return}}ah(e,i,p,l,r,d,S,C,A)}function Iy(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var d=l[r],p=d.getSnapshot;d=d.value;try{if(!bt(p(),d))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bn(e,i,l,r){i&=~Oa,i&=~_i,e.suspendedLanes|=i,e.pingedLanes&=~i,r&&(e.warmLanes|=i),r=e.expirationTimes;for(var d=i;0<d;){var p=31-Nt(d),S=1<<p;r[p]=-1,d&=~S}l!==0&&uc(e,l,i)}function ys(){return(Ue&6)===0?(sl(0),!1):!0}function za(){if(_e!==null){if(Le===0)var e=_e.return;else e=_e,cn=mi=null,oa(e),Zi=null,zo=0,e=_e;for(;e!==null;)Dd(e.alternate,e),e=e.return;_e=null}}function so(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Wy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),En=0,za(),Ve=e,_e=l=an(e.current,null),be=i,Le=0,Dt=null,Gn=!1,io=Ao(e,i),Pa=!1,oo=It=Oa=_i=qn=Qe=0,Ct=ol=null,Ha=!1,(i&8)!==0&&(i|=i&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=i;0<r;){var d=31-Nt(r),p=1<<d;i|=e[d],r&=~p}return Sn=i,Hl(),l}function th(e,i){Ee=null,H.H=Zo,i===Qi||i===Jl?(i=yf(),Le=3):i===Jr?(i=yf(),Le=4):Le=i===Sa?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dt=i,_e===null&&(Qe=1,ss(e,Ot(i,e.current)))}function nh(){var e=Mt.current;return e===null?!0:(be&4194048)===be?Vt===null:(be&62914560)===be||(be&536870912)!==0?e===Vt:!1}function ih(){var e=H.H;return H.H=Zo,e===null?Zo:e}function oh(){var e=H.A;return H.A=wy,e}function vs(){Qe=4,Gn||(be&4194048)!==be&&Mt.current!==null||(io=!0),(qn&134217727)===0&&(_i&134217727)===0||Ve===null||Bn(Ve,be,It,!1)}function Ba(e,i,l){var r=Ue;Ue|=2;var d=ih(),p=oh();(Ve!==e||be!==i)&&(gs=null,so(e,i)),i=!1;var S=Qe;e:do try{if(Le!==0&&_e!==null){var C=_e,A=Dt;switch(Le){case 8:za(),S=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(i=!0);var I=Le;if(Le=0,Dt=null,ro(e,C,A,I),l&&io){S=0;break e}break;default:I=Le,Le=0,Dt=null,ro(e,C,A,I)}}Uy(),S=Qe;break}catch(V){th(e,V)}while(!0);return i&&e.shellSuspendCounter++,cn=mi=null,Ue=r,H.H=d,H.A=p,_e===null&&(Ve=null,be=0,Hl()),S}function Uy(){for(;_e!==null;)lh(_e)}function ky(e,i){var l=Ue;Ue|=2;var r=ih(),d=oh();Ve!==e||be!==i?(gs=null,ms=yt()+500,so(e,i)):io=Ao(e,i);e:do try{if(Le!==0&&_e!==null){i=_e;var p=Dt;t:switch(Le){case 1:Le=0,Dt=null,ro(e,i,p,1);break;case 2:case 9:if(mf(p)){Le=0,Dt=null,sh(i);break}i=function(){Le!==2&&Le!==9||Ve!==e||(Le=7),nn(e)},p.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:mf(p)?(Le=0,Dt=null,sh(i)):(Le=0,Dt=null,ro(e,i,p,7));break;case 5:var S=null;switch(_e.tag){case 26:S=_e.memoizedState;case 5:case 27:var C=_e;if(S?Yh(S):C.stateNode.complete){Le=0,Dt=null;var A=C.sibling;if(A!==null)_e=A;else{var I=C.return;I!==null?(_e=I,Ts(I)):_e=null}break t}}Le=0,Dt=null,ro(e,i,p,5);break;case 6:Le=0,Dt=null,ro(e,i,p,6);break;case 8:za(),Qe=6;break e;default:throw Error(s(462))}}Ly();break}catch(V){th(e,V)}while(!0);return cn=mi=null,H.H=r,H.A=d,Ue=l,_e!==null?0:(Ve=null,be=0,Hl(),Qe)}function Ly(){for(;_e!==null&&!de();)lh(_e)}function lh(e){var i=Md(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,i===null?Ts(e):_e=i}function sh(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=Cd(l,i,i.pendingProps,i.type,void 0,be);break;case 11:i=Cd(l,i,i.pendingProps,i.type.render,i.ref,be);break;case 5:oa(i);default:Dd(l,i),i=_e=of(i,Sn),i=Md(l,i,Sn)}e.memoizedProps=e.pendingProps,i===null?Ts(e):_e=i}function ro(e,i,l,r){cn=mi=null,oa(i),Zi=null,zo=0;var d=i.return;try{if(Cy(e,d,i,l,be)){Qe=1,ss(e,Ot(l,e.current)),_e=null;return}}catch(p){if(d!==null)throw _e=d,p;Qe=1,ss(e,Ot(l,e.current)),_e=null;return}i.flags&32768?(Me||r===1?e=!0:io||(be&536870912)!==0?e=!1:(Gn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Mt.current,r!==null&&r.tag===13&&(r.flags|=16384))),rh(i,e)):Ts(i)}function Ts(e){var i=e;do{if((i.flags&32768)!==0){rh(i,Gn);return}e=i.return;var l=Ny(i.alternate,i,Sn);if(l!==null){_e=l;return}if(i=i.sibling,i!==null){_e=i;return}_e=i=e}while(i!==null);Qe===0&&(Qe=5)}function rh(e,i){do{var l=by(e.alternate,e);if(l!==null){l.flags&=32767,_e=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){_e=e;return}_e=e=l}while(e!==null);Qe=6,_e=null}function ah(e,i,l,r,d,p,S,C,A){e.cancelPendingCommit=null;do Ss();while(it!==0);if((Ue&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=Dr,p0(e,l,p,S,C,A),e===Ve&&(_e=Ve=null,be=0),lo=i,zn=e,En=l,Ga=p,qa=d,$d=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gy(xl,function(){return hh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,d=Q.p,Q.p=2,S=Ue,Ue|=4;try{Ry(e,i,l)}finally{Ue=S,Q.p=d,H.T=r}}it=1,uh(),ch(),fh()}}function uh(){if(it===1){it=0;var e=zn,i=lo,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var r=Q.p;Q.p=2;var d=Ue;Ue|=4;try{Bd(i,e);var p=tu,S=Kc(e.containerInfo),C=p.focusedElem,A=p.selectionRange;if(S!==C&&C&&C.ownerDocument&&Xc(C.ownerDocument.documentElement,C)){if(A!==null&&Nr(C)){var I=A.start,V=A.end;if(V===void 0&&(V=I),"selectionStart"in C)C.selectionStart=I,C.selectionEnd=Math.min(V,C.value.length);else{var Y=C.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var O=k.getSelection(),oe=C.textContent.length,pe=Math.min(A.start,oe),Ge=A.end===void 0?pe:Math.min(A.end,oe);!O.extend&&pe>Ge&&(S=Ge,Ge=pe,pe=S);var M=Jc(C,pe),b=Jc(C,Ge);if(M&&b&&(O.rangeCount!==1||O.anchorNode!==M.node||O.anchorOffset!==M.offset||O.focusNode!==b.node||O.focusOffset!==b.offset)){var D=Y.createRange();D.setStart(M.node,M.offset),O.removeAllRanges(),pe>Ge?(O.addRange(D),O.extend(b.node,b.offset)):(D.setEnd(b.node,b.offset),O.addRange(D))}}}}for(Y=[],O=C;O=O.parentNode;)O.nodeType===1&&Y.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Y.length;C++){var B=Y[C];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Is=!!eu,tu=eu=null}finally{Ue=d,Q.p=r,H.T=l}}e.current=i,it=2}}function ch(){if(it===2){it=0;var e=zn,i=lo,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var r=Q.p;Q.p=2;var d=Ue;Ue|=4;try{Hd(e,i.alternate,i)}finally{Ue=d,Q.p=r,H.T=l}}it=3}}function fh(){if(it===4||it===3){it=0,mt();var e=zn,i=lo,l=En,r=$d;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?it=5:(it=0,lo=zn=null,dh(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Vn=null),rr(l),i=i.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(_o,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=H.T,d=Q.p,Q.p=2,H.T=null;try{for(var p=e.onRecoverableError,S=0;S<r.length;S++){var C=r[S];p(C.value,{componentStack:C.stack})}}finally{H.T=i,Q.p=d}}(En&3)!==0&&Ss(),nn(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Va?ll++:(ll=0,Va=e):ll=0,sl(0)}}function dh(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,qo(i)))}function Ss(){return uh(),ch(),fh(),hh()}function hh(){if(it!==5)return!1;var e=zn,i=Ga;Ga=0;var l=rr(En),r=H.T,d=Q.p;try{Q.p=32>l?32:l,H.T=null,l=qa,qa=null;var p=zn,S=En;if(it=0,lo=zn=null,En=0,(Ue&6)!==0)throw Error(s(331));var C=Ue;if(Ue|=4,Kd(p.current),Yd(p,p.current,S,l),Ue=C,sl(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(_o,p)}catch{}return!0}finally{Q.p=d,H.T=r,dh(e,i)}}function ph(e,i,l){i=Ot(l,i),i=Ta(e.stateNode,i,2),e=Ln(e,i,2),e!==null&&(No(e,2),nn(e))}function Pe(e,i,l){if(e.tag===3)ph(e,e,l);else for(;i!==null;){if(i.tag===3){ph(i,e,l);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vn===null||!Vn.has(r))){e=Ot(l,e),l=md(2),r=Ln(i,l,2),r!==null&&(gd(l,r,i,e),No(r,2),nn(r));break}}i=i.return}}function Fa(e,i,l){var r=e.pingCache;if(r===null){r=e.pingCache=new Dy;var d=new Set;r.set(i,d)}else d=r.get(i),d===void 0&&(d=new Set,r.set(i,d));d.has(l)||(Pa=!0,d.add(l),e=Py.bind(null,e,i,l),i.then(e,e))}function Py(e,i,l){var r=e.pingCache;r!==null&&r.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ve===e&&(be&l)===l&&(Qe===4||Qe===3&&(be&62914560)===be&&300>yt()-ps?(Ue&2)===0&&so(e,0):Oa|=l,oo===be&&(oo=0)),nn(e)}function mh(e,i){i===0&&(i=ac()),e=di(e,i),e!==null&&(No(e,i),nn(e))}function Oy(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),mh(e,l)}function Hy(e,i){var l=0;switch(e.tag){case 31:case 13:var r=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),mh(e,l)}function Gy(e,i){return $(e,i)}var Es=null,ao=null,Ya=!1,xs=!1,Ja=!1,Fn=0;function nn(e){e!==ao&&e.next===null&&(ao===null?Es=ao=e:ao=ao.next=e),xs=!0,Ya||(Ya=!0,Vy())}function sl(e,i){if(!Ja&&xs){Ja=!0;do for(var l=!1,r=Es;r!==null;){if(e!==0){var d=r.pendingLanes;if(d===0)var p=0;else{var S=r.suspendedLanes,C=r.pingedLanes;p=(1<<31-Nt(42|e)+1)-1,p&=d&~(S&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Th(r,p))}else p=be,p=Nl(r,r===Ve?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||Ao(r,p)||(l=!0,Th(r,p));r=r.next}while(l);Ja=!1}}function qy(){gh()}function gh(){xs=Ya=!1;var e=0;Fn!==0&&$y()&&(e=Fn);for(var i=yt(),l=null,r=Es;r!==null;){var d=r.next,p=yh(r,i);p===0?(r.next=null,l===null?Es=d:l.next=d,d===null&&(ao=l)):(l=r,(e!==0||(p&3)!==0)&&(xs=!0)),r=d}it!==0&&it!==5||sl(e),Fn!==0&&(Fn=0)}function yh(e,i){for(var l=e.suspendedLanes,r=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-Nt(p),C=1<<S,A=d[S];A===-1?((C&l)===0||(C&r)!==0)&&(d[S]=h0(C,i)):A<=i&&(e.expiredLanes|=C),p&=~C}if(i=Ve,l=be,l=Nl(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,l===0||e===i&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&me(r),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ao(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(r!==null&&me(r),rr(l)){case 2:case 8:l=sc;break;case 32:l=xl;break;case 268435456:l=rc;break;default:l=xl}return r=vh.bind(null,e),l=$(l,r),e.callbackPriority=i,e.callbackNode=l,i}return r!==null&&r!==null&&me(r),e.callbackPriority=2,e.callbackNode=null,2}function vh(e,i){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ss()&&e.callbackNode!==l)return null;var r=be;return r=Nl(e,e===Ve?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(jd(e,r,i),yh(e,yt()),e.callbackNode!=null&&e.callbackNode===l?vh.bind(null,e):null)}function Th(e,i){if(Ss())return null;jd(e,i,!0)}function Vy(){jy(function(){(Ue&6)!==0?$(lc,qy):gh()})}function Xa(){if(Fn===0){var e=Xi;e===0&&(e=Cl,Cl<<=1,(Cl&261888)===0&&(Cl=256)),Fn=e}return Fn}function Sh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wl(""+e)}function Eh(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function zy(e,i,l,r,d){if(i==="submit"&&l&&l.stateNode===d){var p=Sh((d[vt]||null).action),S=r.submitter;S&&(i=(i=S[vt]||null)?Sh(i.formAction):S.getAttribute("formAction"),i!==null&&(p=i,S=null));var C=new kl("action","action",null,r,d);e.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Fn!==0){var A=S?Eh(d,S):new FormData(d);ha(l,{pending:!0,data:A,method:d.method,action:p},null,A)}}else typeof p=="function"&&(C.preventDefault(),A=S?Eh(d,S):new FormData(d),ha(l,{pending:!0,data:A,method:d.method,action:p},p,A))},currentTarget:d}]})}}for(var Ka=0;Ka<wr.length;Ka++){var Qa=wr[Ka],By=Qa.toLowerCase(),Fy=Qa[0].toUpperCase()+Qa.slice(1);Kt(By,"on"+Fy)}Kt($c,"onAnimationEnd"),Kt(Wc,"onAnimationIteration"),Kt(jc,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(sy,"onTransitionRun"),Kt(ry,"onTransitionStart"),Kt(ay,"onTransitionCancel"),Kt(ef,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function xh(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var r=e[l],d=r.event;r=r.listeners;e:{var p=void 0;if(i)for(var S=r.length-1;0<=S;S--){var C=r[S],A=C.instance,I=C.currentTarget;if(C=C.listener,A!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=I;try{p(d)}catch(V){Ol(V)}d.currentTarget=null,p=A}else for(S=0;S<r.length;S++){if(C=r[S],A=C.instance,I=C.currentTarget,C=C.listener,A!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=I;try{p(d)}catch(V){Ol(V)}d.currentTarget=null,p=A}}}}function Ae(e,i){var l=i[ar];l===void 0&&(l=i[ar]=new Set);var r=e+"__bubble";l.has(r)||(Ch(i,e,2,!1),l.add(r))}function Za(e,i,l){var r=0;i&&(r|=4),Ch(l,e,r,i)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[Cs]){e[Cs]=!0,mc.forEach(function(l){l!=="selectionchange"&&(Yy.has(l)||Za(l,!1,e),Za(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Cs]||(i[Cs]=!0,Za("selectionchange",!1,i))}}function Ch(e,i,l,r){switch(Wh(i)){case 2:var d=Tv;break;case 8:d=Sv;break;default:d=du}l=d.bind(null,i,l,e),d=void 0,!yr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),r?d!==void 0?e.addEventListener(i,l,{capture:!0,passive:d}):e.addEventListener(i,l,!0):d!==void 0?e.addEventListener(i,l,{passive:d}):e.addEventListener(i,l,!1)}function Wa(e,i,l,r,d){var p=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var S=r.tag;if(S===3||S===4){var C=r.stateNode.containerInfo;if(C===d)break;if(S===4)for(S=r.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;C!==null;){if(S=wi(C),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){r=p=S;continue e}C=C.parentNode}}r=r.return}bc(function(){var I=p,V=mr(l),Y=[];e:{var k=tf.get(e);if(k!==void 0){var O=kl,oe=e;switch(e){case"keypress":if(Il(l)===0)break e;case"keydown":case"keyup":O=H0;break;case"focusin":oe="focus",O=Er;break;case"focusout":oe="blur",O=Er;break;case"beforeblur":case"afterblur":O=Er;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=N0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=V0;break;case $c:case Wc:case jc:O=M0;break;case ef:O=B0;break;case"scroll":case"scrollend":O=_0;break;case"wheel":O=Y0;break;case"copy":case"cut":case"paste":O=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Ic;break;case"toggle":case"beforetoggle":O=X0}var pe=(i&4)!==0,Ge=!pe&&(e==="scroll"||e==="scrollend"),M=pe?k!==null?k+"Capture":null:k;pe=[];for(var b=I,D;b!==null;){var B=b;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||M===null||(B=Mo(b,M),B!=null&&pe.push(al(b,B,D))),Ge)break;b=b.return}0<pe.length&&(k=new O(k,oe,null,l,V),Y.push({event:k,listeners:pe}))}}if((i&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",k&&l!==pr&&(oe=l.relatedTarget||l.fromElement)&&(wi(oe)||oe[Mi]))break e;if((O||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,O?(oe=l.relatedTarget||l.toElement,O=I,oe=oe?wi(oe):null,oe!==null&&(Ge=c(oe),pe=oe.tag,oe!==Ge||pe!==5&&pe!==27&&pe!==6)&&(oe=null)):(O=null,oe=I),O!==oe)){if(pe=wc,B="onMouseLeave",M="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Ic,B="onPointerLeave",M="onPointerEnter",b="pointer"),Ge=O==null?k:Ro(O),D=oe==null?k:Ro(oe),k=new pe(B,b+"leave",O,l,V),k.target=Ge,k.relatedTarget=D,B=null,wi(V)===I&&(pe=new pe(M,b+"enter",oe,l,V),pe.target=D,pe.relatedTarget=Ge,B=pe),Ge=B,O&&oe)t:{for(pe=Jy,M=O,b=oe,D=0,B=M;B;B=pe(B))D++;B=0;for(var fe=b;fe;fe=pe(fe))B++;for(;0<D-B;)M=pe(M),D--;for(;0<B-D;)b=pe(b),B--;for(;D--;){if(M===b||b!==null&&M===b.alternate){pe=M;break t}M=pe(M),b=pe(b)}pe=null}else pe=null;O!==null&&_h(Y,k,O,pe,!1),oe!==null&&Ge!==null&&_h(Y,Ge,oe,pe,!0)}}e:{if(k=I?Ro(I):window,O=k.nodeName&&k.nodeName.toLowerCase(),O==="select"||O==="input"&&k.type==="file")var we=qc;else if(Hc(k))if(Vc)we=iy;else{we=ty;var se=ey}else O=k.nodeName,!O||O.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?I&&hr(I.elementType)&&(we=qc):we=ny;if(we&&(we=we(e,I))){Gc(Y,we,l,V);break e}se&&se(e,k,I),e==="focusout"&&I&&k.type==="number"&&I.memoizedProps.value!=null&&dr(k,"number",k.value)}switch(se=I?Ro(I):window,e){case"focusin":(Hc(se)||se.contentEditable==="true")&&(Gi=se,br=I,Oo=null);break;case"focusout":Oo=br=Gi=null;break;case"mousedown":Rr=!0;break;case"contextmenu":case"mouseup":case"dragend":Rr=!1,Qc(Y,l,V);break;case"selectionchange":if(ly)break;case"keydown":case"keyup":Qc(Y,l,V)}var Ce;if(Cr)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Hi?Pc(e,l)&&(Re="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Uc&&l.locale!=="ko"&&(Hi||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Hi&&(Ce=Rc()):(Rn=V,vr="value"in Rn?Rn.value:Rn.textContent,Hi=!0)),se=_s(I,Re),0<se.length&&(Re=new Dc(Re,e,null,l,V),Y.push({event:Re,listeners:se}),Ce?Re.data=Ce:(Ce=Oc(l),Ce!==null&&(Re.data=Ce)))),(Ce=Q0?Z0(e,l):$0(e,l))&&(Re=_s(I,"onBeforeInput"),0<Re.length&&(se=new Dc("onBeforeInput","beforeinput",null,l,V),Y.push({event:se,listeners:Re}),se.data=Ce)),zy(Y,e,I,l,V)}xh(Y,i)})}function al(e,i,l){return{instance:e,listener:i,currentTarget:l}}function _s(e,i){for(var l=i+"Capture",r=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Mo(e,l),d!=null&&r.unshift(al(e,d,p)),d=Mo(e,i),d!=null&&r.push(al(e,d,p))),e.tag===3)return r;e=e.return}return[]}function Jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _h(e,i,l,r,d){for(var p=i._reactName,S=[];l!==null&&l!==r;){var C=l,A=C.alternate,I=C.stateNode;if(C=C.tag,A!==null&&A===r)break;C!==5&&C!==26&&C!==27||I===null||(A=I,d?(I=Mo(l,p),I!=null&&S.unshift(al(l,I,A))):d||(I=Mo(l,p),I!=null&&S.push(al(l,I,A)))),l=l.return}S.length!==0&&e.push({event:i,listeners:S})}var Xy=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function Ah(e){return(typeof e=="string"?e:""+e).replace(Xy,`
`).replace(Ky,"")}function Nh(e,i){return i=Ah(i),Ah(e)===i}function He(e,i,l,r,d,p){switch(l){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Li(e,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Li(e,""+r);break;case"className":Rl(e,"class",r);break;case"tabIndex":Rl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(e,l,r);break;case"style":Ac(e,r,p);break;case"data":if(i!=="object"){Rl(e,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=wl(""+r),e.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(i!=="input"&&He(e,i,"name",d.name,d,null),He(e,i,"formEncType",d.formEncType,d,null),He(e,i,"formMethod",d.formMethod,d,null),He(e,i,"formTarget",d.formTarget,d,null)):(He(e,i,"encType",d.encType,d,null),He(e,i,"method",d.method,d,null),He(e,i,"target",d.target,d,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=wl(""+r),e.setAttribute(l,r);break;case"onClick":r!=null&&(e.onclick=sn);break;case"onScroll":r!=null&&Ae("scroll",e);break;case"onScrollEnd":r!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(l=r.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}l=wl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""+r):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":r===!0?e.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,r):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(l,r):e.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(l):e.setAttribute(l,r);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),bl(e,"popover",r);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":bl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=x0.get(l)||l,bl(e,l,r))}}function ja(e,i,l,r,d,p){switch(l){case"style":Ac(e,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(l=r.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof r=="string"?Li(e,r):(typeof r=="number"||typeof r=="bigint")&&Li(e,""+r);break;case"onScroll":r!=null&&Ae("scroll",e);break;case"onScrollEnd":r!=null&&Ae("scrollend",e);break;case"onClick":r!=null&&(e.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),i=l.slice(2,d?l.length-7:void 0),p=e[vt]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(i,p,d),typeof r=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,r,d);break e}l in e?e[l]=r:r===!0?e.setAttribute(l,""):bl(e,l,r)}}}function ct(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var r=!1,d=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":r=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:He(e,i,p,S,l,null)}}d&&He(e,i,"srcSet",l.srcSet,l,null),r&&He(e,i,"src",l.src,l,null);return;case"input":Ae("invalid",e);var C=p=S=d=null,A=null,I=null;for(r in l)if(l.hasOwnProperty(r)){var V=l[r];if(V!=null)switch(r){case"name":d=V;break;case"type":S=V;break;case"checked":A=V;break;case"defaultChecked":I=V;break;case"value":p=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:He(e,i,r,V,l,null)}}Ec(e,p,C,A,I,S,d,!1);return;case"select":Ae("invalid",e),r=S=p=null;for(d in l)if(l.hasOwnProperty(d)&&(C=l[d],C!=null))switch(d){case"value":p=C;break;case"defaultValue":S=C;break;case"multiple":r=C;default:He(e,i,d,C,l,null)}i=p,l=S,e.multiple=!!r,i!=null?ki(e,!!r,i,!1):l!=null&&ki(e,!!r,l,!0);return;case"textarea":Ae("invalid",e),p=d=r=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":r=C;break;case"defaultValue":d=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:He(e,i,S,C,l,null)}Cc(e,r,d,p);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(r=l[A],r!=null))switch(A){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:He(e,i,A,r,l,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(r=0;r<rl.length;r++)Ae(rl[r],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in l)if(l.hasOwnProperty(I)&&(r=l[I],r!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:He(e,i,I,r,l,null)}return;default:if(hr(i)){for(V in l)l.hasOwnProperty(V)&&(r=l[V],r!==void 0&&ja(e,i,V,r,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(r=l[C],r!=null&&He(e,i,C,r,l,null))}function Qy(e,i,l,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,C=null,A=null,I=null,V=null;for(O in l){var Y=l[O];if(l.hasOwnProperty(O)&&Y!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":A=Y;default:r.hasOwnProperty(O)||He(e,i,O,null,r,Y)}}for(var k in r){var O=r[k];if(Y=l[k],r.hasOwnProperty(k)&&(O!=null||Y!=null))switch(k){case"type":p=O;break;case"name":d=O;break;case"checked":I=O;break;case"defaultChecked":V=O;break;case"value":S=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:O!==Y&&He(e,i,k,O,r,Y)}}fr(e,S,C,A,I,V,p,d);return;case"select":O=S=C=k=null;for(p in l)if(A=l[p],l.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":O=A;default:r.hasOwnProperty(p)||He(e,i,p,null,r,A)}for(d in r)if(p=r[d],A=l[d],r.hasOwnProperty(d)&&(p!=null||A!=null))switch(d){case"value":k=p;break;case"defaultValue":C=p;break;case"multiple":S=p;default:p!==A&&He(e,i,d,p,r,A)}i=C,l=S,r=O,k!=null?ki(e,!!l,k,!1):!!r!=!!l&&(i!=null?ki(e,!!l,i,!0):ki(e,!!l,l?[]:"",!1));return;case"textarea":O=k=null;for(C in l)if(d=l[C],l.hasOwnProperty(C)&&d!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:He(e,i,C,null,r,d)}for(S in r)if(d=r[S],p=l[S],r.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":k=d;break;case"defaultValue":O=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&He(e,i,S,d,r,p)}xc(e,k,O);return;case"option":for(var oe in l)if(k=l[oe],l.hasOwnProperty(oe)&&k!=null&&!r.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:He(e,i,oe,null,r,k)}for(A in r)if(k=r[A],O=l[A],r.hasOwnProperty(A)&&k!==O&&(k!=null||O!=null))switch(A){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:He(e,i,A,k,r,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)k=l[pe],l.hasOwnProperty(pe)&&k!=null&&!r.hasOwnProperty(pe)&&He(e,i,pe,null,r,k);for(I in r)if(k=r[I],O=l[I],r.hasOwnProperty(I)&&k!==O&&(k!=null||O!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,i));break;default:He(e,i,I,k,r,O)}return;default:if(hr(i)){for(var Ge in l)k=l[Ge],l.hasOwnProperty(Ge)&&k!==void 0&&!r.hasOwnProperty(Ge)&&ja(e,i,Ge,void 0,r,k);for(V in r)k=r[V],O=l[V],!r.hasOwnProperty(V)||k===O||k===void 0&&O===void 0||ja(e,i,V,k,r,O);return}}for(var M in l)k=l[M],l.hasOwnProperty(M)&&k!=null&&!r.hasOwnProperty(M)&&He(e,i,M,null,r,k);for(Y in r)k=r[Y],O=l[Y],!r.hasOwnProperty(Y)||k===O||k==null&&O==null||He(e,i,Y,k,r,O)}function bh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var d=l[r],p=d.transferSize,S=d.initiatorType,C=d.duration;if(p&&C&&bh(S)){for(S=0,C=d.responseEnd,r+=1;r<l.length;r++){var A=l[r],I=A.startTime;if(I>C)break;var V=A.transferSize,Y=A.initiatorType;V&&bh(Y)&&(A=A.responseEnd,S+=V*(A<C?1:(C-I)/(A-I)))}if(--r,i+=8*(p+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eu=null,tu=null;function As(e){return e.nodeType===9?e:e.ownerDocument}function Rh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mh(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function nu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var iu=null;function $y(){var e=window.event;return e&&e.type==="popstate"?e===iu?!1:(iu=e,!0):(iu=null,!1)}var wh=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,Dh=typeof Promise=="function"?Promise:void 0,jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Dh<"u"?function(e){return Dh.resolve(null).then(e).catch(ev)}:wh;function ev(e){setTimeout(function(){throw e})}function Yn(e){return e==="head"}function Ih(e,i){var l=i,r=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(r===0){e.removeChild(d),ho(i);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")ul(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ul(l);for(var p=l.firstChild;p;){var S=p.nextSibling,C=p.nodeName;p[bo]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=S}}else l==="body"&&ul(e.ownerDocument.body);l=d}while(l);ho(i)}function Uh(e,i){var l=e;e=0;do{var r=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=r}while(l)}function ou(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ou(l),ur(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function tv(e,i,l,r){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[bo])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=zt(e.nextSibling),e===null)break}return null}function nv(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=zt(e.nextSibling),e===null))return null;return e}function kh(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=zt(e.nextSibling),e===null))return null;return e}function lu(e){return e.data==="$?"||e.data==="$~"}function su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iv(e,i){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||l.readyState!=="loading")i();else{var r=function(){i(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function zt(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var ru=null;function Lh(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(i===0)return zt(e.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}e=e.nextSibling}return null}function Ph(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return e;i--}else l!=="/$"&&l!=="/&"||i++}e=e.previousSibling}return null}function Oh(e,i,l){switch(i=As(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ul(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ur(e)}var Bt=new Map,Hh=new Set;function Ns(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xn=Q.d;Q.d={f:ov,r:lv,D:sv,C:rv,L:av,m:uv,X:fv,S:cv,M:dv};function ov(){var e=xn.f(),i=ys();return e||i}function lv(e){var i=Di(e);i!==null&&i.tag===5&&i.type==="form"?td(i):xn.r(e)}var uo=typeof document>"u"?null:document;function Gh(e,i,l){var r=uo;if(r&&typeof i=="string"&&i){var d=Lt(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Hh.has(d)||(Hh.add(d),e={rel:e,crossOrigin:l,href:i},r.querySelector(d)===null&&(i=r.createElement("link"),ct(i,"link",e),ot(i),r.head.appendChild(i)))}}function sv(e){xn.D(e),Gh("dns-prefetch",e,null)}function rv(e,i){xn.C(e,i),Gh("preconnect",e,i)}function av(e,i,l){xn.L(e,i,l);var r=uo;if(r&&e&&i){var d='link[rel="preload"][as="'+Lt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Lt(l.imageSizes)+'"]')):d+='[href="'+Lt(e)+'"]';var p=d;switch(i){case"style":p=co(e);break;case"script":p=fo(e)}Bt.has(p)||(e=E({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),Bt.set(p,e),r.querySelector(d)!==null||i==="style"&&r.querySelector(cl(p))||i==="script"&&r.querySelector(fl(p))||(i=r.createElement("link"),ct(i,"link",e),ot(i),r.head.appendChild(i)))}}function uv(e,i){xn.m(e,i);var l=uo;if(l&&e){var r=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Lt(r)+'"][href="'+Lt(e)+'"]',p=d;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=fo(e)}if(!Bt.has(p)&&(e=E({rel:"modulepreload",href:e},i),Bt.set(p,e),l.querySelector(d)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fl(p)))return}r=l.createElement("link"),ct(r,"link",e),ot(r),l.head.appendChild(r)}}}function cv(e,i,l){xn.S(e,i,l);var r=uo;if(r&&e){var d=Ii(r).hoistableStyles,p=co(e);i=i||"default";var S=d.get(p);if(!S){var C={loading:0,preload:null};if(S=r.querySelector(cl(p)))C.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},l),(l=Bt.get(p))&&au(e,l);var A=S=r.createElement("link");ot(A),ct(A,"link",e),A._p=new Promise(function(I,V){A.onload=I,A.onerror=V}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,bs(S,i,r)}S={type:"stylesheet",instance:S,count:1,state:C},d.set(p,S)}}}function fv(e,i){xn.X(e,i);var l=uo;if(l&&e){var r=Ii(l).hoistableScripts,d=fo(e),p=r.get(d);p||(p=l.querySelector(fl(d)),p||(e=E({src:e,async:!0},i),(i=Bt.get(d))&&uu(e,i),p=l.createElement("script"),ot(p),ct(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(d,p))}}function dv(e,i){xn.M(e,i);var l=uo;if(l&&e){var r=Ii(l).hoistableScripts,d=fo(e),p=r.get(d);p||(p=l.querySelector(fl(d)),p||(e=E({src:e,async:!0,type:"module"},i),(i=Bt.get(d))&&uu(e,i),p=l.createElement("script"),ot(p),ct(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(d,p))}}function qh(e,i,l,r){var d=(d=Te.current)?Ns(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=co(l.href),l=Ii(d).hoistableStyles,r=l.get(i),r||(r={type:"style",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=co(l.href);var p=Ii(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(cl(e)))&&!p._p&&(S.instance=p,S.state.loading=5),Bt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bt.set(e,l),p||hv(d,e,l,S.state))),i&&r===null)throw Error(s(528,""));return S}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(l),l=Ii(d).hoistableScripts,r=l.get(i),r||(r={type:"script",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function co(e){return'href="'+Lt(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function Vh(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function hv(e,i,l,r){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=e.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),ct(i,"link",l),ot(i),e.head.appendChild(i))}function fo(e){return'[src="'+Lt(e)+'"]'}function fl(e){return"script[async]"+e}function zh(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var r=e.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(r)return i.instance=r,ot(r),r;var d=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ot(r),ct(r,"style",d),bs(r,l.precedence,e),i.instance=r;case"stylesheet":d=co(l.href);var p=e.querySelector(cl(d));if(p)return i.state.loading|=4,i.instance=p,ot(p),p;r=Vh(l),(d=Bt.get(d))&&au(r,d),p=(e.ownerDocument||e).createElement("link"),ot(p);var S=p;return S._p=new Promise(function(C,A){S.onload=C,S.onerror=A}),ct(p,"link",r),i.state.loading|=4,bs(p,l.precedence,e),i.instance=p;case"script":return p=fo(l.src),(d=e.querySelector(fl(p)))?(i.instance=d,ot(d),d):(r=l,(d=Bt.get(p))&&(r=E({},l),uu(r,d)),e=e.ownerDocument||e,d=e.createElement("script"),ot(d),ct(d,"link",r),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,bs(r,l.precedence,e));return i.instance}function bs(e,i,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=r.length?r[r.length-1]:null,p=d,S=0;S<r.length;S++){var C=r[S];if(C.dataset.precedence===i)p=C;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function au(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function uu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rs=null;function Bh(e,i,l){if(Rs===null){var r=new Map,d=Rs=new Map;d.set(l,r)}else d=Rs,r=d.get(l),r||(r=new Map,d.set(l,r));if(r.has(e))return r;for(r.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var p=l[d];if(!(p[bo]||p[st]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(i)||"";S=e+S;var C=r.get(S);C?C.push(p):r.set(S,[p])}}return r}function Fh(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function pv(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Yh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mv(e,i,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=co(r.href),p=i.querySelector(cl(d));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ms.bind(e),i.then(e,e)),l.state.loading|=4,l.instance=p,ot(p);return}p=i.ownerDocument||i,r=Vh(r),(d=Bt.get(d))&&au(r,d),p=p.createElement("link"),ot(p);var S=p;S._p=new Promise(function(C,A){S.onload=C,S.onerror=A}),ct(p,"link",r),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ms.bind(e),i.addEventListener("load",l),i.addEventListener("error",l))}}var cu=0;function gv(e,i){return e.stylesheets&&e.count===0&&Ds(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var r=setTimeout(function(){if(e.stylesheets&&Ds(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+i);0<e.imgBytes&&cu===0&&(cu=62500*Zy());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ds(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>cu?50:800)+i);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(d)}}:null}function Ms(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ds(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ws=null;function Ds(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ws=new Map,i.forEach(yv,e),ws=null,Ms.call(e))}function yv(e,i){if(!(i.state.loading&4)){var l=ws.get(e);if(l)var r=l.get(null);else{l=new Map,ws.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),r=S)}r&&l.set(null,r)}d=i.instance,S=d.getAttribute("data-precedence"),p=l.get(S)||r,p===r&&l.set(null,d),l.set(S,d),this.count++,r=Ms.bind(this),d.addEventListener("load",r),d.addEventListener("error",r),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var dl={$$typeof:z,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function vv(e,i,l,r,d,p,S,C,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=r,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Jh(e,i,l,r,d,p,S,C,A,I,V,Y){return e=new vv(e,i,l,S,A,I,V,Y,C),i=1,p===!0&&(i|=24),p=Rt(3,null,null,i),e.current=p,p.stateNode=e,i=Br(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:r,isDehydrated:l,cache:i},Xr(p),e}function Xh(e){return e?(e=zi,e):zi}function Kh(e,i,l,r,d,p){d=Xh(d),r.context===null?r.context=d:r.pendingContext=d,r=kn(i),r.payload={element:l},p=p===void 0?null:p,p!==null&&(r.callback=p),l=Ln(e,r,i),l!==null&&(_t(l,e,i),Fo(l,e,i))}function Qh(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function fu(e,i){Qh(e,i),(e=e.alternate)&&Qh(e,i)}function Zh(e){if(e.tag===13||e.tag===31){var i=di(e,67108864);i!==null&&_t(i,e,67108864),fu(e,67108864)}}function $h(e){if(e.tag===13||e.tag===31){var i=Ut();i=sr(i);var l=di(e,i);l!==null&&_t(l,e,i),fu(e,i)}}var Is=!0;function Tv(e,i,l,r){var d=H.T;H.T=null;var p=Q.p;try{Q.p=2,du(e,i,l,r)}finally{Q.p=p,H.T=d}}function Sv(e,i,l,r){var d=H.T;H.T=null;var p=Q.p;try{Q.p=8,du(e,i,l,r)}finally{Q.p=p,H.T=d}}function du(e,i,l,r){if(Is){var d=hu(r);if(d===null)Wa(e,i,r,Us,l),jh(e,r);else if(xv(d,e,i,l,r))r.stopPropagation();else if(jh(e,r),i&4&&-1<Ev.indexOf(e)){for(;d!==null;){var p=Di(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=ri(p.pendingLanes);if(S!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var A=1<<31-Nt(S);C.entanglements[1]|=A,S&=~A}nn(p),(Ue&6)===0&&(ms=yt()+500,sl(0))}}break;case 31:case 13:C=di(p,2),C!==null&&_t(C,p,2),ys(),fu(p,2)}if(p=hu(r),p===null&&Wa(e,i,r,Us,l),p===d)break;d=p}d!==null&&r.stopPropagation()}else Wa(e,i,r,null,l)}}function hu(e){return e=mr(e),pu(e)}var Us=null;function pu(e){if(Us=null,e=wi(e),e!==null){var i=c(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=h(i),e!==null)return e;e=null}else if(l===31){if(e=g(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Us=e,null}function Wh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case lc:return 2;case sc:return 8;case xl:case r0:return 32;case rc:return 268435456;default:return 32}default:return 32}}var mu=!1,Jn=null,Xn=null,Kn=null,hl=new Map,pl=new Map,Qn=[],Ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jh(e,i){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(i.pointerId)}}function ml(e,i,l,r,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:l,eventSystemFlags:r,nativeEvent:p,targetContainers:[d]},i!==null&&(i=Di(i),i!==null&&Zh(i)),e):(e.eventSystemFlags|=r,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function xv(e,i,l,r,d){switch(i){case"focusin":return Jn=ml(Jn,e,i,l,r,d),!0;case"dragenter":return Xn=ml(Xn,e,i,l,r,d),!0;case"mouseover":return Kn=ml(Kn,e,i,l,r,d),!0;case"pointerover":var p=d.pointerId;return hl.set(p,ml(hl.get(p)||null,e,i,l,r,d)),!0;case"gotpointercapture":return p=d.pointerId,pl.set(p,ml(pl.get(p)||null,e,i,l,r,d)),!0}return!1}function ep(e){var i=wi(e.target);if(i!==null){var l=c(i);if(l!==null){if(i=l.tag,i===13){if(i=h(l),i!==null){e.blockedOn=i,hc(e.priority,function(){$h(l)});return}}else if(i===31){if(i=g(l),i!==null){e.blockedOn=i,hc(e.priority,function(){$h(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ks(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=hu(e.nativeEvent);if(l===null){l=e.nativeEvent;var r=new l.constructor(l.type,l);pr=r,l.target.dispatchEvent(r),pr=null}else return i=Di(l),i!==null&&Zh(i),e.blockedOn=l,!1;i.shift()}return!0}function tp(e,i,l){ks(e)&&l.delete(i)}function Cv(){mu=!1,Jn!==null&&ks(Jn)&&(Jn=null),Xn!==null&&ks(Xn)&&(Xn=null),Kn!==null&&ks(Kn)&&(Kn=null),hl.forEach(tp),pl.forEach(tp)}function Ls(e,i){e.blockedOn===i&&(e.blockedOn=null,mu||(mu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Cv)))}var Ps=null;function np(e){Ps!==e&&(Ps=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ps===e&&(Ps=null);for(var i=0;i<e.length;i+=3){var l=e[i],r=e[i+1],d=e[i+2];if(typeof r!="function"){if(pu(r||l)===null)continue;break}var p=Di(l);p!==null&&(e.splice(i,3),i-=3,ha(p,{pending:!0,data:d,method:l.method,action:r},r,d))}}))}function ho(e){function i(A){return Ls(A,e)}Jn!==null&&Ls(Jn,e),Xn!==null&&Ls(Xn,e),Kn!==null&&Ls(Kn,e),hl.forEach(i),pl.forEach(i);for(var l=0;l<Qn.length;l++){var r=Qn[l];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qn.length&&(l=Qn[0],l.blockedOn===null);)ep(l),l.blockedOn===null&&Qn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var d=l[r],p=l[r+1],S=d[vt]||null;if(typeof p=="function")S||np(l);else if(S){var C=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[vt]||null)C=S.formAction;else if(pu(d)!==null)continue}else C=S.action;typeof C=="function"?l[r+1]=C:(l.splice(r,3),r-=3),np(l)}}}function ip(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function gu(e){this._internalRoot=e}Os.prototype.render=gu.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,r=Ut();Kh(l,r,e,i,null,null)},Os.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Kh(e.current,2,null,e,null,null),ys(),i[Mi]=null}};function Os(e){this._internalRoot=e}Os.prototype.unstable_scheduleHydration=function(e){if(e){var i=dc();e={blockedOn:null,target:e,priority:i};for(var l=0;l<Qn.length&&i!==0&&i<Qn[l].priority;l++);Qn.splice(l,0,e),l===0&&ep(e)}};var op=t.version;if(op!=="19.2.1")throw Error(s(527,op,"19.2.1"));Q.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var _v={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{_o=Hs.inject(_v),At=Hs}catch{}}return yl.createRoot=function(e,i){if(!a(e))throw Error(s(299));var l=!1,r="",d=fd,p=dd,S=hd;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=Jh(e,1,!1,null,null,l,r,null,d,p,S,ip),e[Mi]=i.current,$a(e),new gu(i)},yl.hydrateRoot=function(e,i,l){if(!a(e))throw Error(s(299));var r=!1,d="",p=fd,S=dd,C=hd,A=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),i=Jh(e,1,!0,i,l??null,r,d,A,p,S,C,ip),i.context=Xh(null),l=i.current,r=Ut(),r=sr(r),d=kn(r),d.callback=null,Ln(l,d,r),l=r,i.current.lanes=l,No(i,l),nn(i),e[Mi]=i.current,$a(e),new Os(i)},yl.version="19.2.1",yl}var pp;function Lv(){if(pp)return Tu.exports;pp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Tu.exports=kv(),Tu.exports}var Pv=Lv();const Ov=Bu(Pv);var qe=(n=>(n.Door="door",n.Window="window",n.Outlet="outlet",n.Opening="opening",n.SlidingDoor="sliding_door",n.FrenchDoor="french_door",n.GarageDoor="garage_door",n))(qe||{}),dt=(n=>(n.LivingRoom="Living Room",n.Bedroom="Bedroom",n.Kitchen="Kitchen",n.Bathroom="Bathroom",n.DiningRoom="Dining Room",n.Office="Office",n.Garage="Garage",n.Stairs="Stairs",n.Hallway="Hallway",n.Custom="Custom",n))(dt||{});const Hv=["Living Room","Bedroom","Kitchen","Bathroom","Dining Room","Office","Garage","Stairs","Hallway","Custom"];var ei=(n=>(n.Dog="Dog",n.Cat="Cat",n.Bird="Bird",n.Fish="Fish",n.SmallAnimal="Small Animal",n))(ei||{});const Gv=["Dog","Cat","Bird","Fish","Small Animal"],Ai={FURNITURE:"furniture",ROOM:"room",PET:"pet"},To=({size:n=20})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),T.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),tg=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:T.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm6 2a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1V5a1 1 0 011-1zM5 12a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM11 13a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1v-1a1 1 0 10-2 0v1h-1z",clipRule:"evenodd"})}),Gs=({size:n=16})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14"}),T.jsx("path",{d:"M10 12h.01"})]}),qv=({size:n=16})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M2 12h20"}),T.jsx("path",{d:"M12 2v20"}),T.jsx("path",{d:"M20 2H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"})]}),ng=({size:n=16})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("path",{d:"M12 8v.01"}),T.jsx("path",{d:"M12 16v.01"})]}),ig=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:T.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),og=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M23 4v6h-6"}),T.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),Vv=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("polyline",{points:"15 18 9 12 15 6"})}),zv=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("polyline",{points:"9 18 15 12 9 6"})}),Bv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),T.jsx("polyline",{points:"5 12 12 5 19 12"})]}),Fv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),T.jsx("polyline",{points:"19 12 12 19 5 12"})]}),Yv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),T.jsx("polyline",{points:"12 19 5 12 12 5"})]}),Jv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),T.jsx("polyline",{points:"12 5 19 12 12 19"})]}),lg=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-gray-600",children:[T.jsx("circle",{cx:"9",cy:"9",r:"2"}),T.jsx("circle",{cx:"15",cy:"9",r:"2"}),T.jsx("circle",{cx:"9",cy:"15",r:"2"}),T.jsx("circle",{cx:"15",cy:"15",r:"2"})]}),Xv=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M17 2H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM5 12H2m20 0h-3"})}),Kv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}),T.jsx("path",{d:"m15 5 4 4"})]}),re=15,ti=.5,sg={[dt.LivingRoom]:"#fef08a",[dt.Bedroom]:"#bfdbfe",[dt.Kitchen]:"#fed7aa",[dt.Bathroom]:"#bbf7d0",[dt.DiningRoom]:"#fecaca",[dt.Office]:"#e0e7ff",[dt.Garage]:"#d1d5db",[dt.Stairs]:"#e5e7eb",[dt.Hallway]:"#f3f4f6",[dt.Custom]:"#e9d5ff"},rg="#E2E8F0",ag="#A0522D",Qv=({text:n,children:t,position:o="top"})=>{const[s,a]=Z.useState(!1),c={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"};return T.jsxs("div",{className:"relative flex items-center",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[t,s&&T.jsx("div",{className:`absolute z-50 w-max max-w-xs bg-slate-800 text-white text-xs rounded-md py-1.5 px-3 shadow-lg ${c[o]}`,children:n})]})},Zv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M15 4V2"}),T.jsx("path",{d:"M15 22v-2"}),T.jsx("path",{d:"M12.24 9.76l-5.48-5.48"}),T.jsx("path",{d:"M17.76 14.24l5.48 5.48"}),T.jsx("path",{d:"M4 15H2"}),T.jsx("path",{d:"M22 15h-2"}),T.jsx("path",{d:"M9.76 12.24l-5.48 5.48"}),T.jsx("path",{d:"M14.24 17.76l5.48-5.48"}),T.jsx("path",{d:"M15 12a3 3 0 0 0-3-3"}),T.jsx("path",{d:"M12 15a3 3 0 0 0 3-3"})]}),$v=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),T.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),Wv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),T.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),T.jsx("polyline",{points:"21 15 16 10 5 21"})]}),ug=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"11",cy:"11",r:"8"}),T.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),jv=({totalFloors:n,currentFloor:t,setCurrentFloor:o,onAddFloor:s,isCollapsed:a})=>a?T.jsx("div",{className:"py-3 border-b border-slate-200 dark:border-slate-700",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[Array.from({length:n},(c,h)=>h+1).map(c=>T.jsx("button",{onClick:()=>o(c),title:`View Floor ${c}`,className:`w-10 h-10 flex items-center justify-center rounded-full text-sm font-bold transition-colors ${t===c?"bg-blue-500 text-white shadow-md":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200"}`,children:c},c)),T.jsx("button",{onClick:s,title:"Add New Floor",className:"w-10 h-10 flex items-center justify-center rounded-full text-sm font-bold transition-colors bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 border-2 border-dashed border-slate-400 dark:border-slate-500 text-slate-500 dark:text-slate-400",children:T.jsx(To,{})})]})}):T.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[T.jsxs("div",{className:"flex justify-between items-center mb-3",children:[T.jsx("h3",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:"Floors"}),T.jsx("button",{onClick:s,title:"Add New Floor",className:"p-1 rounded-full text-slate-500 hover:bg-slate-200 dark:text-slate-400 dark:hover:bg-slate-600 transition-colors",children:T.jsx(To,{})})]}),T.jsx("nav",{className:"flex flex-wrap gap-2",children:Array.from({length:n},(c,h)=>h+1).map(c=>T.jsxs("button",{onClick:()=>o(c),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-slate-800 ${t===c?"bg-blue-500 text-white shadow":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-800 dark:text-slate-100"}`,children:["Floor ",c]},c))})]}),eT=({property:n,rooms:t,selectedRoom:o,onAddRoom:s,onSelectRoom:a,onUpdateRoom:c,onUpdateMultipleRooms:h,onDeleteRoom:g,onGenerateLayout:y,onGenerateDescription:m,onMeasureRoom:v,onGenerateVisualization:E,onGetRegionalCosts:x,isAiLoading:_,isCollapsed:R,setIsCollapsed:w,totalFloors:U,currentFloor:L,setCurrentFloor:F,onAddFloor:z,interactionMode:X,setInteractionMode:j})=>{const P=t.filter(G=>(G.floor||1)===L);return T.jsxs("aside",{className:`bg-white dark:bg-slate-800 shadow-lg flex flex-col h-full border-r border-slate-200 dark:border-slate-700 transition-all duration-300 ease-in-out ${R?"w-20":"w-96"}`,children:[T.jsxs("div",{className:"p-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center h-[65px]",children:[T.jsxs("div",{className:`overflow-hidden transition-all ${R?"w-0":"w-auto"}`,children:[T.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 truncate",children:n==null?void 0:n.name}),T.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",children:n==null?void 0:n.address})]}),T.jsx("div",{className:"flex items-center space-x-2",children:T.jsx("button",{onClick:()=>w(!R),title:R?"Expand Sidebar":"Collapse Sidebar",className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:R?T.jsx(zv,{}):T.jsx(Vv,{})})})]}),T.jsxs("div",{className:`flex-1 overflow-y-auto ${R?"overflow-hidden":""}`,children:[T.jsx("div",{className:`p-3 space-y-2 border-b border-slate-200 dark:border-slate-700 ${R?"flex flex-col items-center":""}`,children:T.jsxs("div",{className:`w-full flex ${R?"flex-col space-y-2":"space-x-2"}`,children:[T.jsxs("button",{onClick:()=>s(),title:"Add Room",className:`flex-1 flex items-center space-x-2 px-3 py-2 bg-blue-500 text-white hover:bg-blue-600 rounded-md text-sm font-medium transition-colors ${R?"justify-center":""}`,children:[T.jsx(To,{})," ",T.jsx("span",{className:R?"hidden":"",children:"Add Room"})]}),T.jsxs("button",{onClick:()=>j("draw_hallway"),title:"Draw Hallway",className:`flex-1 flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${R?"justify-center":""} ${X==="draw_hallway"?"bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-100":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:[T.jsx(Kv,{})," ",T.jsx("span",{className:R?"hidden":"",children:"Draw Hallway"})]})]})}),T.jsx(jv,{totalFloors:U,currentFloor:L,setCurrentFloor:F,onAddFloor:z,isCollapsed:R}),T.jsxs("div",{className:R?"hidden":"",children:[T.jsxs("div",{className:"p-5 border-b border-slate-200 dark:border-slate-700",children:[T.jsx("div",{className:"flex justify-between items-center mb-3",children:T.jsxs("h2",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200",children:["Rooms on Floor ",L]})}),T.jsxs("ul",{className:"space-y-2",children:[P.map(G=>T.jsx("li",{children:T.jsxs("button",{onClick:()=>a(G.id),className:`w-full text-left px-4 py-3 rounded-lg transition-colors duration-200 flex items-center space-x-3 ${(o==null?void 0:o.id)===G.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 font-semibold":"hover:bg-slate-100 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[T.jsx("span",{className:"w-4 h-4 rounded-full border border-slate-300 dark:border-slate-600",style:{backgroundColor:G.color}}),T.jsx("span",{children:G.name})]})},G.id)),P.length===0&&T.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:"No rooms on this floor. Add one to get started!"})]})]}),o&&(o.floor||1)===L&&T.jsx(iT,{room:o,allRooms:t,onUpdate:c,onUpdateMultipleRooms:h,onGenerateLayout:y,onGenerateDescription:m,onMeasureRoom:v,onGenerateVisualization:E,onGetRegionalCosts:x,onDelete:g,isAiLoading:_},o.id)]})]})]})},tT=(n,t)=>{const o=[],a=n.position.x,c=n.position.x+n.dimensions.width*re,h=n.position.y,g=n.position.y+n.dimensions.length*re;for(const y of t){if(y.id===n.id||(y.floor||1)!==(n.floor||1))continue;const m=y.position.x,v=y.position.x+y.dimensions.width*re,E=y.position.y,x=y.position.y+y.dimensions.length*re;if(Math.abs(c-m)<5){const _=Math.max(h,E),R=Math.min(g,x);if(R>_){const w=[_-h,R-h].map(U=>U/re);o.push({adjacentRoom:y,wallOnCurrent:"right",wallOnAdjacent:"left",segment:w})}}if(Math.abs(a-v)<5){const _=Math.max(h,E),R=Math.min(g,x);if(R>_){const w=[_-h,R-h].map(U=>U/re);o.push({adjacentRoom:y,wallOnCurrent:"left",wallOnAdjacent:"right",segment:w})}}if(Math.abs(g-E)<5){const _=Math.max(a,m),R=Math.min(c,v);if(R>_){const w=[_-a,R-a].map(U=>U/re);o.push({adjacentRoom:y,wallOnCurrent:"bottom",wallOnAdjacent:"top",segment:w})}}if(Math.abs(h-x)<5){const _=Math.max(a,m),R=Math.min(c,v);if(R>_){const w=[_-a,R-a].map(U=>U/re);o.push({adjacentRoom:y,wallOnCurrent:"top",wallOnAdjacent:"bottom",segment:w})}}}return o},nT=[{type:qe.Door,icon:T.jsx(Gs,{}),name:"Standard Door"},{type:qe.SlidingDoor,icon:T.jsx(Gs,{}),name:"Sliding Door"},{type:qe.FrenchDoor,icon:T.jsx(Gs,{}),name:"French Door"},{type:qe.GarageDoor,icon:T.jsx(Gs,{}),name:"Garage Door"},{type:qe.Window,icon:T.jsx(qv,{}),name:"Window"},{type:qe.Outlet,icon:T.jsx(ng,{}),name:"Outlet"}],iT=({room:n,allRooms:t,onUpdate:o,onUpdateMultipleRooms:s,onGenerateLayout:a,onGenerateDescription:c,onMeasureRoom:h,onGenerateVisualization:g,onGetRegionalCosts:y,onDelete:m,isAiLoading:v})=>{var q,K,W,ge,Te,Ne;const[E,x]=Z.useState(ti),[_,R]=Z.useState(!1),w=Z.useRef(null),U=Z.useMemo(()=>tT(n,t),[n,t]),[L,F]=Z.useState(!1),[z,X]=Z.useState(""),[j,P]=Z.useState(ei.Dog);Z.useEffect(()=>{const J=ie=>{w.current&&!w.current.contains(ie.target)&&R(!1)};return document.addEventListener("mousedown",J),()=>document.removeEventListener("mousedown",J)},[]);const G=J=>{const{name:ie,value:ye}=J.target;if(ie==="type"){const We=ye;o({...n,type:We,color:sg[We]})}else o({...n,[ie]:ye})},ue=J=>{const{name:ie,value:ye}=J.target,We=Math.round(parseFloat(ye)/ti)*ti,pt={...n,dimensions:{...n.dimensions,[ie]:isNaN(We)?0:We}};o(pt)},ee=J=>{const{name:ie,value:ye}=J.target,We={...n.costEstimates,[ie]:parseFloat(ye)||0};o({...n,costEstimates:We})},he=J=>{let ie=3;J===qe.Window&&(ie=4),J===qe.Outlet&&(ie=.5),J===qe.GarageDoor&&(ie=8),J===qe.SlidingDoor&&(ie=6),J===qe.FrenchDoor&&(ie=5);const ye={id:`feature-${Date.now()}`,type:J,wall:"top",offset:50,size:ie},We={...n,features:[...n.features,ye]};o(We),R(!1)},Se=J=>{const ie=n.features.map(ye=>ye.id===J.id?J:ye);o({...n,features:ie})},ce=J=>{const ie=n.features.filter(ye=>ye.id!==J);o({...n,features:ie})},ke=J=>{const{adjacentRoom:ie,wallOnCurrent:ye,wallOnAdjacent:We,segment:pt}=J,Wt=pt[1]-pt[0],Xt=(pt[0]+Wt/2)/(ye==="left"||ye==="right"?n.dimensions.length:n.dimensions.width)*100,oi={id:`feature-${Date.now()}`,type:qe.Opening,wall:ye,offset:Xt,size:Wt},li=We==="left"||We==="right"?ie.dimensions.length:ie.dimensions.width;let on;ye==="right"||ye==="left"?on=n.position.y+pt[0]*re-ie.position.y:on=n.position.x+pt[0]*re-ie.position.x;const Ri=(on/re+Wt/2)/li*100,si={id:`feature-${Date.now()+1}`,type:qe.Opening,wall:We,offset:Ri,size:Wt},$={...n,features:[...n.features,oi]},me={...ie,features:[...ie.features,si]};s([$,me])},ze=J=>{const ie=n.furniture.map(ye=>ye.id===J.id?J:ye);o({...n,furniture:ie})},Be=J=>{const ie=n.furniture.filter(ye=>ye.id!==J);o({...n,furniture:ie})},H=()=>{if(!z.trim()){alert("Please enter a name for the pet.");return}const J={id:`pet-${Date.now()}`,name:z,type:j,position:{x:n.dimensions.width/2,y:n.dimensions.length/2}},ie={...n,pets:[...n.pets||[],J]};o(ie),X(""),P(ei.Dog),F(!1)},Q=J=>{const ie=(n.pets||[]).filter(ye=>ye.id!==J);o({...n,pets:ie})},ae=J=>{const ie=E*re,ye={...n.position};J==="up"&&(ye.y-=ie),J==="down"&&(ye.y+=ie),J==="left"&&(ye.x-=ie),J==="right"&&(ye.x+=ie),o({...n,position:ye})},ne=()=>{const J=(n.rotation+90)%360;o({...n,rotation:J})},le=v===`dimensions-${n.id}`,N=n.dimensions.width*n.dimensions.length;return T.jsxs("div",{className:"p-5 space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Room Name"}),T.jsx("input",{type:"text",name:"name",id:"name",value:n.name,onChange:G})]}),T.jsx("div",{className:"flex items-end gap-4",children:T.jsxs("div",{className:"flex-grow",children:[T.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Room Type"}),T.jsx("select",{id:"type",name:"type",value:n.type,onChange:G,children:Hv.map(J=>T.jsx("option",{value:J,children:J},J))})]})}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"floorColor",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Floor Color"}),T.jsx("input",{type:"color",id:"floorColor",value:n.color||"#ffffff",onChange:J=>o({...n,color:J.target.value}),className:"mt-1 w-full h-10 p-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md cursor-pointer",title:"Change floor color"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"wallColor",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Wall Color"}),T.jsx("input",{type:"color",id:"wallColor",value:n.wallColor||rg,onChange:J=>o({...n,wallColor:J.target.value}),className:"mt-1 w-full h-10 p-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md cursor-pointer",title:"Change wall color"})]})]}),T.jsxs("div",{children:[T.jsxs("button",{onClick:()=>h(n.id),disabled:le,className:"w-full mb-3 flex items-center justify-center space-x-2 px-3 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md text-sm transition-colors text-slate-700 dark:text-slate-200 disabled:opacity-50",children:[T.jsx($v,{})," ",T.jsx("span",{children:"Scan Room with AI"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx("label",{htmlFor:"width",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Width (ft)"}),T.jsx("input",{type:"number",name:"width",id:"width",value:n.dimensions.width,onChange:ue,step:ti,disabled:le}),le&&T.jsx("div",{className:"absolute inset-y-0 right-3 top-6 flex items-center",children:T.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),T.jsxs("div",{className:"relative",children:[T.jsx("label",{htmlFor:"length",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Length (ft)"}),T.jsx("input",{type:"number",name:"length",id:"length",value:n.dimensions.length,onChange:ue,step:ti,disabled:le}),le&&T.jsx("div",{className:"absolute inset-y-0 right-3 top-6 flex items-center",children:T.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Position & Orientation"}),T.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-2",children:[T.jsxs("div",{className:"p-2 bg-slate-100 dark:bg-slate-900/50 rounded-lg",children:[T.jsxs("div",{className:"flex justify-between items-center mb-1",children:[T.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Nudge (ft)"}),T.jsx("div",{className:"flex items-center bg-slate-200 dark:bg-slate-700/50 p-0.5 rounded-md space-x-0.5",children:[.5,1,5,10].map(J=>T.jsx("button",{onClick:()=>x(J),className:`px-2 py-0.5 text-xs rounded transition-colors ${E===J?"bg-white dark:bg-slate-600 shadow-sm text-blue-600 dark:text-blue-300 font-bold":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-500"}`,children:J},J))})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-1 w-32 mx-auto",children:[T.jsx("div",{}),T.jsx("button",{onClick:()=>ae("up"),title:`Nudge Up (${E}ft)`,className:"flex items-center justify-center p-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md transition-colors",children:T.jsx(Bv,{})}),T.jsx("div",{}),T.jsx("button",{onClick:()=>ae("left"),title:`Nudge Left (${E}ft)`,className:"flex items-center justify-center p-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md transition-colors",children:T.jsx(Yv,{})}),T.jsx("div",{className:"flex items-center justify-center text-slate-400 dark:text-slate-500",title:"Move room",children:T.jsx(lg,{})}),T.jsx("button",{onClick:()=>ae("right"),title:`Nudge Right (${E}ft)`,className:"flex items-center justify-center p-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md transition-colors",children:T.jsx(Jv,{})}),T.jsx("div",{}),T.jsx("button",{onClick:()=>ae("down"),title:`Nudge Down (${E}ft)`,className:"flex items-center justify-center p-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md transition-colors",children:T.jsx(Fv,{})}),T.jsx("div",{})]})]}),T.jsxs("div",{className:"p-2 bg-slate-100 dark:bg-slate-900/50 rounded-lg flex flex-col items-center justify-center",children:[T.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Rotation"}),T.jsx("button",{onClick:ne,title:"Rotate Room 90",className:"flex items-center justify-center p-3 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-full transition-colors aspect-square",children:T.jsx(og,{})}),T.jsxs("span",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:[n.rotation,""]})]})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-md font-semibold text-slate-700 dark:text-slate-200 mb-3",children:"Features"}),T.jsx("div",{className:"grid grid-cols-4 gap-2",children:nT.map(({type:J,icon:ie,name:ye})=>T.jsx(Qv,{text:ye,position:"bottom",children:T.jsxs("button",{onClick:()=>he(J),className:"w-full h-full flex flex-col items-center justify-center p-2 bg-slate-100 dark:bg-slate-700/50 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg aspect-square transition-colors","aria-label":`Add ${ye}`,children:[ie,T.jsx("span",{className:"text-xs mt-1 text-slate-600 dark:text-slate-300 text-center sr-only",children:ye})]})},J))}),T.jsx("div",{className:"space-y-2 mt-4",children:n.features.filter(J=>J.type!==qe.Opening).map(J=>T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-2 rounded-md border border-slate-200 dark:border-slate-700",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("p",{className:"font-semibold capitalize text-slate-600 dark:text-slate-300 text-sm",children:J.type.replace(/_/g," ")}),T.jsx("button",{onClick:()=>ce(J.id),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-500 text-xs font-bold",children:"REMOVE"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Wall"}),T.jsxs("select",{value:J.wall,onChange:ie=>Se({...J,wall:ie.target.value}),children:[T.jsx("option",{value:"top",children:"Top"}),T.jsx("option",{value:"bottom",children:"Bottom"}),T.jsx("option",{value:"left",children:"Left"}),T.jsx("option",{value:"right",children:"Right"})]})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Offset (",J.offset.toFixed(0),"%)"]}),T.jsx("div",{className:"h-5 flex items-center mt-1",children:T.jsx("input",{type:"range",min:"0",max:"100",value:J.offset,onChange:ie=>Se({...J,offset:parseInt(ie.target.value)}),className:"w-full"})})]})]})]},J.id))})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-md font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Pets"}),T.jsxs("div",{className:"space-y-2",children:[(n.pets||[]).map(J=>T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-2 rounded-md border border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[T.jsxs("p",{className:"font-semibold capitalize text-slate-600 dark:text-slate-300 text-sm",children:[J.name," ",T.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",J.type,")"]})]}),T.jsx("button",{onClick:()=>Q(J.id),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-500 text-xs font-bold",children:"REMOVE"})]},J.id)),(!n.pets||n.pets.length===0)&&!L&&T.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center py-2",children:"This room has no pets."})]}),L?T.jsxs("div",{className:"mt-3 p-3 bg-slate-100 dark:bg-slate-900/50 rounded-lg space-y-3 animate-fade-in",children:[T.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Add a New Pet"}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Pet Name"}),T.jsx("input",{type:"text",value:z,onChange:J=>X(J.target.value),placeholder:"e.g., Fido"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Pet Type"}),T.jsx("select",{value:j,onChange:J=>P(J.target.value),children:Gv.map(J=>T.jsx("option",{value:J,children:J},J))})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:H,className:"flex-1 px-3 py-1.5 bg-blue-500 text-white hover:bg-blue-600 rounded-md text-xs font-medium transition-colors",children:"Confirm Add"}),T.jsx("button",{onClick:()=>F(!1),className:"flex-1 px-3 py-1.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md text-xs transition-colors",children:"Cancel"})]})]}):T.jsxs("button",{onClick:()=>F(!0),className:"w-full mt-3 flex items-center justify-center space-x-2 px-3 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md text-sm transition-colors",children:[T.jsx(To,{})," ",T.jsx("span",{children:"Add Pet"})]})]}),U.length>0&&T.jsxs("div",{children:[T.jsx("h3",{className:"text-md font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Adjacency"}),T.jsx("div",{className:"space-y-2",children:U.map(J=>T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-2 rounded-md border border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[T.jsxs("div",{className:"text-sm",children:[T.jsx("p",{className:"font-semibold text-slate-600 dark:text-slate-300",children:J.adjacentRoom.name}),T.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Shares ",(J.segment[1]-J.segment[0]).toFixed(1),"ft on your ",T.jsx("span",{className:"capitalize",children:J.wallOnCurrent})," wall."]})]}),T.jsxs("button",{onClick:()=>ke(J),title:"Create a full opening between these rooms",className:"flex items-center space-x-2 px-3 py-1 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md text-sm transition-colors text-slate-700 dark:text-slate-200",children:[T.jsx(Xv,{}),T.jsx("span",{children:"Opening"})]})]},J.adjacentRoom.id))})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-md font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Cost Estimation"}),T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-lg border border-slate-200 dark:border-slate-700 space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Flooring ($/sqft)"}),T.jsx("input",{type:"number",name:"flooring",value:((q=n.costEstimates)==null?void 0:q.flooring)??"",onChange:ee,placeholder:"e.g., 8.50"})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Est. Total"}),T.jsxs("p",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:["$",((((K=n.costEstimates)==null?void 0:K.flooring)||0)*N).toFixed(2)]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Paint ($/sqft)"}),T.jsx("input",{type:"number",name:"paint",value:((W=n.costEstimates)==null?void 0:W.paint)??"",onChange:ee,placeholder:"e.g., 2.00"})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Est. Total"}),T.jsxs("p",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:["$",((((ge=n.costEstimates)==null?void 0:ge.paint)||0)*N).toFixed(2)]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Labor ($/sqft)"}),T.jsx("input",{type:"number",name:"labor",value:((Te=n.costEstimates)==null?void 0:Te.labor)??"",onChange:ee,placeholder:"e.g., 5.00"})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Est. Total"}),T.jsxs("p",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:["$",((((Ne=n.costEstimates)==null?void 0:Ne.labor)||0)*N).toFixed(2)]})]})]}),T.jsx("button",{onClick:()=>y(n.id),disabled:v===`costs-${n.id}`,className:"w-full mt-2 flex items-center justify-center space-x-2 px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-blue-900/50 dark:text-blue-300 dark:hover:bg-blue-900/80 transition-colors disabled:opacity-50",children:v===`costs-${n.id}`?T.jsxs(T.Fragment,{children:[T.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):T.jsxs(T.Fragment,{children:[" ",T.jsx(ug,{})," ",T.jsx("span",{children:"Get Regional Averages"})]})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-md font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"AI Tools"}),T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-lg border border-slate-200 dark:border-slate-700",children:[T.jsx("textarea",{name:"description",rows:5,value:n.description||"",onChange:G,placeholder:"Click 'Generate Description' to have the AI analyze this room, or write your own notes here.",className:"w-full bg-transparent p-0 border-0 focus:ring-0 resize-none dark:placeholder-slate-500"}),T.jsx("button",{onClick:()=>c(n.id),disabled:v===`description-${n.id}`,className:"w-full mt-2 flex items-center justify-center space-x-2 px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-purple-700 bg-purple-100 hover:bg-purple-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 dark:bg-purple-900/50 dark:text-purple-300 dark:hover:bg-purple-900/80 transition-colors disabled:opacity-50",children:v===`description-${n.id}`?T.jsxs(T.Fragment,{children:[T.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):T.jsxs(T.Fragment,{children:[T.jsx(Zv,{}),T.jsx("span",{children:"Generate Description"})]})})]})]}),n.furniture.length>0&&T.jsxs("div",{children:[T.jsx("h3",{className:"text-md font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Furniture"}),T.jsx("div",{className:"space-y-3",children:n.furniture.map(J=>T.jsx(oT,{furniture:J,onUpdate:ze,onDelete:()=>Be(J.id)},J.id))})]}),T.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[T.jsxs("button",{onClick:()=>a(n.id),disabled:!!v,className:"w-full flex items-center justify-center space-x-2 px-3 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-400 dark:disabled:bg-green-800 disabled:cursor-not-allowed",children:[v===`furniture-${n.id}`?T.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):T.jsx(tg,{}),T.jsx("span",{className:"truncate",children:"AI Furniture"})]}),T.jsxs("button",{onClick:()=>g(n.id),disabled:!!v,className:"w-full flex items-center justify-center space-x-2 px-3 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 dark:disabled:bg-indigo-800 disabled:cursor-not-allowed",children:[v===`visualize-${n.id}`?T.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):T.jsx(Wv,{}),T.jsx("span",{className:"truncate",children:"Visualize AI"})]})]}),T.jsxs("button",{onClick:()=>m(n.id),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:bg-red-900/50 dark:text-red-400 dark:hover:bg-red-900/80 transition-colors",children:[T.jsx(ig,{}),T.jsx("span",{children:"Delete Room"})]})]})]})},oT=({furniture:n,onUpdate:t,onDelete:o})=>{const s=c=>{t({...n,dimensions:{...n.dimensions,[c.target.name]:parseFloat(c.target.value)||0}})},a=()=>{const c=(n.rotation+90)%360;t({...n,rotation:c})};return T.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-3 rounded-md border border-slate-200 dark:border-slate-700",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("p",{className:"font-semibold capitalize text-slate-700 dark:text-slate-200 text-sm truncate",children:n.name.replace(/_/g," ")}),T.jsx("button",{onClick:o,className:"p-1 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-500 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-full",children:T.jsx(ig,{})})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Width (ft)"}),T.jsx("input",{type:"number",name:"width",value:n.dimensions.width,onChange:s,step:"0.1"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Length (ft)"}),T.jsx("input",{type:"number",name:"length",value:n.dimensions.length,onChange:s,step:"0.1"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Color"}),T.jsx("input",{type:"color",value:n.color||ag,onChange:c=>t({...n,color:c.target.value}),className:"mt-1 w-full h-8 p-0 bg-transparent border-none rounded-md cursor-pointer",title:"Change furniture color"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Rotate"}),T.jsxs("button",{onClick:a,className:"mt-1 w-full h-8 flex items-center justify-center p-1 bg-white dark:bg-slate-600 border border-slate-300 dark:border-slate-500 rounded-md hover:bg-slate-100 dark:hover:bg-slate-500 transition-colors",children:[T.jsx(og,{})," ",T.jsxs("span",{className:"text-xs ml-1",children:[n.rotation,""]})]})]})]})]})},cg=Z.createContext({dragDropManager:void 0});function Ft(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var mp=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),gp=function(){return Math.random().toString(36).substring(7).split("").join(".")},yp={INIT:"@@redux/INIT"+gp(),REPLACE:"@@redux/REPLACE"+gp()};function lT(n){if(typeof n!="object"||n===null)return!1;for(var t=n;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}function fg(n,t,o){var s;if(typeof t=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof t=="function"&&typeof o>"u"&&(o=t,t=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Ft(1));return o(fg)(n,t)}if(typeof n!="function")throw new Error(Ft(2));var a=n,c=t,h=[],g=h,y=!1;function m(){g===h&&(g=h.slice())}function v(){if(y)throw new Error(Ft(3));return c}function E(w){if(typeof w!="function")throw new Error(Ft(4));if(y)throw new Error(Ft(5));var U=!0;return m(),g.push(w),function(){if(U){if(y)throw new Error(Ft(6));U=!1,m();var F=g.indexOf(w);g.splice(F,1),h=null}}}function x(w){if(!lT(w))throw new Error(Ft(7));if(typeof w.type>"u")throw new Error(Ft(8));if(y)throw new Error(Ft(9));try{y=!0,c=a(c,w)}finally{y=!1}for(var U=h=g,L=0;L<U.length;L++){var F=U[L];F()}return w}function _(w){if(typeof w!="function")throw new Error(Ft(10));a=w,x({type:yp.REPLACE})}function R(){var w,U=E;return w={subscribe:function(F){if(typeof F!="object"||F===null)throw new Error(Ft(11));function z(){F.next&&F.next(v())}z();var X=U(z);return{unsubscribe:X}}},w[mp]=function(){return this},w}return x({type:yp.INIT}),s={dispatch:x,subscribe:E,getState:v,replaceReducer:_},s[mp]=R,s}function xe(n,t,...o){if(sT()&&t===void 0)throw new Error("invariant requires an error message argument");if(!n){let s;if(t===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;s=new Error(t.replace(/%s/g,function(){return o[a++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}function sT(){return typeof process<"u"&&!0}function rT(n,t,o){return t.split(".").reduce((s,a)=>s&&s[a]?s[a]:o||null,n)}function aT(n,t){return n.filter(o=>o!==t)}function dg(n){return typeof n=="object"}function uT(n,t){const o=new Map,s=c=>{o.set(c,o.has(c)?o.get(c)+1:1)};n.forEach(s),t.forEach(s);const a=[];return o.forEach((c,h)=>{c===1&&a.push(h)}),a}function cT(n,t){return n.filter(o=>t.indexOf(o)>-1)}const Yu="dnd-core/INIT_COORDS",Ks="dnd-core/BEGIN_DRAG",Ju="dnd-core/PUBLISH_DRAG_SOURCE",Qs="dnd-core/HOVER",Zs="dnd-core/DROP",$s="dnd-core/END_DRAG";function vp(n,t){return{type:Yu,payload:{sourceClientOffset:t||null,clientOffset:n||null}}}const fT={type:Yu,payload:{clientOffset:null,sourceClientOffset:null}};function dT(n){return function(o=[],s={publishSource:!0}){const{publishSource:a=!0,clientOffset:c,getSourceClientOffset:h}=s,g=n.getMonitor(),y=n.getRegistry();n.dispatch(vp(c)),hT(o,g,y);const m=gT(o,g);if(m==null){n.dispatch(fT);return}let v=null;if(c){if(!h)throw new Error("getSourceClientOffset must be defined");pT(h),v=h(m)}n.dispatch(vp(c,v));const x=y.getSource(m).beginDrag(g,m);if(x==null)return;mT(x),y.pinSource(m);const _=y.getSourceType(m);return{type:Ks,payload:{itemType:_,item:x,sourceId:m,clientOffset:c||null,sourceClientOffset:v||null,isSourcePublic:!!a}}}}function hT(n,t,o){xe(!t.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(s){xe(o.getSource(s),"Expected sourceIds to be registered.")})}function pT(n){xe(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function mT(n){xe(dg(n),"Item must be an object.")}function gT(n,t){let o=null;for(let s=n.length-1;s>=0;s--)if(t.canDragSource(n[s])){o=n[s];break}return o}function yT(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function vT(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},s=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(o).filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable}))),s.forEach(function(a){yT(n,a,o[a])})}return n}function TT(n){return function(o={}){const s=n.getMonitor(),a=n.getRegistry();ST(s),CT(s).forEach((h,g)=>{const y=ET(h,g,a,s),m={type:Zs,payload:{dropResult:vT({},o,y)}};n.dispatch(m)})}}function ST(n){xe(n.isDragging(),"Cannot call drop while not dragging."),xe(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function ET(n,t,o,s){const a=o.getTarget(n);let c=a?a.drop(s,n):void 0;return xT(c),typeof c>"u"&&(c=t===0?{}:s.getDropResult()),c}function xT(n){xe(typeof n>"u"||dg(n),"Drop result must either be an object or undefined.")}function CT(n){const t=n.getTargetIds().filter(n.canDropOnTarget,n);return t.reverse(),t}function _T(n){return function(){const o=n.getMonitor(),s=n.getRegistry();AT(o);const a=o.getSourceId();return a!=null&&(s.getSource(a,!0).endDrag(o,a),s.unpinSource()),{type:$s}}}function AT(n){xe(n.isDragging(),"Cannot call endDrag while not dragging.")}function Mu(n,t){return t===null?n===null:Array.isArray(n)?n.some(o=>o===t):n===t}function NT(n){return function(o,{clientOffset:s}={}){bT(o);const a=o.slice(0),c=n.getMonitor(),h=n.getRegistry(),g=c.getItemType();return MT(a,h,g),RT(a,c,h),wT(a,c,h),{type:Qs,payload:{targetIds:a,clientOffset:s||null}}}}function bT(n){xe(Array.isArray(n),"Expected targetIds to be an array.")}function RT(n,t,o){xe(t.isDragging(),"Cannot call hover while not dragging."),xe(!t.didDrop(),"Cannot call hover after drop.");for(let s=0;s<n.length;s++){const a=n[s];xe(n.lastIndexOf(a)===s,"Expected targetIds to be unique in the passed array.");const c=o.getTarget(a);xe(c,"Expected targetIds to be registered.")}}function MT(n,t,o){for(let s=n.length-1;s>=0;s--){const a=n[s],c=t.getTargetType(a);Mu(c,o)||n.splice(s,1)}}function wT(n,t,o){n.forEach(function(s){o.getTarget(s).hover(t,s)})}function DT(n){return function(){if(n.getMonitor().isDragging())return{type:Ju}}}function IT(n){return{beginDrag:dT(n),publishDragSource:DT(n),hover:NT(n),drop:TT(n),endDrag:_T(n)}}class UT{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:o}=this.store;function s(c){return(...h)=>{const g=c.apply(t,h);typeof g<"u"&&o(g)}}const a=IT(this);return Object.keys(a).reduce((c,h)=>{const g=a[h];return c[h]=s(g),c},{})}dispatch(t){this.store.dispatch(t)}constructor(t,o){this.isSetUp=!1,this.handleRefCountChange=()=>{const s=this.store.getState().refCount>0;this.backend&&(s&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!s&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=o,t.subscribe(this.handleRefCountChange)}}function kT(n,t){return{x:n.x+t.x,y:n.y+t.y}}function hg(n,t){return{x:n.x-t.x,y:n.y-t.y}}function LT(n){const{clientOffset:t,initialClientOffset:o,initialSourceClientOffset:s}=n;return!t||!o||!s?null:hg(kT(t,s),o)}function PT(n){const{clientOffset:t,initialClientOffset:o}=n;return!t||!o?null:hg(t,o)}const Sl=[],Xu=[];Sl.__IS_NONE__=!0;Xu.__IS_ALL__=!0;function OT(n,t){return n===Sl?!1:n===Xu||typeof t>"u"?!0:cT(t,n).length>0}class HT{subscribeToStateChange(t,o={}){const{handlerIds:s}=o;xe(typeof t=="function","listener must be a function."),xe(typeof s>"u"||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const c=()=>{const h=this.store.getState(),g=h.stateId;try{g===a||g===a+1&&!OT(h.dirtyHandlerIds,s)||t()}finally{a=g}};return this.store.subscribe(c)}subscribeToOffsetChange(t){xe(typeof t=="function","listener must be a function.");let o=this.store.getState().dragOffset;const s=()=>{const a=this.store.getState().dragOffset;a!==o&&(o=a,t())};return this.store.subscribe(s)}canDragSource(t){if(!t)return!1;const o=this.registry.getSource(t);return xe(o,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:o.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const o=this.registry.getTarget(t);if(xe(o,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const s=this.registry.getTargetType(t),a=this.getItemType();return Mu(s,a)&&o.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const o=this.registry.getSource(t,!0);if(xe(o,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const s=this.registry.getSourceType(t),a=this.getItemType();return s!==a?!1:o.isDragging(this,t)}isOverTarget(t,o={shallow:!1}){if(!t)return!1;const{shallow:s}=o;if(!this.isDragging())return!1;const a=this.registry.getTargetType(t),c=this.getItemType();if(c&&!Mu(a,c))return!1;const h=this.getTargetIds();if(!h.length)return!1;const g=h.indexOf(t);return s?g===h.length-1:g>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return LT(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return PT(this.store.getState().dragOffset)}constructor(t,o){this.store=t,this.registry=o}}const Tp=typeof global<"u"?global:self,pg=Tp.MutationObserver||Tp.WebKitMutationObserver;function mg(n){return function(){const o=setTimeout(a,0),s=setInterval(a,50);function a(){clearTimeout(o),clearInterval(s),n()}}}function GT(n){let t=1;const o=new pg(n),s=document.createTextNode("");return o.observe(s,{characterData:!0}),function(){t=-t,s.data=t}}const qT=typeof pg=="function"?GT:mg;class VT{enqueueTask(t){const{queue:o,requestFlush:s}=this;o.length||(s(),this.flushing=!0),o[o.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const o=this.index;if(this.index++,t[o].call(),this.index>this.capacity){for(let s=0,a=t.length-this.index;s<a;s++)t[s]=t[s+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=qT(this.flush),this.requestErrorThrow=mg(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class zT{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,o){this.onError=t,this.release=o,this.task=null}}class BT{create(t){const o=this.freeTasks,s=o.length?o.pop():new zT(this.onError,a=>o[o.length]=a);return s.task=t,s}constructor(t){this.onError=t,this.freeTasks=[]}}const gg=new VT,FT=new BT(gg.registerPendingError);function YT(n){gg.enqueueTask(FT.create(n))}const Ku="dnd-core/ADD_SOURCE",Qu="dnd-core/ADD_TARGET",Zu="dnd-core/REMOVE_SOURCE",Ws="dnd-core/REMOVE_TARGET";function JT(n){return{type:Ku,payload:{sourceId:n}}}function XT(n){return{type:Qu,payload:{targetId:n}}}function KT(n){return{type:Zu,payload:{sourceId:n}}}function QT(n){return{type:Ws,payload:{targetId:n}}}function ZT(n){xe(typeof n.canDrag=="function","Expected canDrag to be a function."),xe(typeof n.beginDrag=="function","Expected beginDrag to be a function."),xe(typeof n.endDrag=="function","Expected endDrag to be a function.")}function $T(n){xe(typeof n.canDrop=="function","Expected canDrop to be a function."),xe(typeof n.hover=="function","Expected hover to be a function."),xe(typeof n.drop=="function","Expected beginDrag to be a function.")}function wu(n,t){if(t&&Array.isArray(n)){n.forEach(o=>wu(o,!1));return}xe(typeof n=="string"||typeof n=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Yt;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(Yt||(Yt={}));let WT=0;function jT(){return WT++}function eS(n){const t=jT().toString();switch(n){case Yt.SOURCE:return`S${t}`;case Yt.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function Sp(n){switch(n[0]){case"S":return Yt.SOURCE;case"T":return Yt.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function Ep(n,t){const o=n.entries();let s=!1;do{const{done:a,value:[,c]}=o.next();if(c===t)return!0;s=!!a}while(!s);return!1}class tS{addSource(t,o){wu(t),ZT(o);const s=this.addHandler(Yt.SOURCE,t,o);return this.store.dispatch(JT(s)),s}addTarget(t,o){wu(t,!0),$T(o);const s=this.addHandler(Yt.TARGET,t,o);return this.store.dispatch(XT(s)),s}containsHandler(t){return Ep(this.dragSources,t)||Ep(this.dropTargets,t)}getSource(t,o=!1){return xe(this.isSourceId(t),"Expected a valid source ID."),o&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return xe(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return xe(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return xe(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Sp(t)===Yt.SOURCE}isTargetId(t){return Sp(t)===Yt.TARGET}removeSource(t){xe(this.getSource(t),"Expected an existing source."),this.store.dispatch(KT(t)),YT(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){xe(this.getTarget(t),"Expected an existing target."),this.store.dispatch(QT(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const o=this.getSource(t);xe(o,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=o}unpinSource(){xe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,o,s){const a=eS(t);return this.types.set(a,o),t===Yt.SOURCE?this.dragSources.set(a,s):t===Yt.TARGET&&this.dropTargets.set(a,s),a}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const nS=(n,t)=>n===t;function iS(n,t){return!n&&!t?!0:!n||!t?!1:n.x===t.x&&n.y===t.y}function oS(n,t,o=nS){if(n.length!==t.length)return!1;for(let s=0;s<n.length;++s)if(!o(n[s],t[s]))return!1;return!0}function lS(n=Sl,t){switch(t.type){case Qs:break;case Ku:case Qu:case Ws:case Zu:return Sl;case Ks:case Ju:case $s:case Zs:default:return Xu}const{targetIds:o=[],prevTargetIds:s=[]}=t.payload,a=uT(o,s);if(!(a.length>0||!oS(o,s)))return Sl;const h=s[s.length-1],g=o[o.length-1];return h!==g&&(h&&a.push(h),g&&a.push(g)),a}function sS(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function rS(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},s=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(o).filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable}))),s.forEach(function(a){sS(n,a,o[a])})}return n}const xp={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function aS(n=xp,t){const{payload:o}=t;switch(t.type){case Yu:case Ks:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case Qs:return iS(n.clientOffset,o.clientOffset)?n:rS({},n,{clientOffset:o.clientOffset});case $s:case Zs:return xp;default:return n}}function uS(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function po(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},s=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(o).filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable}))),s.forEach(function(a){uS(n,a,o[a])})}return n}const cS={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function fS(n=cS,t){const{payload:o}=t;switch(t.type){case Ks:return po({},n,{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case Ju:return po({},n,{isSourcePublic:!0});case Qs:return po({},n,{targetIds:o.targetIds});case Ws:return n.targetIds.indexOf(o.targetId)===-1?n:po({},n,{targetIds:aT(n.targetIds,o.targetId)});case Zs:return po({},n,{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case $s:return po({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function dS(n=0,t){switch(t.type){case Ku:case Qu:return n+1;case Zu:case Ws:return n-1;default:return n}}function hS(n=0){return n+1}function pS(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function mS(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},s=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(o).filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable}))),s.forEach(function(a){pS(n,a,o[a])})}return n}function gS(n={},t){return{dirtyHandlerIds:lS(n.dirtyHandlerIds,{type:t.type,payload:mS({},t.payload,{prevTargetIds:rT(n,"dragOperation.targetIds",[])})}),dragOffset:aS(n.dragOffset,t),refCount:dS(n.refCount,t),dragOperation:fS(n.dragOperation,t),stateId:hS(n.stateId)}}function yS(n,t=void 0,o={},s=!1){const a=vS(s),c=new HT(a,new tS(a)),h=new UT(a,c),g=n(h,t,o);return h.receiveBackend(g),h}function vS(n){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return fg(gS,n&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function TS(n,t){if(n==null)return{};var o=SS(n,t),s,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(a=0;a<c.length;a++)s=c[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(o[s]=n[s])}return o}function SS(n,t){if(n==null)return{};var o={},s=Object.keys(n),a,c;for(c=0;c<s.length;c++)a=s[c],!(t.indexOf(a)>=0)&&(o[a]=n[a]);return o}let Cp=0;const Vs=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ES=Z.memo(function(t){var{children:o}=t,s=TS(t,["children"]);const[a,c]=xS(s);return Z.useEffect(()=>{if(c){const h=yg();return++Cp,()=>{--Cp===0&&(h[Vs]=null)}}},[]),T.jsx(cg.Provider,{value:a,children:o})});function xS(n){if("manager"in n)return[{dragDropManager:n.manager},!1];const t=CS(n.backend,n.context,n.options,n.debugMode),o=!n.context;return[t,o]}function CS(n,t=yg(),o,s){const a=t;return a[Vs]||(a[Vs]={dragDropManager:yS(n,t,o,s)}),a[Vs]}function yg(){return typeof global<"u"?global:window}var Cu,_p;function _S(){return _p||(_p=1,Cu=function n(t,o){if(t===o)return!0;if(t&&o&&typeof t=="object"&&typeof o=="object"){if(t.constructor!==o.constructor)return!1;var s,a,c;if(Array.isArray(t)){if(s=t.length,s!=o.length)return!1;for(a=s;a--!==0;)if(!n(t[a],o[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if(c=Object.keys(t),s=c.length,s!==Object.keys(o).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[a]))return!1;for(a=s;a--!==0;){var h=c[a];if(!n(t[h],o[h]))return!1}return!0}return t!==t&&o!==o}),Cu}var AS=_S();const NS=Bu(AS),Ni=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function bS(n,t,o){const[s,a]=Z.useState(()=>t(n)),c=Z.useCallback(()=>{const h=t(n);NS(s,h)||(a(h),o&&o())},[s,n,o]);return Ni(c),[s,c]}function RS(n,t,o){const[s,a]=bS(n,t,o);return Ni(function(){const h=n.getHandlerId();if(h!=null)return n.subscribeToStateChange(a,{handlerIds:[h]})},[n,a]),s}function vg(n,t,o){return RS(t,n||(()=>({})),()=>o.reconnect())}function Tg(n,t){const o=[...t||[]];return t==null&&typeof n!="function"&&o.push(n),Z.useMemo(()=>typeof n=="function"?n():n,o)}function MS(n){return Z.useMemo(()=>n.hooks.dragSource(),[n])}function wS(n){return Z.useMemo(()=>n.hooks.dragPreview(),[n])}let _u=!1,Au=!1;class DS{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){xe(!_u,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return _u=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{_u=!1}}isDragging(){if(!this.sourceId)return!1;xe(!Au,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Au=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Au=!1}}subscribeToStateChange(t,o){return this.internalMonitor.subscribeToStateChange(t,o)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,o){return this.internalMonitor.isOverTarget(t,o)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Nu=!1;class IS{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,o){return this.internalMonitor.subscribeToStateChange(t,o)}canDrop(){if(!this.targetId)return!1;xe(!Nu,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Nu=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Nu=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function US(n,t,o){const s=o.getRegistry(),a=s.addTarget(n,t);return[a,()=>s.removeTarget(a)]}function kS(n,t,o){const s=o.getRegistry(),a=s.addSource(n,t);return[a,()=>s.removeSource(a)]}function Du(n,t,o,s){let a;if(a!==void 0)return!!a;if(n===t)return!0;if(typeof n!="object"||!n||typeof t!="object"||!t)return!1;const c=Object.keys(n),h=Object.keys(t);if(c.length!==h.length)return!1;const g=Object.prototype.hasOwnProperty.bind(t);for(let y=0;y<c.length;y++){const m=c[y];if(!g(m))return!1;const v=n[m],E=t[m];if(a=void 0,a===!1||a===void 0&&v!==E)return!1}return!0}function Iu(n){return n!==null&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function LS(n){if(typeof n.type=="string")return;const t=n.type.displayName||n.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function PS(n){return(t=null,o=null)=>{if(!Z.isValidElement(t)){const c=t;return n(c,o),c}const s=t;return LS(s),OS(s,o?c=>n(c,o):n)}}function Sg(n){const t={};return Object.keys(n).forEach(o=>{const s=n[o];if(o.endsWith("Ref"))t[o]=n[o];else{const a=PS(s);t[o]=()=>a}}),t}function Ap(n,t){typeof n=="function"?n(t):n.current=t}function OS(n,t){const o=n.ref;return xe(typeof o!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),o?Z.cloneElement(n,{ref:s=>{Ap(o,s),Ap(t,s)}}):Z.cloneElement(n,{ref:t})}class HS{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,o=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return o&&this.disconnectDragSource(),this.handlerId?t?(o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),o):(this.lastConnectedDragSource=t,o):o}reconnectDragPreview(t=!1){const o=this.dragPreview,s=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(s&&this.disconnectDragPreview(),!!this.handlerId){if(!o){this.lastConnectedDragPreview=o;return}s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=o,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,o,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Du(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Du(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Sg({dragSource:(o,s)=>{this.clearDragSource(),this.dragSourceOptions=s||null,Iu(o)?this.dragSourceRef=o:this.dragSourceNode=o,this.reconnectDragSource()},dragPreview:(o,s)=>{this.clearDragPreview(),this.dragPreviewOptions=s||null,Iu(o)?this.dragPreviewRef=o:this.dragPreviewNode=o,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class GS{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const o=this.dropTarget;if(this.handlerId){if(!o){this.lastConnectedDropTarget=o;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=o,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,o,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Du(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Sg({dropTarget:(o,s)=>{this.clearDropTarget(),this.dropTargetOptions=s,Iu(o)?this.dropTargetRef=o:this.dropTargetNode=o,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function So(){const{dragDropManager:n}=Z.useContext(cg);return xe(n!=null,"Expected drag drop context"),n}function qS(n,t){const o=So(),s=Z.useMemo(()=>new HS(o.getBackend()),[o]);return Ni(()=>(s.dragSourceOptions=n||null,s.reconnect(),()=>s.disconnectDragSource()),[s,n]),Ni(()=>(s.dragPreviewOptions=t||null,s.reconnect(),()=>s.disconnectDragPreview()),[s,t]),s}function VS(){const n=So();return Z.useMemo(()=>new DS(n),[n])}class zS{beginDrag(){const t=this.spec,o=this.monitor;let s=null;return typeof t.item=="object"?s=t.item:typeof t.item=="function"?s=t.item(o):s={},s??null}canDrag(){const t=this.spec,o=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(o):!0}isDragging(t,o){const s=this.spec,a=this.monitor,{isDragging:c}=s;return c?c(a):o===t.getSourceId()}endDrag(){const t=this.spec,o=this.monitor,s=this.connector,{end:a}=t;a&&a(o.getItem(),o),s.reconnect()}constructor(t,o,s){this.spec=t,this.monitor=o,this.connector=s}}function BS(n,t,o){const s=Z.useMemo(()=>new zS(n,t,o),[t,o]);return Z.useEffect(()=>{s.spec=n},[n]),s}function FS(n){return Z.useMemo(()=>{const t=n.type;return xe(t!=null,"spec.type must be defined"),t},[n])}function YS(n,t,o){const s=So(),a=BS(n,t,o),c=FS(n);Ni(function(){if(c!=null){const[g,y]=kS(c,a,s);return t.receiveHandlerId(g),o.receiveHandlerId(g),y}},[s,t,o,a,c])}function js(n,t){const o=Tg(n,t);xe(!o.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const s=VS(),a=qS(o.options,o.previewOptions);return YS(o,s,a),[vg(o.collect,s,a),MS(a),wS(a)]}function JS(n){return Z.useMemo(()=>n.hooks.dropTarget(),[n])}function XS(n){const t=So(),o=Z.useMemo(()=>new GS(t.getBackend()),[t]);return Ni(()=>(o.dropTargetOptions=n||null,o.reconnect(),()=>o.disconnectDropTarget()),[n]),o}function KS(){const n=So();return Z.useMemo(()=>new IS(n),[n])}function QS(n){const{accept:t}=n;return Z.useMemo(()=>(xe(n.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class ZS{canDrop(){const t=this.spec,o=this.monitor;return t.canDrop?t.canDrop(o.getItem(),o):!0}hover(){const t=this.spec,o=this.monitor;t.hover&&t.hover(o.getItem(),o)}drop(){const t=this.spec,o=this.monitor;if(t.drop)return t.drop(o.getItem(),o)}constructor(t,o){this.spec=t,this.monitor=o}}function $S(n,t){const o=Z.useMemo(()=>new ZS(n,t),[t]);return Z.useEffect(()=>{o.spec=n},[n]),o}function WS(n,t,o){const s=So(),a=$S(n,t),c=QS(n);Ni(function(){const[g,y]=US(c,a,s);return t.receiveHandlerId(g),o.receiveHandlerId(g),y},[s,t,a,o,c.map(h=>h.toString()).join("|")])}function Eg(n,t){const o=Tg(n,t),s=KS(),a=XS(o.options);return WS(o,s,a),[vg(o.collect,s,a),JS(a)]}const jS=({x:n,y:t,onClose:o,actions:s})=>T.jsx("div",{className:"fixed z-50 bg-white dark:bg-slate-800 rounded-md shadow-lg p-1 animate-fade-in-fast",style:{top:t,left:n},onClick:a=>{a.stopPropagation(),o()},children:T.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:s.map((a,c)=>T.jsx("li",{className:"px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer transition-colors",onClick:a.action,children:a.label},c))})}),vl=70,eE=({rooms:n,allRooms:t,onSelectRoom:o,selectedRoomId:s,onUpdateRoom:a,onFinalizeUpdate:c,onAddRoom:h,onDeleteRoom:g,onGenerateLayout:y,viewMode:m,isSnapEnabled:v,interactionMode:E,setInteractionMode:x,currentFloor:_,sunlight:R})=>{const[w,U]=Z.useState(null),[L,F]=Z.useState(null),[z,X]=Z.useState(null),[,j]=Eg(()=>({accept:Ai.ROOM,drop:(ne,le)=>{const N=le.getDifferenceFromInitialOffset();if(!N)return;const q=re*ti;let K=ne.position.x+N.x,W=ne.position.y+N.y;v&&(K=Math.round(K/q)*q,W=Math.round(W/q)*q),c({...ne,position:{x:Math.round(K),y:Math.round(W)}})}}),[v,c]),P=200,G=n.length>0?n.reduce((ne,le)=>Math.max(ne,le.position.x+le.dimensions.width*re),0)+P:500,ue=n.length>0?n.reduce((ne,le)=>Math.max(ne,le.position.y+le.dimensions.length*re),0)+P:500,[ee,he]=Z.useState(!1);Z.useEffect(()=>{he(document.documentElement.classList.contains("dark"));const ne=new MutationObserver(()=>{he(document.documentElement.classList.contains("dark"))});return ne.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>ne.disconnect()},[]);const Se=ne=>{const le=ne.currentTarget.getBoundingClientRect(),N=ne.currentTarget.parentElement.scrollLeft,q=ne.currentTarget.parentElement.scrollTop,K=ne.clientX-le.left+N,W=ne.clientY-le.top+q;return{x:K,y:W}},ce=ne=>{E==="draw_hallway"&&(ne.preventDefault(),ne.stopPropagation(),U(Se(ne)))},ke=ne=>{if(!w)return;ne.preventDefault(),ne.stopPropagation();const le=Se(ne),N=w.x,q=w.y,K=le.x,W=le.y;F({name:"Hallway",type:dt.Hallway,position:{x:Math.min(N,K),y:Math.min(q,W)},dimensions:{width:Math.abs(K-N)/re,length:Math.abs(W-q)/re},rotation:0,features:[],furniture:[],pets:[],connections:[]})},ze=ne=>{if(!w||!L)return;ne.preventDefault(),ne.stopPropagation();const le=re*ti,N=Math.round(L.position.x/le)*le,q=Math.round(L.position.y/le)*le,K=Math.round(L.dimensions.width*re/le)*le,W=Math.round(L.dimensions.length*re/le)*le;K>le/2&&W>le/2&&h({...L,position:{x:N,y:q},dimensions:{width:K/re,length:W/re}}),U(null),F(null),x("select")},Be=ee?"rgba(255,255,255,0.07)":"rgba(0,0,0,0.1)",H=re*ti,Q=m==="2d"?{"--grid-color":Be,"--grid-size":`${H}px`}:{},ae=m==="2d"?"blueprint-grid-2d":"";return T.jsx("div",{className:"w-full h-full p-4 bg-slate-200 dark:bg-slate-900 relative transition-colors overflow-auto",onClick:ne=>{ne.target===ne.currentTarget&&E==="select"&&o(null),X(null)},onContextMenu:ne=>ne.preventDefault(),children:T.jsxs("div",{ref:ne=>{j(ne)},className:`transition-transform duration-500 ${ae}`,onMouseDown:ce,onMouseMove:ke,onMouseUp:ze,style:{width:`${G}px`,height:`${ue}px`,...Q,transform:m==="3d"?"perspective(2000px) rotateX(50deg) rotateZ(-45deg)":"none",transformStyle:"preserve-3d",cursor:E==="draw_hallway"?"crosshair":"default"},children:[R.enabled&&m==="2d"&&T.jsx(sE,{rooms:n,azimuth:R.azimuth}),n.map(ne=>T.jsx(nE,{room:ne,isSelected:ne.id===s,onSelect:o,onUpdateRoom:a,onFinalizeUpdate:c,viewMode:m,isDarkMode:ee,onContextMenu:le=>{le.preventDefault(),X({x:le.clientX,y:le.clientY,roomId:ne.id})}},ne.id)),z&&T.jsx(jS,{x:z.x,y:z.y,onClose:()=>X(null),actions:[{label:"Generate Furniture",action:()=>y(z.roomId)},{label:"Delete Room",action:()=>g(z.roomId)}]}),L&&T.jsx("div",{className:"draw-preview",style:{left:L.position.x,top:L.position.y,width:L.dimensions.width*re,height:L.dimensions.length*re}})]})})},tE=(n,t,o,s)=>{const[,a]=js(()=>({type:`${Ai.ROOM}_resize_${t}`,item:{id:n.id,...n},end:(c,h)=>{h.getDifferenceFromInitialOffset()&&s(c)},collect:c=>{const h=c.getDifferenceFromInitialOffset();if(c.isDragging()&&h){let g=n.position.x,y=n.position.y,m=n.dimensions.width,v=n.dimensions.length;t.includes("left")&&(g+=h.x,m-=h.x/re),t.includes("right")&&(m+=h.x/re),t.includes("top")&&(y+=h.y,v-=h.y/re),t.includes("bottom")&&(v+=h.y/re);const E=2;m<E&&(m=E,t.includes("left")&&(g=n.position.x+(n.dimensions.width-E)*re)),v<E&&(v=E,t.includes("top")&&(y=n.position.y+(n.dimensions.length-E)*re)),o({...n,position:{x:g,y},dimensions:{width:m,length:v}})}}}),[n,t,o,s]);return a},$n=({position:n,room:t,onUpdateRoom:o,onFinalizeUpdate:s})=>{let a="",c="";const h=tE(t,n,o,s);switch(n){case"top-left":a="-top-1.5 -left-1.5",c="resize-handle-nwse";break;case"top":a="-top-1.5 left-1/2 -ml-1.5",c="resize-handle-ns";break;case"top-right":a="-top-1.5 -right-1.5",c="resize-handle-nesw";break;case"left":a="top-1/2 -mt-1.5 -left-1.5",c="resize-handle-ew";break;case"right":a="top-1/2 -mt-1.5 -right-1.5",c="resize-handle-ew";break;case"bottom-left":a="-bottom-1.5 -left-1.5",c="resize-handle-nesw";break;case"bottom":a="-bottom-1.5 left-1/2 -ml-1.5",c="resize-handle-ns";break;case"bottom-right":a="-bottom-1.5 -right-1.5",c="resize-handle-nwse";break}return T.jsx("div",{ref:h,className:`resize-handle ${a} ${c}`,onClick:g=>g.stopPropagation()})},nE=({room:n,isSelected:t,onSelect:o,onUpdateRoom:s,onFinalizeUpdate:a,viewMode:c,isDarkMode:h,onContextMenu:g})=>{const y=n.dimensions.width*re,m=n.dimensions.length*re,[{isDragging:v},E,x]=js(()=>({type:Ai.ROOM,item:n,collect:P=>{const G=P.getDifferenceFromInitialOffset();return P.isDragging()&&G&&s({...n,position:{x:n.position.x+G.x,y:n.position.y+G.y}}),{isDragging:!!P.isDragging()}},end:(P,G)=>{}}),[n,s]),[,_]=Eg(()=>({accept:[Ai.FURNITURE,Ai.PET]}),[n,a]),R=P=>n.features.some(G=>G.wall===P&&G.type===qe.Opening&&G.size>n.dimensions[P==="top"||P==="bottom"?"width":"length"]*.8),w=P=>{if(!t||c!=="3d")return!1;const G=n.rotation;return G===0?P==="bottom"||P==="right":G===90?P==="left"||P==="bottom":G===180?P==="top"||P==="left":G===270?P==="right"||P==="top":!1},U=P=>{if(c==="3d"&&P.type!==qe.Outlet)return null;const G={position:"absolute",display:"flex",justifyContent:"space-around",alignItems:"center"},ue=P.size*re,ee=P.offset/100;let he="",Se=null;switch(P.type){case qe.Door:he="bg-[#a0522d]";break;case qe.SlidingDoor:he="bg-transparent border-x-2 border-[#a0522d]/80",Se=T.jsx("div",{className:"w-1/2 h-full absolute top-0 left-0 bg-[#a0522d]/50"});break;case qe.FrenchDoor:he="bg-transparent",Se=T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"french-door-panel"}),T.jsx("div",{className:"french-door-panel"})]});break;case qe.GarageDoor:he="bg-[#c0c0c0] dark:bg-[#5a5a5a]",Se=T.jsxs("div",{className:"w-full h-full flex flex-col justify-around py-0.5",children:[T.jsx("div",{className:"h-[1px] bg-slate-500/50 dark:bg-slate-400/50"}),T.jsx("div",{className:"h-[1px] bg-slate-500/50 dark:bg-slate-400/50"}),T.jsx("div",{className:"h-[1px] bg-slate-500/50 dark:bg-slate-400/50"})]});break;case qe.Window:he="bg-[#87ceeb]";break;case qe.Opening:he="bg-slate-200/80 dark:bg-slate-900/80 border-t-2 border-b-2 border-dashed border-slate-400/50 dark:border-slate-600/50";break}switch(P.wall){case"top":G.top="-2px",G.left=`calc(${ee*100}% - ${ue/2}px)`,G.width=`${ue}px`,G.height="4px";break;case"bottom":G.bottom="-2px",G.left=`calc(${ee*100}% - ${ue/2}px)`,G.width=`${ue}px`,G.height="4px";break;case"left":G.left="-2px",G.top=`calc(${ee*100}% - ${ue/2}px)`,G.height=`${ue}px`,G.width="4px",G.flexDirection="column";break;case"right":G.right="-2px",G.top=`calc(${ee*100}% - ${ue/2}px)`,G.height=`${ue}px`,G.width="4px",G.flexDirection="column";break}if(P.type===qe.Outlet){const ce={};P.wall==="top"&&(ce.left=`${ee*100}%`),P.wall==="bottom"&&(ce.left=`${ee*100}%`),P.wall==="left"&&(ce.top=`${ee*100}%`),P.wall==="right"&&(ce.top=`${ee*100}%`);const ke=`feature-outlet-${P.wall}`;return T.jsx("div",{style:ce,className:`feature-outlet-container ${ke} text-slate-600 dark:text-slate-400 z-10`,children:T.jsx(ng,{size:12})},P.id)}return T.jsx("div",{style:G,className:`feature-item ${he}`,children:Se},P.id)},L=h?"rgba(51, 65, 85, 0.7)":"rgba(255, 255, 255, 0.7)",F=n.color?`${n.color}B3`:L,X={backgroundColor:n.wallColor||rg,transition:"opacity 0.3s"},j={transform:`rotate(-${n.rotation}deg)`,position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0};return T.jsx("div",{ref:P=>{x(P)},className:"room-container",style:{left:n.position.x,top:n.position.y,width:y,height:m,opacity:v?.7:1,transform:`rotate(${n.rotation}deg)`,zIndex:10},onClick:P=>{P.stopPropagation(),o(n.id)},onContextMenu:g,children:T.jsxs("div",{ref:P=>{_(P)},className:`room-border w-full h-full backdrop-blur-sm transition-all duration-200 relative border-2 overflow-hidden ${t?"shadow-2xl ring-2 ring-blue-500 dark:ring-blue-400 ring-offset-2 ring-offset-slate-200 dark:ring-offset-slate-900 border-blue-500 dark:border-blue-400":"shadow-lg border-slate-300 dark:border-slate-600"}`,style:{backgroundColor:F},children:[n.type===dt.Stairs&&c==="2d"&&T.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:T.jsx("div",{className:"room-stairs-2d"})}),c==="3d"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"wall-3d-side bg-slate-300 dark:bg-slate-800 absolute inset-0",style:{transform:`translateZ(-${vl}px)`}}),n.type===dt.Stairs?T.jsx("div",{className:"absolute inset-0 bg-slate-400 dark:bg-slate-600 room-stairs-3d"}):T.jsxs(T.Fragment,{children:[!R("top")&&T.jsx("div",{className:"wall wall-3d-side",style:{...X,opacity:w("top")?0:1,width:y,height:vl,transform:"rotateX(90deg)"}}),!R("bottom")&&T.jsx("div",{className:"wall wall-3d-side",style:{...X,opacity:w("bottom")?0:1,width:y,height:vl,transform:"rotateX(-90deg)",transformOrigin:"bottom"}}),!R("left")&&T.jsx("div",{className:"wall wall-3d-side",style:{...X,opacity:w("left")?0:1,width:m,height:vl,transform:"rotateY(-90deg)",transformOrigin:"left"}}),!R("right")&&T.jsx("div",{className:"wall wall-3d-side",style:{...X,opacity:w("right")?0:1,width:m,height:vl,transform:"rotateY(90deg)",transformOrigin:"right"}})]})]}),t&&c==="2d"&&T.jsx("div",{ref:P=>{E(P)},className:"absolute -top-4 -right-4 z-20 p-1 bg-white dark:bg-slate-600 rounded-full shadow-lg cursor-grab active:cursor-grabbing border-2 border-blue-500 dark:border-blue-400",onClick:P=>P.stopPropagation(),title:"Move Room",children:T.jsx(lg,{})}),t&&c==="2d"&&T.jsxs(T.Fragment,{children:[T.jsx($n,{position:"top-left",room:n,onUpdateRoom:s,onFinalizeUpdate:a}),T.jsx($n,{position:"top",room:n,onUpdateRoom:s,onFinalizeUpdate:a}),T.jsx($n,{position:"top-right",room:n,onUpdateRoom:s,onFinalizeUpdate:a}),T.jsx($n,{position:"left",room:n,onUpdateRoom:s,onFinalizeUpdate:a}),T.jsx($n,{position:"right",room:n,onUpdateRoom:s,onFinalizeUpdate:a}),T.jsx($n,{position:"bottom-left",room:n,onUpdateRoom:s,onFinalizeUpdate:a}),T.jsx($n,{position:"bottom",room:n,onUpdateRoom:s,onFinalizeUpdate:a}),T.jsx($n,{position:"bottom-right",room:n,onUpdateRoom:s,onFinalizeUpdate:a})]}),t&&c==="3d"&&T.jsx("div",{ref:P=>{E(P)},className:"absolute inset-0 z-10 cursor-grab active:cursor-grabbing"}),T.jsx("div",{style:j,children:T.jsxs("div",{className:"room-dimensions-text p-2 text-center select-none",children:[T.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:n.name}),T.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:[n.dimensions.width,"' x ",n.dimensions.length,"'"]})]})}),n.features.map(P=>U(P)),n.furniture.map(P=>T.jsx(iE,{furniture:P,viewMode:c,onFinalizeUpdate:a,room:n},P.id)),(n.pets||[]).map(P=>T.jsx(lE,{pet:P,viewMode:c,onFinalizeUpdate:a,room:n},P.id))]})})},iE=({furniture:n,viewMode:t,onFinalizeUpdate:o,room:s})=>{const a=n.dimensions.width*re,c=n.dimensions.length*re,h=2*re,[{isDragging:g},y]=js(()=>({type:Ai.FURNITURE,item:n,collect:E=>({isDragging:!!E.isDragging()}),end:(E,x)=>{const _=x.getDifferenceFromInitialOffset();if(!_)return;const R={x:E.position.x+_.x/re,y:E.position.y+_.y/re},w={...E,position:R},U={...s,furniture:s.furniture.map(L=>L.id===E.id?w:L)};o(U)}})),m=n.color||ag,v=n.color?`${n.color}E6`:"#8B4513";return T.jsxs("div",{ref:E=>{y(E)},style:{position:"absolute",left:n.position.x*re,top:n.position.y*re,width:a,height:c,transform:`rotate(${n.rotation}deg) ${t==="3d"?"translateZ(1px)":""}`,opacity:g?.7:1,zIndex:20},className:"cursor-move shadow-md furniture-wrapper",children:[T.jsx("div",{className:"furniture-inner absolute inset-0 border-2 border-black/20 rounded-sm flex items-center justify-center",style:{backgroundColor:m},children:T.jsx("div",{className:"furniture-text-rotation",style:{transform:`rotate(-${n.rotation}deg)`},children:T.jsx("p",{className:"furniture-label",style:{writingMode:a<40?"vertical-rl":"horizontal-tb"},children:n.name.replace(/_/g," ")})})}),t==="3d"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"furniture-3d-top",style:{backgroundColor:v,transform:`translateZ(-${h}px)`}}),T.jsx("div",{className:"wall-3d-side wall-3d-front",style:{backgroundColor:`${v}B3`,width:a,height:h}}),T.jsx("div",{className:"wall-3d-side wall-3d-back",style:{backgroundColor:`${v}B3`,width:a,height:h}}),T.jsx("div",{className:"wall-3d-side wall-3d-left",style:{backgroundColor:`${v}B3`,width:c,height:h}}),T.jsx("div",{className:"wall-3d-side wall-3d-right",style:{backgroundColor:`${v}B3`,width:c,height:h}})]})]})},oE=n=>{switch(n){case ei.Dog:return"";case ei.Cat:return"";case ei.Bird:return"";case ei.Fish:return"";case ei.SmallAnimal:return"";default:return""}},lE=({pet:n,viewMode:t,onFinalizeUpdate:o,room:s})=>{const[{isDragging:a},c]=js(()=>({type:Ai.PET,item:n,collect:h=>({isDragging:!!h.isDragging()}),end:(h,g)=>{const y=g.getDifferenceFromInitialOffset();if(!y)return;const m={x:h.position.x+y.x/re,y:h.position.y+y.y/re},v={...h,position:m},E={...s,pets:(s.pets||[]).map(x=>x.id===h.id?v:x)};o(E)}}));return T.jsx("div",{ref:h=>{c(h)},style:{left:n.position.x*re,top:n.position.y*re,transform:`translate(-50%, -50%) ${t==="3d"?"translateZ(1px)":""}`,opacity:a?.7:1},className:"pet-container cursor-move",title:n.name,children:T.jsx("div",{className:"pet-emoji",children:oE(n.type)})})},sE=({rooms:n,azimuth:t})=>{const o=[],a=t*Math.PI/180,c={x:Math.sin(a),y:-Math.cos(a)};return n.forEach(h=>{const g=h.rotation*Math.PI/180;h.features.forEach(y=>{if(y.type!==qe.Window)return;const v={top:{x:0,y:1},bottom:{x:0,y:-1},left:{x:1,y:0},right:{x:-1,y:0}}[y.wall],E={x:v.x*Math.cos(g)-v.y*Math.sin(g),y:v.x*Math.sin(g)+v.y*Math.cos(g)};if(c.x*E.x+c.y*E.y<=0)return;const _=y.size*re,R=h.dimensions.width*re,w=h.dimensions.length*re;let U,L;const F=R*y.offset/100,z=w*y.offset/100;switch(y.wall){case"top":U={x:F-_/2,y:0},L={x:F+_/2,y:0};break;case"bottom":U={x:F-_/2,y:w},L={x:F+_/2,y:w};break;case"left":U={x:0,y:z-_/2},L={x:0,y:z+_/2};break;case"right":U={x:R,y:z-_/2},L={x:R,y:z+_/2};break}const X={x:500*c.x,y:500*c.y},j={x:U.x+X.x,y:U.y+X.y},P={x:L.x+X.x,y:L.y+X.y},G=`${U.x}px ${U.y}px, ${L.x}px ${L.y}px, ${P.x}px ${P.y}px, ${j.x}px ${j.y}px`;o.push(T.jsx("div",{className:"light-ray-container",style:{left:h.position.x,top:h.position.y,width:R,height:w,transform:`rotate(${h.rotation}deg)`},children:T.jsx("div",{className:"light-ray-inner",style:{clipPath:`polygon(${G})`}})},`${h.id}-${y.id}`))})}),T.jsx(T.Fragment,{children:o})},rE=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),T.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),T.jsx("polyline",{points:"7 3 7 8 15 8"})]}),aE=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),T.jsx("polyline",{points:"17 8 12 3 7 8"}),T.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),uE=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),T.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),T.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),cE=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),fE=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.44,0.17-0.48,0.41L9.2,5.15C8.61,5.39,8.08,5.71,7.58,6.09L5.19,5.13C4.97,5.06,4.72,5.13,4.6,5.35L2.68,8.67 c-0.11,0.2-0.06,0.47,0.12,0.61l2.03,1.58C4.78,11.36,4.76,11.68,4.76,12c0,0.32,0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.34 c0.04,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.48-0.41l0.36-2.34c0.59-0.24,1.12-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0.01,0.59-0.22l1.92-3.32c0.11-0.2,0.06-0.47-0.12-0.61L19.14,12.94z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3.5"})]}),dE=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M21 13.5A9 9 0 1 1 12 4.5c2.5 0 4.8.99 6.48 2.62"}),T.jsx("polyline",{points:"15.96 4 21 4 21 9.04"})]}),hE=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M3 13.5A9 9 0 1 0 12 4.5c-2.5 0-4.8.99-6.48 2.62"}),T.jsx("polyline",{points:"8.04 4 3 4 3 9.04"})]}),pE=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),T.jsx("polyline",{points:"14 2 14 8 20 8"}),T.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),T.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),T.jsx("polyline",{points:"10 9 9 9 8 9"})]}),mE=({property:n,rooms:t,onNewProject:o,onSave:s,onLoad:a,onExportReport:c,theme:h,setTheme:g,viewMode:y,setViewMode:m,isSnapEnabled:v,setIsSnapEnabled:E,onUndo:x,onRedo:_,canUndo:R,canRedo:w,sunlight:U,setSunlight:L})=>T.jsxs("header",{className:"flex-shrink-0 bg-white dark:bg-slate-800 shadow-md h-[65px] px-4 flex justify-between items-center border-b border-slate-200 dark:border-slate-700 z-30",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:x,disabled:!R,title:"Undo",className:"flex items-center space-x-2 p-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md text-slate-700 dark:text-slate-200 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:T.jsx(dE,{})}),T.jsx("button",{onClick:_,disabled:!w,title:"Redo",className:"flex items-center space-x-2 p-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md text-slate-700 dark:text-slate-200 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:T.jsx(hE,{})})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(SE,{sunlight:U,setSunlight:L}),T.jsx("div",{className:"h-6 border-l border-slate-300 dark:border-slate-600 mx-1"}),T.jsxs("button",{onClick:o,title:"New Project",className:"flex items-center space-x-2 px-3 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md text-sm text-slate-700 dark:text-slate-200 font-medium transition-colors",children:[T.jsx(To,{})," ",T.jsx("span",{className:"hidden sm:inline",children:"New"})]}),T.jsxs("button",{onClick:s,title:"Save Project",className:"flex items-center space-x-2 px-3 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md text-sm text-slate-700 dark:text-slate-200 font-medium transition-colors",children:[T.jsx(rE,{})," ",T.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),T.jsxs("button",{onClick:o,title:"New Project",className:"flex items-center space-x-2 px-3 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md text-sm text-slate-700 dark:text-slate-200 font-medium transition-colors",children:[T.jsx(To,{})," ",T.jsx("span",{className:"hidden sm:inline",children:"New"})]}),T.jsxs("button",{onClick:a,title:"Load Project",className:"flex items-center space-x-2 px-3 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md text-sm text-slate-700 dark:text-slate-200 font-medium transition-colors",children:[T.jsx(aE,{})," ",T.jsx("span",{className:"hidden sm:inline",children:"Load"})]}),T.jsxs("button",{onClick:c,title:"Export Text Report",className:"flex items-center space-x-2 px-3 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-md text-sm text-slate-700 dark:text-slate-200 font-medium transition-colors",children:[T.jsx(pE,{})," ",T.jsx("span",{className:"hidden sm:inline",children:"Report"})]}),T.jsx("div",{className:"h-6 border-l border-slate-300 dark:border-slate-600 mx-1"}),T.jsx(TE,{viewMode:y,setViewMode:m}),T.jsx(yE,{theme:h,setTheme:g,isSnapEnabled:v,setIsSnapEnabled:E})]})]}),xg=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"12",cy:"12",r:"5"}),T.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),T.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),T.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),T.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),T.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),T.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),T.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),T.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),gE=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),yE=({theme:n,setTheme:t,isSnapEnabled:o,setIsSnapEnabled:s})=>{const[a,c]=Z.useState(!1),h=Z.useRef(null);Z.useEffect(()=>{const y=m=>{h.current&&!h.current.contains(m.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const g=()=>{t(n==="light"?"dark":"light")};return T.jsxs("div",{className:"relative",ref:h,children:[T.jsx("button",{onClick:()=>c(!a),title:"Settings",className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-white dark:focus:ring-offset-slate-800 transition-colors",children:T.jsx(fE,{})}),a&&T.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg z-40 animate-fade-in",children:T.jsxs("div",{className:"p-4 space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("label",{htmlFor:"theme-toggle",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Theme"}),T.jsx("button",{onClick:g,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700",children:n==="light"?T.jsx(gE,{}):T.jsx(xg,{})})]}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("label",{htmlFor:"snap-toggle",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Snap to Grid"}),T.jsx(vE,{enabled:o,setEnabled:s})]})]})})]})},vE=({enabled:n,setEnabled:t})=>T.jsx("button",{type:"button",className:`${n?"bg-blue-600":"bg-slate-300 dark:bg-slate-600"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:ring-offset-slate-800`,role:"switch","aria-checked":n,onClick:()=>t(!n),children:T.jsx("span",{"aria-hidden":"true",className:`${n?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})}),TE=({viewMode:n,setViewMode:t})=>T.jsxs("div",{className:"flex items-center space-x-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-full",children:[T.jsx("button",{onClick:()=>t("2d"),title:"2D Blueprint View",className:`p-1.5 rounded-full transition-colors ${n==="2d"?"bg-white dark:bg-slate-800 shadow text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:T.jsx(cE,{})}),T.jsx("button",{onClick:()=>t("3d"),title:"3D Dollhouse View",className:`p-1.5 rounded-full transition-colors ${n==="3d"?"bg-white dark:bg-slate-800 shadow text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:T.jsx(uE,{})})]}),SE=({sunlight:n,setSunlight:t})=>T.jsxs("div",{className:"flex items-center space-x-2 p-1.5 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[T.jsx("button",{onClick:()=>t({...n,enabled:!n.enabled}),title:"Toggle Sunlight Simulation",className:`p-1.5 rounded-full transition-colors ${n.enabled?"bg-amber-400 text-white shadow":"text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:T.jsx(xg,{})}),n.enabled&&T.jsx("div",{className:"flex items-center space-x-2 animate-fade-in w-32",children:T.jsx("input",{type:"range",min:"0",max:"360",value:n.azimuth,onChange:o=>t({...n,azimuth:parseInt(o.target.value)}),className:"w-full",title:`Sun Angle: ${n.azimuth}`})})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let EE,xE;function CE(){return{geminiUrl:EE,vertexUrl:xE}}function _E(n,t,o,s){var a,c;if(!(n!=null&&n.baseUrl)){const h=CE();return t?(a=h.vertexUrl)!==null&&a!==void 0?a:o:(c=h.geminiUrl)!==null&&c!==void 0?c:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _n{}function te(n,t){const o=/\{([^}]+)\}/g;return n.replace(o,(s,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const c=t[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(n,t,o){for(let c=0;c<t.length-1;c++){const h=t[c];if(h.endsWith("[]")){const g=h.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];f(v,t.slice(c+1),o[m])}else for(const m of y)f(m,t.slice(c+1),o)}return}else if(h.endsWith("[0]")){const g=h.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];f(y[0],t.slice(c+1),o);return}(!n[h]||typeof n[h]!="object")&&(n[h]={}),n=n[h]}const s=t[t.length-1],a=n[s];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function u(n,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return n;for(let s=0;s<t.length;s++){if(typeof n!="object"||n===null)return o;const a=t[s];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const h=n[c];return Array.isArray(h)?h.map(g=>u(g,t.slice(s+1),o)):o}else return o}else n=n[a]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function AE(n,t){for(const[o,s]of Object.entries(t)){const a=o.split("."),c=s.split("."),h=new Set;let g=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&h.add(m)}Uu(n,a,c,0,h)}}function Uu(n,t,o,s,a){if(s>=t.length||typeof n!="object"||n===null)return;const c=t[s];if(c.endsWith("[]")){const h=c.slice(0,-2),g=n;if(h in g&&Array.isArray(g[h]))for(const y of g[h])Uu(y,t,o,s+1,a)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const h=n,g=Object.keys(h).filter(m=>!m.startsWith("_")&&!a.has(m)),y={};for(const m of g)y[m]=h[m];for(const[m,v]of Object.entries(y)){const E=[];for(const x of o.slice(s))x==="*"?E.push(m):E.push(x);f(h,E,v)}for(const m of g)delete h[m]}}else{const h=n;c in h&&Uu(h[c],t,o,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $u(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NE(n){const t={},o=u(n,["operationName"]);o!=null&&f(t,["operationName"],o);const s=u(n,["resourceName"]);return s!=null&&f(t,["_url","resourceName"],s),t}function bE(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["metadata"]);s!=null&&f(t,["metadata"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],ME(h)),t}function RE(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["metadata"]);s!=null&&f(t,["metadata"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],wE(h)),t}function ME(n){const t={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>DE(h))),f(t,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const a=u(n,["raiMediaFilteredReasons"]);return a!=null&&f(t,["raiMediaFilteredReasons"],a),t}function wE(n){const t={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>IE(h))),f(t,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const a=u(n,["raiMediaFilteredReasons"]);return a!=null&&f(t,["raiMediaFilteredReasons"],a),t}function DE(n){const t={},o=u(n,["video"]);return o!=null&&f(t,["video"],HE(o)),t}function IE(n){const t={},o=u(n,["_self"]);return o!=null&&f(t,["video"],GE(o)),t}function UE(n){const t={},o=u(n,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function kE(n){const t={},o=u(n,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function LE(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["metadata"]);s!=null&&f(t,["metadata"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],PE(h)),t}function PE(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(t,["parent"],s);const a=u(n,["documentName"]);return a!=null&&f(t,["documentName"],a),t}function Cg(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["metadata"]);s!=null&&f(t,["metadata"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],OE(h)),t}function OE(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(t,["parent"],s);const a=u(n,["documentName"]);return a!=null&&f(t,["documentName"],a),t}function HE(n){const t={},o=u(n,["uri"]);o!=null&&f(t,["uri"],o);const s=u(n,["encodedVideo"]);s!=null&&f(t,["videoBytes"],$u(s));const a=u(n,["encoding"]);return a!=null&&f(t,["mimeType"],a),t}function GE(n){const t={},o=u(n,["gcsUri"]);o!=null&&f(t,["uri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],$u(s));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Np;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Np||(Np={}));var bp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(bp||(bp={}));var Rp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Rp||(Rp={}));var ni;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ni||(ni={}));var Mp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Mp||(Mp={}));var wp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(wp||(wp={}));var Dp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Dp||(Dp={}));var Ip;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ip||(Ip={}));var Up;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Up||(Up={}));var kp;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(kp||(kp={}));var Lp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Lp||(Lp={}));var Pp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Pp||(Pp={}));var Op;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Op||(Op={}));var Hp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Hp||(Hp={}));var Gp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Gp||(Gp={}));var qp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qp||(qp={}));var Vp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Vp||(Vp={}));var zp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(zp||(zp={}));var Bp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bp||(Bp={}));var Fs;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Fs||(Fs={}));var Fp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fp||(Fp={}));var Yp;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Yp||(Yp={}));var Jp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Jp||(Jp={}));var ku;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ku||(ku={}));var Xp;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Xp||(Xp={}));var Kp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Kp||(Kp={}));var Qp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Qp||(Qp={}));var Zp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Zp||(Zp={}));var $p;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})($p||($p={}));var Wp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Wp||(Wp={}));var jp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(jp||(jp={}));var em;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(em||(em={}));var tm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(tm||(tm={}));var nm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(nm||(nm={}));var im;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(im||(im={}));var om;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(om||(om={}));var lm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lm||(lm={}));var sm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sm||(sm={}));var rm;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(rm||(rm={}));var am;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(am||(am={}));var um;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(um||(um={}));var cm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(cm||(cm={}));var fm;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(fm||(fm={}));var dm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(dm||(dm={}));var hm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(hm||(hm={}));var pm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(pm||(pm={}));var mm;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mm||(mm={}));var gm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(gm||(gm={}));var ym;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ym||(ym={}));var vm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vm||(vm={}));var Tm;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Tm||(Tm={}));var Sm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Sm||(Sm={}));var Em;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Em||(Em={}));var xm;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(xm||(xm={}));var mo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(mo||(mo={}));class Lu{constructor(t){const o={};for(const s of t.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Tl{get text(){var t,o,s,a,c,h,g,y;if(((a=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const E=[];for(const x of(y=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,R]of Object.entries(x))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(R!==null||R!==void 0)&&E.push(_);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,m+=x.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,o,s,a,c,h,g,y;if(((a=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const E of(y=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[x,_]of Object.entries(E))x!=="inlineData"&&(_!==null||_!==void 0)&&v.push(x);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,s,a,c,h,g,y;if(((a=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,s,a,c,h,g,y,m;if(((a=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,s,a,c,h,g,y,m;if(((a=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Cm{}class _m{}class qE{}class VE{}class zE{}class BE{}class Am{}class Nm{}class bm{}class FE{}class Ys{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Ys;let a;const c=t;return o?a=RE(c):a=bE(c),Object.assign(s,a),s}}class Rm{}class Mm{}class wm{}class Dm{}class YE{}class JE{}class XE{}class Wu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Wu,c=LE(t);return Object.assign(s,c),s}}class KE{}class QE{}class ZE{}class Im{}class $E{get text(){var t,o,s;let a="",c=!1;const h=[];for(const g of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&h.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,a+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var t,o,s;let a="";const c=[];for(const h of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(h))g!=="inlineData"&&y!==null&&c.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(a+=atob(h.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class WE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ju{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new ju,c=Cg(t);return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function _g(n,t){const o=Ie(n,t);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Ag(n){return Array.isArray(n)?n.map(t=>Js(t)):[Js(n)]}function Js(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Ng(n){const t=Js(n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function bg(n){const t=Js(n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Um(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Rg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>Um(t)):[Um(n)]}function Pu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function km(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Lm(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ht(n){if(n==null)throw new Error("ContentUnion is required");return Pu(n)?n:{role:"user",parts:Rg(n)}}function ec(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const s=ht(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=ht(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>ht(o)):[ht(t)]}function Jt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(km(n)||Lm(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ht(n)]}const t=[],o=[],s=Pu(n[0]);for(const a of n){const c=Pu(a);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(a);else{if(km(a)||Lm(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return s||t.push({role:"user",parts:Rg(o)}),t}function jE(n,t){n.includes("null")&&(t.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)t.type=Object.values(ni).includes(o[0].toUpperCase())?o[0].toUpperCase():ni.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of o)t.anyOf.push({type:Object.values(ni).includes(s.toUpperCase())?s.toUpperCase():ni.TYPE_UNSPECIFIED})}}function go(n){const t={},o=["items"],s=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,n=c[1]):c[1].type==="null"&&(t.nullable=!0,n=c[0])),n.type instanceof Array&&jE(n.type,t);for(const[h,g]of Object.entries(n))if(g!=null)if(h=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ni).includes(g.toUpperCase())?g.toUpperCase():ni.TYPE_UNSPECIFIED}else if(o.includes(h))t[h]=go(g);else if(s.includes(h)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(go(m))}t[h]=y}else if(a.includes(h)){const y={};for(const[m,v]of Object.entries(g))y[m]=go(v);t[h]=y}else{if(h==="additionalProperties")continue;t[h]=g}return t}function tc(n){return go(n)}function nc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function ic(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Eo(n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=go(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=go(t.response));return n}function xo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of n)t.push(o);return t}function ex(n,t,o,s=1){const a=!t.startsWith(`${o}/`)&&t.split("/").length===s;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${t}`:t:a?`${o}/${t}`:t}function An(n,t){if(typeof t!="string")throw new Error("name must be a string");return ex(n,t,"cachedContents")}function Mg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ii(n){return $u(n)}function tx(n){return n!=null&&typeof n=="object"&&"name"in n}function nx(n){return n!=null&&typeof n=="object"&&"video"in n}function ix(n){return n!=null&&typeof n=="object"&&"uri"in n}function wg(n){var t;let o;if(tx(n)&&(o=n.name),!(ix(n)&&(o=n.uri,o===void 0))&&!(nx(n)&&(o=(t=n.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Dg(n,t){let o;return n.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Ig(n){for(const t of["models","tunedModels","publisherModels"])if(ox(n,t))return n[t];return[]}function ox(n,t){return n!==null&&typeof n=="object"&&t in n}function lx(n,t={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function sx(n,t={}){const o=[],s=new Set;for(const a of n){const c=a.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const h=lx(a,t);h.functionDeclarations&&o.push(...h.functionDeclarations)}return{functionDeclarations:o}}function Ug(n,t){let o;if(typeof t=="string")if(n.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function rx(n){if(typeof n!="string")return n;const t=n;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function kg(n){if(typeof n!="object"||n===null)return{};const t=n,o=t.inlinedResponses;if(typeof o!="object"||o===null)return n;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let c=!1;for(const h of a){if(typeof h!="object"||h===null)continue;const y=h.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),n}function Co(n,t){const o=t;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Lg(n){const t=n;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(n){const t={},o=u(n,["responsesFile"]);o!=null&&f(t,["fileName"],o);const s=u(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>zx(h))),f(t,["inlinedResponses"],c)}const a=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["inlinedEmbedContentResponses"],c)}return t}function ux(n){const t={},o=u(n,["predictionsFormat"]);o!=null&&f(t,["format"],o);const s=u(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(t,["gcsUri"],s);const a=u(n,["bigqueryDestination","outputUri"]);return a!=null&&f(t,["bigqueryUri"],a),t}function cx(n){const t={},o=u(n,["format"]);o!=null&&f(t,["predictionsFormat"],o);const s=u(n,["gcsUri"]);s!=null&&f(t,["gcsDestination","outputUriPrefix"],s);const a=u(n,["bigqueryUri"]);if(a!=null&&f(t,["bigqueryDestination","outputUri"],a),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function zs(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["metadata","displayName"]);s!=null&&f(t,["displayName"],s);const a=u(n,["metadata","state"]);a!=null&&f(t,["state"],Lg(a));const c=u(n,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const h=u(n,["metadata","endTime"]);h!=null&&f(t,["endTime"],h);const g=u(n,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(n,["metadata","model"]);y!=null&&f(t,["model"],y);const m=u(n,["metadata","output"]);return m!=null&&f(t,["dest"],ax(kg(m))),t}function Ou(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["displayName"]);s!=null&&f(t,["displayName"],s);const a=u(n,["state"]);a!=null&&f(t,["state"],Lg(a));const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["createTime"]);h!=null&&f(t,["createTime"],h);const g=u(n,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(n,["endTime"]);y!=null&&f(t,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(t,["updateTime"],m);const v=u(n,["model"]);v!=null&&f(t,["model"],v);const E=u(n,["inputConfig"]);E!=null&&f(t,["src"],fx(E));const x=u(n,["outputConfig"]);x!=null&&f(t,["dest"],ux(kg(x)));const _=u(n,["completionStats"]);return _!=null&&f(t,["completionStats"],_),t}function fx(n){const t={},o=u(n,["instancesFormat"]);o!=null&&f(t,["format"],o);const s=u(n,["gcsSource","uris"]);s!=null&&f(t,["gcsUri"],s);const a=u(n,["bigquerySource","inputUri"]);return a!=null&&f(t,["bigqueryUri"],a),t}function dx(n,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&f(o,["fileName"],s);const a=u(t,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Vx(n,h))),f(o,["requests","requests"],c)}return o}function hx(n){const t={},o=u(n,["format"]);o!=null&&f(t,["instancesFormat"],o);const s=u(n,["gcsUri"]);s!=null&&f(t,["gcsSource","uris"],s);const a=u(n,["bigqueryUri"]);if(a!=null&&f(t,["bigquerySource","inputUri"],a),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function px(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function mx(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Co(n,s)),o}function gx(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Co(n,s)),o}function yx(n){const t={},o=u(n,["content"]);o!=null&&f(t,["content"],o);const s=u(n,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],vx(s));const a=u(n,["tokenCount"]);a!=null&&f(t,["tokenCount"],a);const c=u(n,["finishReason"]);c!=null&&f(t,["finishReason"],c);const h=u(n,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const g=u(n,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&f(t,["index"],y);const m=u(n,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(n,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(_=>_)),f(t,["safetyRatings"],x)}const E=u(n,["urlContextMetadata"]);return E!=null&&f(t,["urlContextMetadata"],E),t}function vx(n){const t={},o=u(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),f(t,["citations"],s)}return t}function Pg(n){const t={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Qx(c))),f(t,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(t,["role"],s),t}function Tx(n,t){const o={},s=u(n,["displayName"]);if(t!==void 0&&s!=null&&f(t,["batch","displayName"],s),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Sx(n,t){const o={},s=u(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const a=u(n,["dest"]);return t!==void 0&&a!=null&&f(t,["outputConfig"],cx(rx(a))),o}function Pm(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["src"]);a!=null&&f(o,["batch","inputConfig"],dx(n,Ug(n,a)));const c=u(t,["config"]);return c!=null&&Tx(c,o),o}function Ex(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["model"],Ie(n,s));const a=u(t,["src"]);a!=null&&f(o,["inputConfig"],hx(Ug(n,a)));const c=u(t,["config"]);return c!=null&&Sx(c,o),o}function xx(n,t){const o={},s=u(n,["displayName"]);return t!==void 0&&s!=null&&f(t,["batch","displayName"],s),o}function Cx(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["src"]);a!=null&&f(o,["batch","inputConfig"],wx(n,a));const c=u(t,["config"]);return c!=null&&xx(c,o),o}function _x(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Co(n,s)),o}function Ax(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Co(n,s)),o}function Nx(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["name"]);s!=null&&f(t,["name"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);return c!=null&&f(t,["error"],c),t}function bx(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["name"]);s!=null&&f(t,["name"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);return c!=null&&f(t,["error"],c),t}function Rx(n,t){const o={},s=u(t,["contents"]);if(s!=null){let c=ec(n,s);Array.isArray(c)&&(c=c.map(h=>h)),f(o,["requests[]","request","content"],c)}const a=u(t,["config"]);return a!=null&&(f(o,["_self"],Mx(a,o)),AE(o,{"requests[].*":"requests[].request.*"})),o}function Mx(n,t){const o={},s=u(n,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const a=u(n,["title"]);t!==void 0&&a!=null&&f(t,["requests[]","title"],a);const c=u(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function wx(n,t){const o={},s=u(t,["fileName"]);s!=null&&f(o,["file_name"],s);const a=u(t,["inlinedRequests"]);return a!=null&&f(o,["requests"],Rx(n,a)),o}function Dx(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Ix(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const s=u(n,["args"]);s!=null&&f(t,["args"],s);const a=u(n,["name"]);if(a!=null&&f(t,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ux(n){const t={},o=u(n,["mode"]);o!=null&&f(t,["mode"],o);const s=u(n,["allowedFunctionNames"]);if(s!=null&&f(t,["allowedFunctionNames"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function kx(n,t,o){const s={},a=u(t,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],Pg(ht(a)));const c=u(t,["temperature"]);c!=null&&f(s,["temperature"],c);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const g=u(t,["topK"]);g!=null&&f(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const x=u(t,["logprobs"]);x!=null&&f(s,["logprobs"],x);const _=u(t,["presencePenalty"]);_!=null&&f(s,["presencePenalty"],_);const R=u(t,["frequencyPenalty"]);R!=null&&f(s,["frequencyPenalty"],R);const w=u(t,["seed"]);w!=null&&f(s,["seed"],w);const U=u(t,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const L=u(t,["responseSchema"]);L!=null&&f(s,["responseSchema"],tc(L));const F=u(t,["responseJsonSchema"]);if(F!=null&&f(s,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(t,["safetySettings"]);if(o!==void 0&&z!=null){let ce=z;Array.isArray(ce)&&(ce=ce.map(ke=>Zx(ke))),f(o,["safetySettings"],ce)}const X=u(t,["tools"]);if(o!==void 0&&X!=null){let ce=xo(X);Array.isArray(ce)&&(ce=ce.map(ke=>Wx(Eo(ke)))),f(o,["tools"],ce)}const j=u(t,["toolConfig"]);if(o!==void 0&&j!=null&&f(o,["toolConfig"],$x(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=u(t,["cachedContent"]);o!==void 0&&P!=null&&f(o,["cachedContent"],An(n,P));const G=u(t,["responseModalities"]);G!=null&&f(s,["responseModalities"],G);const ue=u(t,["mediaResolution"]);ue!=null&&f(s,["mediaResolution"],ue);const ee=u(t,["speechConfig"]);if(ee!=null&&f(s,["speechConfig"],nc(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(t,["thinkingConfig"]);he!=null&&f(s,["thinkingConfig"],he);const Se=u(t,["imageConfig"]);return Se!=null&&f(s,["imageConfig"],qx(Se)),s}function Lx(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>yx(m))),f(t,["candidates"],y)}const a=u(n,["modelVersion"]);a!=null&&f(t,["modelVersion"],a);const c=u(n,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const h=u(n,["responseId"]);h!=null&&f(t,["responseId"],h);const g=u(n,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function Px(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Co(n,s)),o}function Ox(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Co(n,s)),o}function Hx(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function Gx(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function qx(n){const t={},o=u(n,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const s=u(n,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Vx(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["request","model"],Ie(n,s));const a=u(t,["contents"]);if(a!=null){let g=Jt(a);Array.isArray(g)&&(g=g.map(y=>Pg(y))),f(o,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(o,["metadata"],c);const h=u(t,["config"]);return h!=null&&f(o,["request","generationConfig"],kx(n,h,u(o,["request"],{}))),o}function zx(n){const t={},o=u(n,["response"]);o!=null&&f(t,["response"],Lx(o));const s=u(n,["error"]);return s!=null&&f(t,["error"],s),t}function Bx(n,t){const o={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const a=u(n,["pageToken"]);if(t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Fx(n,t){const o={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const a=u(n,["pageToken"]);t!==void 0&&a!=null&&f(t,["_query","pageToken"],a);const c=u(n,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),o}function Yx(n){const t={},o=u(n,["config"]);return o!=null&&Bx(o,t),t}function Jx(n){const t={},o=u(n,["config"]);return o!=null&&Fx(o,t),t}function Xx(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>zs(h))),f(t,["batchJobs"],c)}return t}function Kx(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Ou(h))),f(t,["batchJobs"],c)}return t}function Qx(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(t,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],Dx(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],Ix(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],px(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const x=u(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function Zx(n){const t={},o=u(n,["category"]);if(o!=null&&f(t,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function $x(n){const t={},o=u(n,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],Ux(o));const s=u(n,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],s),t}function Wx(n){const t={},o=u(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const a=u(n,["computerUse"]);a!=null&&f(t,["computerUse"],a);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],Hx(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],Gx(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Cn||(Cn={}));class bi{constructor(t,o,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,s,a)}init(t,o,s){var a,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!s||Object.keys(s).length===0?h={config:{}}:typeof s=="object"?h=Object.assign({},s):h=s,h.config&&(h.config.pageToken=o.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(c=(a=h.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jx extends _n{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new bi(Cn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Pm(this.apiClient,t),s=o._url,a=te("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const x=E.systemInstruction;delete E.systemInstruction;const _=E.request;_.systemInstruction=x,E.request=_}m.push(E)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const s=o?Object.assign({},o):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const c=this.getGcsUri(t),h=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${a}`;else if(h)s.dest=`${h}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Ex(this.apiClient,t);return g=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>Ou(v))}else{const m=Pm(this.apiClient,t);return g=te("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h.then(v=>zs(v))}}async createEmbeddingsInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Cx(this.apiClient,t);return c=te("{model}:asyncBatchEmbedContent",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>zs(y))}}async get(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Ox(this.apiClient,t);return g=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>Ou(v))}else{const m=Px(this.apiClient,t);return g=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h.then(v=>zs(v))}}async cancel(t){var o,s,a,c;let h="",g={};if(this.apiClient.isVertexAI()){const y=gx(this.apiClient,t);h=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=mx(this.apiClient,t);h=te("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Jx(t);return g=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=Kx(v),x=new Im;return Object.assign(x,E),x})}else{const m=Yx(t);return g=te("batches",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=Xx(v),x=new Im;return Object.assign(x,E),x})}}async delete(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Ax(this.apiClient,t);return g=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>bx(v))}else{const m=_x(this.apiClient,t);return g=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>Nx(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Om(n){const t={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>CC(c))),f(t,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(t,["role"],s),t}function tC(n,t){const o={},s=u(n,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const a=u(n,["expireTime"]);t!==void 0&&a!=null&&f(t,["expireTime"],a);const c=u(n,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const h=u(n,["contents"]);if(t!==void 0&&h!=null){let v=Jt(h);Array.isArray(v)&&(v=v.map(E=>Om(E))),f(t,["contents"],v)}const g=u(n,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],Om(ht(g)));const y=u(n,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>AC(E))),f(t,["tools"],v)}const m=u(n,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],_C(m)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function nC(n,t){const o={},s=u(n,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const a=u(n,["expireTime"]);t!==void 0&&a!=null&&f(t,["expireTime"],a);const c=u(n,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const h=u(n,["contents"]);if(t!==void 0&&h!=null){let E=Jt(h);Array.isArray(E)&&(E=E.map(x=>x)),f(t,["contents"],E)}const g=u(n,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],ht(g));const y=u(n,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(x=>NC(x))),f(t,["tools"],E)}const m=u(n,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const v=u(n,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function iC(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["model"],_g(n,s));const a=u(t,["config"]);return a!=null&&tC(a,o),o}function oC(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["model"],_g(n,s));const a=u(t,["config"]);return a!=null&&nC(a,o),o}function lC(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],An(n,s)),o}function sC(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],An(n,s)),o}function rC(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function aC(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function uC(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function cC(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const s=u(n,["args"]);s!=null&&f(t,["args"],s);const a=u(n,["name"]);if(a!=null&&f(t,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function fC(n){const t={},o=u(n,["mode"]);o!=null&&f(t,["mode"],o);const s=u(n,["allowedFunctionNames"]);if(s!=null&&f(t,["allowedFunctionNames"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function dC(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(n,["description"]);o!=null&&f(t,["description"],o);const s=u(n,["name"]);s!=null&&f(t,["name"],s);const a=u(n,["parameters"]);a!=null&&f(t,["parameters"],a);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const h=u(n,["response"]);h!=null&&f(t,["response"],h);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function hC(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],An(n,s)),o}function pC(n,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],An(n,s)),o}function mC(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function gC(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function yC(n,t){const o={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const a=u(n,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function vC(n,t){const o={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const a=u(n,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function TC(n){const t={},o=u(n,["config"]);return o!=null&&yC(o,t),t}function SC(n){const t={},o=u(n,["config"]);return o!=null&&vC(o,t),t}function EC(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["cachedContents"],c)}return t}function xC(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["cachedContents"],c)}return t}function CC(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(t,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],uC(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],cC(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],eC(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const x=u(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function _C(n){const t={},o=u(n,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],fC(o));const s=u(n,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],s),t}function AC(n){const t={},o=u(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const a=u(n,["computerUse"]);a!=null&&f(t,["computerUse"],a);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],mC(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],gC(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function NC(n){const t={},o=u(n,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(x=>dC(x))),f(t,["functionDeclarations"],E)}const s=u(n,["retrieval"]);s!=null&&f(t,["retrieval"],s);const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(n,["codeExecution"]);h!=null&&f(t,["codeExecution"],h);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function bC(n,t){const o={},s=u(n,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const a=u(n,["expireTime"]);return t!==void 0&&a!=null&&f(t,["expireTime"],a),o}function RC(n,t){const o={},s=u(n,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const a=u(n,["expireTime"]);return t!==void 0&&a!=null&&f(t,["expireTime"],a),o}function MC(n,t){const o={},s=u(t,["name"]);s!=null&&f(o,["_url","name"],An(n,s));const a=u(t,["config"]);return a!=null&&bC(a,o),o}function wC(n,t){const o={},s=u(t,["name"]);s!=null&&f(o,["_url","name"],An(n,s));const a=u(t,["config"]);return a!=null&&RC(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DC extends _n{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new bi(Cn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=oC(this.apiClient,t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=iC(this.apiClient,t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async get(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=pC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=hC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async delete(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=sC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=aC(v),x=new wm;return Object.assign(x,E),x})}else{const m=lC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=rC(v),x=new wm;return Object.assign(x,E),x})}}async update(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=wC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=MC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async listInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=SC(t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=xC(v),x=new Dm;return Object.assign(x,E),x})}else{const m=TC(t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=EC(v),x=new Dm;return Object.assign(x,E),x})}}}function Hm(n){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&n[t],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(n){return this instanceof Je?(this.v=n,this):new Je(n)}function yo(n,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,t||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),a[Symbol.asyncIterator]=function(){return this},a;function h(_){return function(R){return Promise.resolve(R).then(_,E)}}function g(_,R){s[_]&&(a[_]=function(w){return new Promise(function(U,L){c.push([_,w,U,L])>1||y(_,w)})},R&&(a[_]=R(a[_])))}function y(_,R){try{m(s[_](R))}catch(w){x(c[0][3],w)}}function m(_){_.value instanceof Je?Promise.resolve(_.value.v).then(v,E):x(c[0][2],_)}function v(_){y("next",_)}function E(_){y("throw",_)}function x(_,R){_(R),c.shift(),c.length&&y(c[0][0],c[0][1])}}function El(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],o;return t?t.call(n):(n=typeof Hm=="function"?Hm(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(c){o[c]=n[c]&&function(h){return new Promise(function(g,y){h=n[c](h),a(g,y,h.done,h.value)})}}function a(c,h,g,y){Promise.resolve(y).then(function(m){c({value:m,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const o=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Og(o)}function Og(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function UC(n){if(n.length!==0){for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Gm(n){if(n===void 0||n.length===0)return[];const t=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")t.push(n[s]),s++;else{const a=[];let c=!0;for(;s<o&&n[s].role==="model";)a.push(n[s]),c&&!Og(n[s])&&(c=!1),s++;c?t.push(...a):t.pop()}return t}class kC{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new LC(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class LC{constructor(t,o,s,a={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=s,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),UC(c)}async sendMessage(t){var o;await this.sendPromise;const s=ht(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,h,g;const y=await a,m=(h=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let x=[];v!=null&&(x=(g=v.slice(E))!==null&&g!==void 0?g:[]);const _=m?[m]:[];this.recordHistory(s,_,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var o;await this.sendPromise;const s=ht(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,s)}getHistory(t=!1){const o=t?Gm(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var s,a;return yo(this,arguments,function*(){var h,g,y,m;const v=[];try{for(var E=!0,x=El(t),_;_=yield Je(x.next()),h=_.done,!h;E=!0){m=_.value,E=!1;const R=m;if(IC(R)){const w=(a=(s=R.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content;w!==void 0&&v.push(w)}yield yield Je(R)}}catch(R){g={error:R}}finally{try{!E&&!h&&(y=x.return)&&(yield Je(y.call(x)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(t,o,s){let a=[];o.length>0&&o.every(c=>c.role!==void 0)?a=o:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Gm(s)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class er extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,er.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PC(n){const t={},o=u(n,["file"]);return o!=null&&f(t,["file"],o),t}function OC(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function HC(n){const t={},o=u(n,["name"]);return o!=null&&f(t,["_url","file"],wg(o)),t}function GC(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function qC(n){const t={},o=u(n,["name"]);return o!=null&&f(t,["_url","file"],wg(o)),t}function VC(n,t){const o={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const a=u(n,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function zC(n){const t={},o=u(n,["config"]);return o!=null&&VC(o,t),t}function BC(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends _n{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new bi(Cn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zC(t);return c=te("files",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=BC(y),v=new KE;return Object.assign(v,m),v})}}async createInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PC(t);return c=te("upload/v1beta/files",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=OC(y),v=new QE;return Object.assign(v,m),v})}}async get(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qC(t);return c=te("files/{file}",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HC(t);return c=te("files/{file}",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=GC(y),v=new ZE;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bs(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function YC(n){const t={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>r_(c))),f(t,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(t,["role"],s),t}function JC(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function XC(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const s=u(n,["args"]);s!=null&&f(t,["args"],s);const a=u(n,["name"]);if(a!=null&&f(t,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KC(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(n,["description"]);o!=null&&f(t,["description"],o);const s=u(n,["name"]);s!=null&&f(t,["name"],s);const a=u(n,["parameters"]);a!=null&&f(t,["parameters"],a);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const h=u(n,["response"]);h!=null&&f(t,["response"],h);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function QC(n){const t={},o=u(n,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const s=u(n,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const a=u(n,["audioTimestamp"]);a!=null&&f(t,["audioTimestamp"],a);const c=u(n,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const h=u(n,["enableAffectiveDialog"]);h!=null&&f(t,["enableAffectiveDialog"],h);const g=u(n,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&f(t,["logprobs"],y);const m=u(n,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(n,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const E=u(n,["presencePenalty"]);E!=null&&f(t,["presencePenalty"],E);const x=u(n,["responseLogprobs"]);x!=null&&f(t,["responseLogprobs"],x);const _=u(n,["responseMimeType"]);_!=null&&f(t,["responseMimeType"],_);const R=u(n,["responseModalities"]);R!=null&&f(t,["responseModalities"],R);const w=u(n,["responseSchema"]);w!=null&&f(t,["responseSchema"],w);const U=u(n,["routingConfig"]);U!=null&&f(t,["routingConfig"],U);const L=u(n,["seed"]);L!=null&&f(t,["seed"],L);const F=u(n,["speechConfig"]);F!=null&&f(t,["speechConfig"],Hg(F));const z=u(n,["stopSequences"]);z!=null&&f(t,["stopSequences"],z);const X=u(n,["temperature"]);X!=null&&f(t,["temperature"],X);const j=u(n,["thinkingConfig"]);j!=null&&f(t,["thinkingConfig"],j);const P=u(n,["topK"]);P!=null&&f(t,["topK"],P);const G=u(n,["topP"]);if(G!=null&&f(t,["topP"],G),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ZC(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function $C(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function WC(n,t){const o={},s=u(n,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const a=u(n,["responseModalities"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","responseModalities"],a);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const h=u(n,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","speechConfig"],ic(E));const x=u(n,["thinkingConfig"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","thinkingConfig"],x);const _=u(n,["enableAffectiveDialog"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],_);const R=u(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],YC(ht(R)));const w=u(n,["tools"]);if(t!==void 0&&w!=null){let P=xo(w);Array.isArray(P)&&(P=P.map(G=>u_(Eo(G)))),f(t,["setup","tools"],P)}const U=u(n,["sessionResumption"]);t!==void 0&&U!=null&&f(t,["setup","sessionResumption"],a_(U));const L=u(n,["inputAudioTranscription"]);t!==void 0&&L!=null&&f(t,["setup","inputAudioTranscription"],L);const F=u(n,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const z=u(n,["realtimeInputConfig"]);t!==void 0&&z!=null&&f(t,["setup","realtimeInputConfig"],z);const X=u(n,["contextWindowCompression"]);t!==void 0&&X!=null&&f(t,["setup","contextWindowCompression"],X);const j=u(n,["proactivity"]);return t!==void 0&&j!=null&&f(t,["setup","proactivity"],j),o}function jC(n,t){const o={},s=u(n,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],QC(s));const a=u(n,["responseModalities"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","responseModalities"],a);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const h=u(n,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","speechConfig"],Hg(ic(E)));const x=u(n,["thinkingConfig"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","thinkingConfig"],x);const _=u(n,["enableAffectiveDialog"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],_);const R=u(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],ht(R));const w=u(n,["tools"]);if(t!==void 0&&w!=null){let P=xo(w);Array.isArray(P)&&(P=P.map(G=>c_(Eo(G)))),f(t,["setup","tools"],P)}const U=u(n,["sessionResumption"]);t!==void 0&&U!=null&&f(t,["setup","sessionResumption"],U);const L=u(n,["inputAudioTranscription"]);t!==void 0&&L!=null&&f(t,["setup","inputAudioTranscription"],L);const F=u(n,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const z=u(n,["realtimeInputConfig"]);t!==void 0&&z!=null&&f(t,["setup","realtimeInputConfig"],z);const X=u(n,["contextWindowCompression"]);t!==void 0&&X!=null&&f(t,["setup","contextWindowCompression"],X);const j=u(n,["proactivity"]);return t!==void 0&&j!=null&&f(t,["setup","proactivity"],j),o}function e_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["setup","model"],Ie(n,s));const a=u(t,["config"]);return a!=null&&f(o,["config"],WC(a,o)),o}function t_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["setup","model"],Ie(n,s));const a=u(t,["config"]);return a!=null&&f(o,["config"],jC(a,o)),o}function n_(n){const t={},o=u(n,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function i_(n){const t={},o=u(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),f(t,["weightedPrompts"],s)}return t}function o_(n){const t={},o=u(n,["media"]);if(o!=null){let m=Ag(o);Array.isArray(m)&&(m=m.map(v=>Bs(v))),f(t,["mediaChunks"],m)}const s=u(n,["audio"]);s!=null&&f(t,["audio"],Bs(bg(s)));const a=u(n,["audioStreamEnd"]);a!=null&&f(t,["audioStreamEnd"],a);const c=u(n,["video"]);c!=null&&f(t,["video"],Bs(Ng(c)));const h=u(n,["text"]);h!=null&&f(t,["text"],h);const g=u(n,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function l_(n){const t={},o=u(n,["media"]);if(o!=null){let m=Ag(o);Array.isArray(m)&&(m=m.map(v=>v)),f(t,["mediaChunks"],m)}const s=u(n,["audio"]);s!=null&&f(t,["audio"],bg(s));const a=u(n,["audioStreamEnd"]);a!=null&&f(t,["audioStreamEnd"],a);const c=u(n,["video"]);c!=null&&f(t,["video"],Ng(c));const h=u(n,["text"]);h!=null&&f(t,["text"],h);const g=u(n,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function s_(n){const t={},o=u(n,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const s=u(n,["serverContent"]);s!=null&&f(t,["serverContent"],s);const a=u(n,["toolCall"]);a!=null&&f(t,["toolCall"],a);const c=u(n,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const h=u(n,["usageMetadata"]);h!=null&&f(t,["usageMetadata"],f_(h));const g=u(n,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(n,["sessionResumptionUpdate"]);return y!=null&&f(t,["sessionResumptionUpdate"],y),t}function r_(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(t,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],JC(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],XC(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],Bs(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const x=u(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function a_(n){const t={},o=u(n,["handle"]);if(o!=null&&f(t,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Hg(n){const t={},o=u(n,["languageCode"]);o!=null&&f(t,["languageCode"],o);const s=u(n,["voiceConfig"]);if(s!=null&&f(t,["voiceConfig"],s),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function u_(n){const t={},o=u(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const a=u(n,["computerUse"]);a!=null&&f(t,["computerUse"],a);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],ZC(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],$C(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function c_(n){const t={},o=u(n,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(x=>KC(x))),f(t,["functionDeclarations"],E)}const s=u(n,["retrieval"]);s!=null&&f(t,["retrieval"],s);const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(n,["codeExecution"]);h!=null&&f(t,["codeExecution"],h);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function f_(n){const t={},o=u(n,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const s=u(n,["cachedContentTokenCount"]);s!=null&&f(t,["cachedContentTokenCount"],s);const a=u(n,["candidatesTokenCount"]);a!=null&&f(t,["responseTokenCount"],a);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const h=u(n,["thoughtsTokenCount"]);h!=null&&f(t,["thoughtsTokenCount"],h);const g=u(n,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(n,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(R=>R)),f(t,["promptTokensDetails"],_)}const m=u(n,["cacheTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(R=>R)),f(t,["cacheTokensDetails"],_)}const v=u(n,["candidatesTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(R=>R)),f(t,["responseTokensDetails"],_)}const E=u(n,["toolUsePromptTokensDetails"]);if(E!=null){let _=E;Array.isArray(_)&&(_=_.map(R=>R)),f(t,["toolUsePromptTokensDetails"],_)}const x=u(n,["trafficType"]);return x!=null&&f(t,["trafficType"],x),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d_(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function h_(n){const t={},o=u(n,["content"]);o!=null&&f(t,["content"],o);const s=u(n,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],p_(s));const a=u(n,["tokenCount"]);a!=null&&f(t,["tokenCount"],a);const c=u(n,["finishReason"]);c!=null&&f(t,["finishReason"],c);const h=u(n,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const g=u(n,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&f(t,["index"],y);const m=u(n,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(n,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(_=>_)),f(t,["safetyRatings"],x)}const E=u(n,["urlContextMetadata"]);return E!=null&&f(t,["urlContextMetadata"],E),t}function p_(n){const t={},o=u(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),f(t,["citations"],s)}return t}function m_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["contents"]);if(a!=null){let c=Jt(a);Array.isArray(c)&&(c=c.map(h=>h)),f(o,["contents"],c)}return o}function g_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),f(t,["tokensInfo"],a)}return t}function y_(n){const t={},o=u(n,["values"]);o!=null&&f(t,["values"],o);const s=u(n,["statistics"]);return s!=null&&f(t,["statistics"],v_(s)),t}function v_(n){const t={},o=u(n,["truncated"]);o!=null&&f(t,["truncated"],o);const s=u(n,["token_count"]);return s!=null&&f(t,["tokenCount"],s),t}function tr(n){const t={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>bA(c))),f(t,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(t,["role"],s),t}function T_(n){const t={},o=u(n,["controlType"]);o!=null&&f(t,["controlType"],o);const s=u(n,["enableControlImageComputation"]);return s!=null&&f(t,["computeControl"],s),t}function S_(n){const t={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function E_(n,t){const o={},s=u(n,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],ht(s));const a=u(n,["tools"]);if(t!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>Bg(g))),f(t,["tools"],h)}const c=u(n,["generationConfig"]);return t!==void 0&&c!=null&&f(t,["generationConfig"],dA(c)),o}function x_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["contents"]);if(a!=null){let h=Jt(a);Array.isArray(h)&&(h=h.map(g=>tr(g))),f(o,["contents"],h)}const c=u(t,["config"]);return c!=null&&S_(c),o}function C_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["contents"]);if(a!=null){let h=Jt(a);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["contents"],h)}const c=u(t,["config"]);return c!=null&&E_(c,o),o}function __(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["totalTokens"]);s!=null&&f(t,["totalTokens"],s);const a=u(n,["cachedContentTokenCount"]);return a!=null&&f(t,["cachedContentTokenCount"],a),t}function A_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["totalTokens"]);return s!=null&&f(t,["totalTokens"],s),t}function N_(n,t){const o={},s=u(t,["model"]);return s!=null&&f(o,["_url","name"],Ie(n,s)),o}function b_(n,t){const o={},s=u(t,["model"]);return s!=null&&f(o,["_url","name"],Ie(n,s)),o}function R_(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function M_(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function w_(n,t){const o={},s=u(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const a=u(n,["negativePrompt"]);t!==void 0&&a!=null&&f(t,["parameters","negativePrompt"],a);const c=u(n,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const h=u(n,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const g=u(n,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=u(n,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const m=u(n,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const E=u(n,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const x=u(n,["includeRaiReason"]);t!==void 0&&x!=null&&f(t,["parameters","includeRaiReason"],x);const _=u(n,["language"]);t!==void 0&&_!=null&&f(t,["parameters","language"],_);const R=u(n,["outputMimeType"]);t!==void 0&&R!=null&&f(t,["parameters","outputOptions","mimeType"],R);const w=u(n,["outputCompressionQuality"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","compressionQuality"],w);const U=u(n,["addWatermark"]);t!==void 0&&U!=null&&f(t,["parameters","addWatermark"],U);const L=u(n,["labels"]);t!==void 0&&L!=null&&f(t,["labels"],L);const F=u(n,["editMode"]);t!==void 0&&F!=null&&f(t,["parameters","editMode"],F);const z=u(n,["baseSteps"]);return t!==void 0&&z!=null&&f(t,["parameters","editConfig","baseSteps"],z),o}function D_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>UA(y))),f(o,["instances[0]","referenceImages"],g)}const h=u(t,["config"]);return h!=null&&w_(h,o),o}function I_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>nr(c))),f(t,["generatedImages"],a)}return t}function U_(n,t){const o={},s=u(n,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const a=u(n,["title"]);t!==void 0&&a!=null&&f(t,["requests[]","title"],a);const c=u(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function k_(n,t){const o={},s=u(n,["taskType"]);t!==void 0&&s!=null&&f(t,["instances[]","task_type"],s);const a=u(n,["title"]);t!==void 0&&a!=null&&f(t,["instances[]","title"],a);const c=u(n,["outputDimensionality"]);t!==void 0&&c!=null&&f(t,["parameters","outputDimensionality"],c);const h=u(n,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const g=u(n,["autoTruncate"]);return t!==void 0&&g!=null&&f(t,["parameters","autoTruncate"],g),o}function L_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["contents"]);if(a!=null){let g=ec(n,a);Array.isArray(g)&&(g=g.map(y=>y)),f(o,["requests[]","content"],g)}const c=u(t,["config"]);c!=null&&U_(c,o);const h=u(t,["model"]);return h!==void 0&&f(o,["requests[]","model"],Ie(n,h)),o}function P_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["contents"]);if(a!=null){let h=ec(n,a);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["instances[]","content"],h)}const c=u(t,["config"]);return c!=null&&k_(c,o),o}function O_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["embeddings"],c)}const a=u(n,["metadata"]);return a!=null&&f(t,["metadata"],a),t}function H_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["predictions[]","embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>y_(h))),f(t,["embeddings"],c)}const a=u(n,["metadata"]);return a!=null&&f(t,["metadata"],a),t}function G_(n){const t={},o=u(n,["endpoint"]);o!=null&&f(t,["name"],o);const s=u(n,["deployedModelId"]);return s!=null&&f(t,["deployedModelId"],s),t}function q_(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function V_(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const s=u(n,["args"]);s!=null&&f(t,["args"],s);const a=u(n,["name"]);if(a!=null&&f(t,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function z_(n){const t={},o=u(n,["mode"]);o!=null&&f(t,["mode"],o);const s=u(n,["allowedFunctionNames"]);if(s!=null&&f(t,["allowedFunctionNames"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function B_(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(n,["description"]);o!=null&&f(t,["description"],o);const s=u(n,["name"]);s!=null&&f(t,["name"],s);const a=u(n,["parameters"]);a!=null&&f(t,["parameters"],a);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const h=u(n,["response"]);h!=null&&f(t,["response"],h);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function F_(n,t,o){const s={},a=u(t,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],tr(ht(a)));const c=u(t,["temperature"]);c!=null&&f(s,["temperature"],c);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const g=u(t,["topK"]);g!=null&&f(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const x=u(t,["logprobs"]);x!=null&&f(s,["logprobs"],x);const _=u(t,["presencePenalty"]);_!=null&&f(s,["presencePenalty"],_);const R=u(t,["frequencyPenalty"]);R!=null&&f(s,["frequencyPenalty"],R);const w=u(t,["seed"]);w!=null&&f(s,["seed"],w);const U=u(t,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const L=u(t,["responseSchema"]);L!=null&&f(s,["responseSchema"],tc(L));const F=u(t,["responseJsonSchema"]);if(F!=null&&f(s,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(t,["safetySettings"]);if(o!==void 0&&z!=null){let ce=z;Array.isArray(ce)&&(ce=ce.map(ke=>kA(ke))),f(o,["safetySettings"],ce)}const X=u(t,["tools"]);if(o!==void 0&&X!=null){let ce=xo(X);Array.isArray(ce)&&(ce=ce.map(ke=>VA(Eo(ke)))),f(o,["tools"],ce)}const j=u(t,["toolConfig"]);if(o!==void 0&&j!=null&&f(o,["toolConfig"],qA(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=u(t,["cachedContent"]);o!==void 0&&P!=null&&f(o,["cachedContent"],An(n,P));const G=u(t,["responseModalities"]);G!=null&&f(s,["responseModalities"],G);const ue=u(t,["mediaResolution"]);ue!=null&&f(s,["mediaResolution"],ue);const ee=u(t,["speechConfig"]);if(ee!=null&&f(s,["speechConfig"],nc(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(t,["thinkingConfig"]);he!=null&&f(s,["thinkingConfig"],he);const Se=u(t,["imageConfig"]);return Se!=null&&f(s,["imageConfig"],yA(Se)),s}function Y_(n,t,o){const s={},a=u(t,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],ht(a));const c=u(t,["temperature"]);c!=null&&f(s,["temperature"],c);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const g=u(t,["topK"]);g!=null&&f(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const x=u(t,["logprobs"]);x!=null&&f(s,["logprobs"],x);const _=u(t,["presencePenalty"]);_!=null&&f(s,["presencePenalty"],_);const R=u(t,["frequencyPenalty"]);R!=null&&f(s,["frequencyPenalty"],R);const w=u(t,["seed"]);w!=null&&f(s,["seed"],w);const U=u(t,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const L=u(t,["responseSchema"]);L!=null&&f(s,["responseSchema"],tc(L));const F=u(t,["responseJsonSchema"]);F!=null&&f(s,["responseJsonSchema"],F);const z=u(t,["routingConfig"]);z!=null&&f(s,["routingConfig"],z);const X=u(t,["modelSelectionConfig"]);X!=null&&f(s,["modelConfig"],X);const j=u(t,["safetySettings"]);if(o!==void 0&&j!=null){let H=j;Array.isArray(H)&&(H=H.map(Q=>Q)),f(o,["safetySettings"],H)}const P=u(t,["tools"]);if(o!==void 0&&P!=null){let H=xo(P);Array.isArray(H)&&(H=H.map(Q=>Bg(Eo(Q)))),f(o,["tools"],H)}const G=u(t,["toolConfig"]);o!==void 0&&G!=null&&f(o,["toolConfig"],G);const ue=u(t,["labels"]);o!==void 0&&ue!=null&&f(o,["labels"],ue);const ee=u(t,["cachedContent"]);o!==void 0&&ee!=null&&f(o,["cachedContent"],An(n,ee));const he=u(t,["responseModalities"]);he!=null&&f(s,["responseModalities"],he);const Se=u(t,["mediaResolution"]);Se!=null&&f(s,["mediaResolution"],Se);const ce=u(t,["speechConfig"]);ce!=null&&f(s,["speechConfig"],zg(nc(ce)));const ke=u(t,["audioTimestamp"]);ke!=null&&f(s,["audioTimestamp"],ke);const ze=u(t,["thinkingConfig"]);ze!=null&&f(s,["thinkingConfig"],ze);const Be=u(t,["imageConfig"]);return Be!=null&&f(s,["imageConfig"],vA(Be)),s}function qm(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["contents"]);if(a!=null){let h=Jt(a);Array.isArray(h)&&(h=h.map(g=>tr(g))),f(o,["contents"],h)}const c=u(t,["config"]);return c!=null&&f(o,["generationConfig"],F_(n,c,o)),o}function Vm(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["contents"]);if(a!=null){let h=Jt(a);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["contents"],h)}const c=u(t,["config"]);return c!=null&&f(o,["generationConfig"],Y_(n,c,o)),o}function zm(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>h_(m))),f(t,["candidates"],y)}const a=u(n,["modelVersion"]);a!=null&&f(t,["modelVersion"],a);const c=u(n,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const h=u(n,["responseId"]);h!=null&&f(t,["responseId"],h);const g=u(n,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function Bm(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),f(t,["candidates"],m)}const a=u(n,["createTime"]);a!=null&&f(t,["createTime"],a);const c=u(n,["modelVersion"]);c!=null&&f(t,["modelVersion"],c);const h=u(n,["promptFeedback"]);h!=null&&f(t,["promptFeedback"],h);const g=u(n,["responseId"]);g!=null&&f(t,["responseId"],g);const y=u(n,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function J_(n,t){const o={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(n,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const a=u(n,["aspectRatio"]);t!==void 0&&a!=null&&f(t,["parameters","aspectRatio"],a);const c=u(n,["guidanceScale"]);if(t!==void 0&&c!=null&&f(t,["parameters","guidanceScale"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(n,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const g=u(n,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const y=u(n,["includeSafetyAttributes"]);t!==void 0&&y!=null&&f(t,["parameters","includeSafetyAttributes"],y);const m=u(n,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const v=u(n,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const E=u(n,["outputMimeType"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","mimeType"],E);const x=u(n,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&f(t,["parameters","outputOptions","compressionQuality"],x),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=u(n,["imageSize"]);if(t!==void 0&&_!=null&&f(t,["parameters","sampleImageSize"],_),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function X_(n,t){const o={},s=u(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const a=u(n,["negativePrompt"]);t!==void 0&&a!=null&&f(t,["parameters","negativePrompt"],a);const c=u(n,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const h=u(n,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const g=u(n,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=u(n,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const m=u(n,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const E=u(n,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const x=u(n,["includeRaiReason"]);t!==void 0&&x!=null&&f(t,["parameters","includeRaiReason"],x);const _=u(n,["language"]);t!==void 0&&_!=null&&f(t,["parameters","language"],_);const R=u(n,["outputMimeType"]);t!==void 0&&R!=null&&f(t,["parameters","outputOptions","mimeType"],R);const w=u(n,["outputCompressionQuality"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","compressionQuality"],w);const U=u(n,["addWatermark"]);t!==void 0&&U!=null&&f(t,["parameters","addWatermark"],U);const L=u(n,["labels"]);t!==void 0&&L!=null&&f(t,["labels"],L);const F=u(n,["imageSize"]);t!==void 0&&F!=null&&f(t,["parameters","sampleImageSize"],F);const z=u(n,["enhancePrompt"]);return t!==void 0&&z!=null&&f(t,["parameters","enhancePrompt"],z),o}function K_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(t,["config"]);return c!=null&&J_(c,o),o}function Q_(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(t,["config"]);return c!=null&&X_(c,o),o}function Z_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>aA(h))),f(t,["generatedImages"],c)}const a=u(n,["positivePromptSafetyAttributes"]);return a!=null&&f(t,["positivePromptSafetyAttributes"],qg(a)),t}function $_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>nr(h))),f(t,["generatedImages"],c)}const a=u(n,["positivePromptSafetyAttributes"]);return a!=null&&f(t,["positivePromptSafetyAttributes"],Vg(a)),t}function W_(n,t){const o={},s=u(n,["numberOfVideos"]);if(t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=u(n,["durationSeconds"]);if(t!==void 0&&a!=null&&f(t,["parameters","durationSeconds"],a),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(n,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const h=u(n,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const g=u(n,["personGeneration"]);if(t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(n,["negativePrompt"]);t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y);const m=u(n,["enhancePrompt"]);if(t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(n,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],ir(v));const E=u(n,["referenceImages"]);if(t!==void 0&&E!=null){let x=E;Array.isArray(x)&&(x=x.map(_=>e1(_))),f(t,["instances[0]","referenceImages"],x)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function j_(n,t){const o={},s=u(n,["numberOfVideos"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const a=u(n,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const c=u(n,["fps"]);t!==void 0&&c!=null&&f(t,["parameters","fps"],c);const h=u(n,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const g=u(n,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(n,["aspectRatio"]);t!==void 0&&y!=null&&f(t,["parameters","aspectRatio"],y);const m=u(n,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const v=u(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const E=u(n,["pubsubTopic"]);t!==void 0&&E!=null&&f(t,["parameters","pubsubTopic"],E);const x=u(n,["negativePrompt"]);t!==void 0&&x!=null&&f(t,["parameters","negativePrompt"],x);const _=u(n,["enhancePrompt"]);t!==void 0&&_!=null&&f(t,["parameters","enhancePrompt"],_);const R=u(n,["generateAudio"]);t!==void 0&&R!=null&&f(t,["parameters","generateAudio"],R);const w=u(n,["lastFrame"]);t!==void 0&&w!=null&&f(t,["instances[0]","lastFrame"],$t(w));const U=u(n,["referenceImages"]);if(t!==void 0&&U!=null){let z=U;Array.isArray(z)&&(z=z.map(X=>t1(X))),f(t,["instances[0]","referenceImages"],z)}const L=u(n,["mask"]);t!==void 0&&L!=null&&f(t,["instances[0]","mask"],jA(L));const F=u(n,["compressionQuality"]);return t!==void 0&&F!=null&&f(t,["parameters","compressionQuality"],F),o}function eA(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["metadata"]);s!=null&&f(t,["metadata"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],oA(h)),t}function tA(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["metadata"]);s!=null&&f(t,["metadata"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],lA(h)),t}function nA(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(t,["image"]);c!=null&&f(o,["instances[0]","image"],ir(c));const h=u(t,["video"]);h!=null&&f(o,["instances[0]","video"],Fg(h));const g=u(t,["source"]);g!=null&&sA(g,o);const y=u(t,["config"]);return y!=null&&W_(y,o),o}function iA(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(t,["image"]);c!=null&&f(o,["instances[0]","image"],$t(c));const h=u(t,["video"]);h!=null&&f(o,["instances[0]","video"],Yg(h));const g=u(t,["source"]);g!=null&&rA(g,o);const y=u(t,["config"]);return y!=null&&j_(y,o),o}function oA(n){const t={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>cA(h))),f(t,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const a=u(n,["raiMediaFilteredReasons"]);return a!=null&&f(t,["raiMediaFilteredReasons"],a),t}function lA(n){const t={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>fA(h))),f(t,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const a=u(n,["raiMediaFilteredReasons"]);return a!=null&&f(t,["raiMediaFilteredReasons"],a),t}function sA(n,t){const o={},s=u(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const a=u(n,["image"]);t!==void 0&&a!=null&&f(t,["instances[0]","image"],ir(a));const c=u(n,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],Fg(c)),o}function rA(n,t){const o={},s=u(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const a=u(n,["image"]);t!==void 0&&a!=null&&f(t,["instances[0]","image"],$t(a));const c=u(n,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],Yg(c)),o}function aA(n){const t={},o=u(n,["_self"]);o!=null&&f(t,["image"],TA(o));const s=u(n,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const a=u(n,["_self"]);return a!=null&&f(t,["safetyAttributes"],qg(a)),t}function nr(n){const t={},o=u(n,["_self"]);o!=null&&f(t,["image"],Gg(o));const s=u(n,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const a=u(n,["_self"]);a!=null&&f(t,["safetyAttributes"],Vg(a));const c=u(n,["prompt"]);return c!=null&&f(t,["enhancedPrompt"],c),t}function uA(n){const t={},o=u(n,["_self"]);o!=null&&f(t,["mask"],Gg(o));const s=u(n,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),f(t,["labels"],a)}return t}function cA(n){const t={},o=u(n,["video"]);return o!=null&&f(t,["video"],$A(o)),t}function fA(n){const t={},o=u(n,["_self"]);return o!=null&&f(t,["video"],WA(o)),t}function dA(n){const t={},o=u(n,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const s=u(n,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const a=u(n,["audioTimestamp"]);a!=null&&f(t,["audioTimestamp"],a);const c=u(n,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const h=u(n,["enableAffectiveDialog"]);h!=null&&f(t,["enableAffectiveDialog"],h);const g=u(n,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&f(t,["logprobs"],y);const m=u(n,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(n,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const E=u(n,["presencePenalty"]);E!=null&&f(t,["presencePenalty"],E);const x=u(n,["responseLogprobs"]);x!=null&&f(t,["responseLogprobs"],x);const _=u(n,["responseMimeType"]);_!=null&&f(t,["responseMimeType"],_);const R=u(n,["responseModalities"]);R!=null&&f(t,["responseModalities"],R);const w=u(n,["responseSchema"]);w!=null&&f(t,["responseSchema"],w);const U=u(n,["routingConfig"]);U!=null&&f(t,["routingConfig"],U);const L=u(n,["seed"]);L!=null&&f(t,["seed"],L);const F=u(n,["speechConfig"]);F!=null&&f(t,["speechConfig"],zg(F));const z=u(n,["stopSequences"]);z!=null&&f(t,["stopSequences"],z);const X=u(n,["temperature"]);X!=null&&f(t,["temperature"],X);const j=u(n,["thinkingConfig"]);j!=null&&f(t,["thinkingConfig"],j);const P=u(n,["topK"]);P!=null&&f(t,["topK"],P);const G=u(n,["topP"]);if(G!=null&&f(t,["topP"],G),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function hA(n,t){const o={},s=u(t,["model"]);return s!=null&&f(o,["_url","name"],Ie(n,s)),o}function pA(n,t){const o={},s=u(t,["model"]);return s!=null&&f(o,["_url","name"],Ie(n,s)),o}function mA(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function gA(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function yA(n){const t={},o=u(n,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const s=u(n,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function vA(n){const t={},o=u(n,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const s=u(n,["imageSize"]);s!=null&&f(t,["imageSize"],s);const a=u(n,["outputMimeType"]);a!=null&&f(t,["imageOutputOptions","mimeType"],a);const c=u(n,["outputCompressionQuality"]);return c!=null&&f(t,["imageOutputOptions","compressionQuality"],c),t}function TA(n){const t={},o=u(n,["bytesBase64Encoded"]);o!=null&&f(t,["imageBytes"],ii(o));const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Gg(n){const t={},o=u(n,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(t,["imageBytes"],ii(s));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function ir(n){const t={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(n,["imageBytes"]);o!=null&&f(t,["bytesBase64Encoded"],ii(o));const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function $t(n){const t={},o=u(n,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const s=u(n,["imageBytes"]);s!=null&&f(t,["bytesBase64Encoded"],ii(s));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function SA(n,t,o){const s={},a=u(t,["pageSize"]);o!==void 0&&a!=null&&f(o,["_query","pageSize"],a);const c=u(t,["pageToken"]);o!==void 0&&c!=null&&f(o,["_query","pageToken"],c);const h=u(t,["filter"]);o!==void 0&&h!=null&&f(o,["_query","filter"],h);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],Dg(n,g)),s}function EA(n,t,o){const s={},a=u(t,["pageSize"]);o!==void 0&&a!=null&&f(o,["_query","pageSize"],a);const c=u(t,["pageToken"]);o!==void 0&&c!=null&&f(o,["_query","pageToken"],c);const h=u(t,["filter"]);o!==void 0&&h!=null&&f(o,["_query","filter"],h);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],Dg(n,g)),s}function xA(n,t){const o={},s=u(t,["config"]);return s!=null&&SA(n,s,o),o}function CA(n,t){const o={},s=u(t,["config"]);return s!=null&&EA(n,s,o),o}function _A(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["_self"]);if(a!=null){let c=Ig(a);Array.isArray(c)&&(c=c.map(h=>Hu(h))),f(t,["models"],c)}return t}function AA(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["_self"]);if(a!=null){let c=Ig(a);Array.isArray(c)&&(c=c.map(h=>Gu(h))),f(t,["models"],c)}return t}function NA(n){const t={},o=u(n,["maskMode"]);o!=null&&f(t,["maskMode"],o);const s=u(n,["segmentationClasses"]);s!=null&&f(t,["maskClasses"],s);const a=u(n,["maskDilation"]);return a!=null&&f(t,["dilation"],a),t}function Hu(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["displayName"]);s!=null&&f(t,["displayName"],s);const a=u(n,["description"]);a!=null&&f(t,["description"],a);const c=u(n,["version"]);c!=null&&f(t,["version"],c);const h=u(n,["_self"]);h!=null&&f(t,["tunedModelInfo"],zA(h));const g=u(n,["inputTokenLimit"]);g!=null&&f(t,["inputTokenLimit"],g);const y=u(n,["outputTokenLimit"]);y!=null&&f(t,["outputTokenLimit"],y);const m=u(n,["supportedGenerationMethods"]);m!=null&&f(t,["supportedActions"],m);const v=u(n,["temperature"]);v!=null&&f(t,["temperature"],v);const E=u(n,["maxTemperature"]);E!=null&&f(t,["maxTemperature"],E);const x=u(n,["topP"]);x!=null&&f(t,["topP"],x);const _=u(n,["topK"]);_!=null&&f(t,["topK"],_);const R=u(n,["thinking"]);return R!=null&&f(t,["thinking"],R),t}function Gu(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["displayName"]);s!=null&&f(t,["displayName"],s);const a=u(n,["description"]);a!=null&&f(t,["description"],a);const c=u(n,["versionId"]);c!=null&&f(t,["version"],c);const h=u(n,["deployedModels"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(x=>G_(x))),f(t,["endpoints"],E)}const g=u(n,["labels"]);g!=null&&f(t,["labels"],g);const y=u(n,["_self"]);y!=null&&f(t,["tunedModelInfo"],BA(y));const m=u(n,["defaultCheckpointId"]);m!=null&&f(t,["defaultCheckpointId"],m);const v=u(n,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>x)),f(t,["checkpoints"],E)}return t}function bA(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(t,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],q_(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],V_(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],d_(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const x=u(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function RA(n){const t={},o=u(n,["productImage"]);return o!=null&&f(t,["image"],$t(o)),t}function MA(n,t){const o={},s=u(n,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const a=u(n,["baseSteps"]);t!==void 0&&a!=null&&f(t,["parameters","baseSteps"],a);const c=u(n,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const h=u(n,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const g=u(n,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(n,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const m=u(n,["addWatermark"]);t!==void 0&&m!=null&&f(t,["parameters","addWatermark"],m);const v=u(n,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const E=u(n,["outputCompressionQuality"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E);const x=u(n,["enhancePrompt"]);t!==void 0&&x!=null&&f(t,["parameters","enhancePrompt"],x);const _=u(n,["labels"]);return t!==void 0&&_!=null&&f(t,["labels"],_),o}function wA(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["source"]);a!=null&&IA(a,o);const c=u(t,["config"]);return c!=null&&MA(c,o),o}function DA(n){const t={},o=u(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>nr(a))),f(t,["generatedImages"],s)}return t}function IA(n,t){const o={},s=u(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const a=u(n,["personImage"]);t!==void 0&&a!=null&&f(t,["instances[0]","personImage","image"],$t(a));const c=u(n,["productImages"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>RA(g))),f(t,["instances[0]","productImages"],h)}return o}function UA(n){const t={},o=u(n,["referenceImage"]);o!=null&&f(t,["referenceImage"],$t(o));const s=u(n,["referenceId"]);s!=null&&f(t,["referenceId"],s);const a=u(n,["referenceType"]);a!=null&&f(t,["referenceType"],a);const c=u(n,["maskImageConfig"]);c!=null&&f(t,["maskImageConfig"],NA(c));const h=u(n,["controlImageConfig"]);h!=null&&f(t,["controlImageConfig"],T_(h));const g=u(n,["styleImageConfig"]);g!=null&&f(t,["styleImageConfig"],g);const y=u(n,["subjectImageConfig"]);return y!=null&&f(t,["subjectImageConfig"],y),t}function qg(n){const t={},o=u(n,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const s=u(n,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const a=u(n,["contentType"]);return a!=null&&f(t,["contentType"],a),t}function Vg(n){const t={},o=u(n,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const s=u(n,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const a=u(n,["contentType"]);return a!=null&&f(t,["contentType"],a),t}function kA(n){const t={},o=u(n,["category"]);if(o!=null&&f(t,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function LA(n){const t={},o=u(n,["image"]);return o!=null&&f(t,["image"],$t(o)),t}function PA(n,t){const o={},s=u(n,["mode"]);t!==void 0&&s!=null&&f(t,["parameters","mode"],s);const a=u(n,["maxPredictions"]);t!==void 0&&a!=null&&f(t,["parameters","maxPredictions"],a);const c=u(n,["confidenceThreshold"]);t!==void 0&&c!=null&&f(t,["parameters","confidenceThreshold"],c);const h=u(n,["maskDilation"]);t!==void 0&&h!=null&&f(t,["parameters","maskDilation"],h);const g=u(n,["binaryColorThreshold"]);t!==void 0&&g!=null&&f(t,["parameters","binaryColorThreshold"],g);const y=u(n,["labels"]);return t!==void 0&&y!=null&&f(t,["labels"],y),o}function OA(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["source"]);a!=null&&GA(a,o);const c=u(t,["config"]);return c!=null&&PA(c,o),o}function HA(n){const t={},o=u(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>uA(a))),f(t,["generatedMasks"],s)}return t}function GA(n,t){const o={},s=u(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const a=u(n,["image"]);t!==void 0&&a!=null&&f(t,["instances[0]","image"],$t(a));const c=u(n,["scribbleImage"]);return t!==void 0&&c!=null&&f(t,["instances[0]","scribble"],LA(c)),o}function zg(n){const t={},o=u(n,["languageCode"]);o!=null&&f(t,["languageCode"],o);const s=u(n,["voiceConfig"]);if(s!=null&&f(t,["voiceConfig"],s),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function qA(n){const t={},o=u(n,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],z_(o));const s=u(n,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],s),t}function VA(n){const t={},o=u(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const a=u(n,["computerUse"]);a!=null&&f(t,["computerUse"],a);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],mA(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],gA(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function Bg(n){const t={},o=u(n,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(x=>B_(x))),f(t,["functionDeclarations"],E)}const s=u(n,["retrieval"]);s!=null&&f(t,["retrieval"],s);const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(n,["codeExecution"]);h!=null&&f(t,["codeExecution"],h);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function zA(n){const t={},o=u(n,["baseModel"]);o!=null&&f(t,["baseModel"],o);const s=u(n,["createTime"]);s!=null&&f(t,["createTime"],s);const a=u(n,["updateTime"]);return a!=null&&f(t,["updateTime"],a),t}function BA(n){const t={},o=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(t,["baseModel"],o);const s=u(n,["createTime"]);s!=null&&f(t,["createTime"],s);const a=u(n,["updateTime"]);return a!=null&&f(t,["updateTime"],a),t}function FA(n,t){const o={},s=u(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const a=u(n,["description"]);t!==void 0&&a!=null&&f(t,["description"],a);const c=u(n,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),o}function YA(n,t){const o={},s=u(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const a=u(n,["description"]);t!==void 0&&a!=null&&f(t,["description"],a);const c=u(n,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),o}function JA(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","name"],Ie(n,s));const a=u(t,["config"]);return a!=null&&FA(a,o),o}function XA(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["config"]);return a!=null&&YA(a,o),o}function KA(n,t){const o={},s=u(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const a=u(n,["safetyFilterLevel"]);t!==void 0&&a!=null&&f(t,["parameters","safetySetting"],a);const c=u(n,["personGeneration"]);t!==void 0&&c!=null&&f(t,["parameters","personGeneration"],c);const h=u(n,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const g=u(n,["outputMimeType"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","mimeType"],g);const y=u(n,["outputCompressionQuality"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","compressionQuality"],y);const m=u(n,["enhanceInputImage"]);t!==void 0&&m!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(n,["imagePreservationFactor"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(n,["labels"]);t!==void 0&&E!=null&&f(t,["labels"],E);const x=u(n,["numberOfImages"]);t!==void 0&&x!=null&&f(t,["parameters","sampleCount"],x);const _=u(n,["mode"]);return t!==void 0&&_!=null&&f(t,["parameters","mode"],_),o}function QA(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(n,s));const a=u(t,["image"]);a!=null&&f(o,["instances[0]","image"],$t(a));const c=u(t,["upscaleFactor"]);c!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],c);const h=u(t,["config"]);return h!=null&&KA(h,o),o}function ZA(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>nr(c))),f(t,["generatedImages"],a)}return t}function $A(n){const t={},o=u(n,["uri"]);o!=null&&f(t,["uri"],o);const s=u(n,["encodedVideo"]);s!=null&&f(t,["videoBytes"],ii(s));const a=u(n,["encoding"]);return a!=null&&f(t,["mimeType"],a),t}function WA(n){const t={},o=u(n,["gcsUri"]);o!=null&&f(t,["uri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],ii(s));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function jA(n){const t={},o=u(n,["image"]);o!=null&&f(t,["_self"],$t(o));const s=u(n,["maskMode"]);return s!=null&&f(t,["maskMode"],s),t}function e1(n){const t={},o=u(n,["image"]);o!=null&&f(t,["image"],ir(o));const s=u(n,["referenceType"]);return s!=null&&f(t,["referenceType"],s),t}function t1(n){const t={},o=u(n,["image"]);o!=null&&f(t,["image"],$t(o));const s=u(n,["referenceType"]);return s!=null&&f(t,["referenceType"],s),t}function Fg(n){const t={},o=u(n,["uri"]);o!=null&&f(t,["uri"],o);const s=u(n,["videoBytes"]);s!=null&&f(t,["encodedVideo"],ii(s));const a=u(n,["mimeType"]);return a!=null&&f(t,["encoding"],a),t}function Yg(n){const t={},o=u(n,["uri"]);o!=null&&f(t,["gcsUri"],o);const s=u(n,["videoBytes"]);s!=null&&f(t,["bytesBase64Encoded"],ii(s));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1(n,t){const o={},s=u(n,["displayName"]);return t!==void 0&&s!=null&&f(t,["displayName"],s),o}function i1(n){const t={},o=u(n,["config"]);return o!=null&&n1(o,t),t}function o1(n,t){const o={},s=u(n,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),o}function l1(n){const t={},o=u(n,["name"]);o!=null&&f(t,["_url","name"],o);const s=u(n,["config"]);return s!=null&&o1(s,t),t}function s1(n){const t={},o=u(n,["name"]);return o!=null&&f(t,["_url","name"],o),t}function r1(n,t){const o={},s=u(n,["customMetadata"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["customMetadata"],c)}const a=u(n,["chunkingConfig"]);return t!==void 0&&a!=null&&f(t,["chunkingConfig"],a),o}function a1(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const s=u(n,["metadata"]);s!=null&&f(t,["metadata"],s);const a=u(n,["done"]);a!=null&&f(t,["done"],a);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const h=u(n,["response"]);return h!=null&&f(t,["response"],c1(h)),t}function u1(n){const t={},o=u(n,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const s=u(n,["fileName"]);s!=null&&f(t,["fileName"],s);const a=u(n,["config"]);return a!=null&&r1(a,t),t}function c1(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(t,["parent"],s);const a=u(n,["documentName"]);return a!=null&&f(t,["documentName"],a),t}function f1(n,t){const o={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const a=u(n,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function d1(n){const t={},o=u(n,["config"]);return o!=null&&f1(o,t),t}function h1(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["fileSearchStores"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["fileSearchStores"],c)}return t}function Jg(n,t){const o={},s=u(n,["mimeType"]);t!==void 0&&s!=null&&f(t,["mimeType"],s);const a=u(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const c=u(n,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const h=u(n,["chunkingConfig"]);return t!==void 0&&h!=null&&f(t,["chunkingConfig"],h),o}function p1(n){const t={},o=u(n,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const s=u(n,["config"]);return s!=null&&Jg(s,t),t}function m1(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g1="Content-Type",y1="X-Server-Timeout",v1="User-Agent",qu="x-goog-api-client",T1="1.31.0",S1=`google-genai-sdk/${T1}`,E1="v1beta1",x1="v1beta",Fm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class C1{constructor(t){var o,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:E1,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:x1,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,s){const a=[this.getRequestUrlInternal(o)];return s&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,o,s);if(t.queryParams)for(const[h,g]of Object.entries(t.queryParams))a.searchParams.append(h,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,a.toString(),t.abortSignal),this.unaryApiCall(a,c,t.httpMethod)}patchHttpOptions(t,o){const s=JSON.parse(JSON.stringify(t));for(const[a,c]of Object.entries(o))typeof c=="object"?s[a]=Object.assign(Object.assign({},s[a]),c):c!==void 0&&(s[a]=c);return s}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,o,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,a.toString(),t.abortSignal),this.streamApiCall(a,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,s,a){if(o&&o.timeout||a){const c=new AbortController,h=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),t.signal=h}return o&&o.extraBody!==null&&_1(t,o.extraBody),t.headers=await this.getHeadersInternal(o,s),t}async unaryApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async a=>(await Ym(a),new Lu(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async a=>(await Ym(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var o;return yo(this,arguments,function*(){const a=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let h="";for(;;){const{done:g,value:y}=yield Je(a.read());if(g){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(y,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const x=JSON.parse(JSON.stringify(E.error)),_=x.status,R=x.code,w=`got status: ${_}. ${JSON.stringify(E)}`;if(R>=400&&R<600)throw new er({message:w,status:R})}}catch(E){if(E.name==="ApiError")throw E}h+=m;let v=h.match(Fm);for(;v;){const E=v[1];try{const x=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Je(new Lu(x)),h=h.slice(v[0].length),v=h.match(Fm)}catch(x){throw new Error(`exception parsing stream chunk ${E}. ${x}`)}}}}finally{a.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},o=S1+" "+this.clientOptions.userAgentExtra;return t[v1]=o,t[qu]=o,t[g1]="application/json",t}async getHeadersInternal(t,o){const s=new Headers;if(t&&t.headers){for(const[a,c]of Object.entries(t.headers))s.append(a,c);t.timeout&&t.timeout>0&&s.append(y1,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(t){var o;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(t,o){var s;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,h=await c.stat(t);a.sizeBytes=String(h.size);const g=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:h.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=g;const y={file:a},m=this.getFileName(t),v=te("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,m,y,o==null?void 0:o.httpOptions);return c.upload(t,E,this)}async uploadFileToFileSearchStore(t,o,s){var a;const c=this.clientOptions.uploader,h=await c.stat(o),g=String(h.size),y=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:h.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),E={};s!=null&&Jg(s,E);const x=await this.fetchUploadUrl(m,g,y,v,E,s==null?void 0:s.httpOptions);return c.uploadToFileSearchStore(o,x,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,s,a,c,h){var g;let y={};h?y=h:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Ym(n){var t;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(s);throw o>=400&&o<600?new er({message:a,status:o}):new Error(a)}}function _1(n,t){if(!t||Object.keys(t).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,h){const g=Object.assign({},c);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const m=h[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const a=s(o,t);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A1="mcp_used/unknown";let N1=!1;function Xg(n){for(const t of n)if(b1(t)||typeof t=="object"&&"inputSchema"in t)return!0;return N1}function Kg(n){var t;const o=(t=n[qu])!==null&&t!==void 0?t:"";n[qu]=(o+` ${A1}`).trimStart()}function b1(n){return n!==null&&typeof n=="object"&&n instanceof oc}function R1(n,t=100){return yo(this,arguments,function*(){let s,a=0;for(;a<t;){const c=yield Je(n.listTools({cursor:s}));for(const h of c.tools)yield yield Je(h),a++;if(!c.nextCursor)break;s=c.nextCursor}})}class oc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new oc(t,o)}async initialize(){var t,o,s,a;if(this.mcpTools.length>0)return;const c={},h=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,El(R1(v))),m;m=await y.next(),t=m.done,!t;g=!0){a=m.value,g=!1;const E=a;h.push(E);const x=E.name;if(c[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);c[x]=v}}catch(E){o={error:E}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=h,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),sx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const h=await a.callTool({name:s.name,arguments:s.args},void 0,c);o.push({functionResponse:{name:s.name,response:h.isError?{error:h}:h}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function M1(n,t,o){const s=new WE;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(s,a),t(s)}class w1{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s}async connect(t){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),h=U1(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(z=>{m=z}),E=t.callbacks,x=function(){m({})},_=this.apiClient,R={onopen:x,onmessage:z=>{M1(_,E.onmessage,z)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(z){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(z){}},w=this.webSocketFactory.create(y,I1(h),R);w.connect(),await v;const F={setup:{model:Ie(this.apiClient,t.model)}};return w.send(JSON.stringify(F)),new D1(w,this.apiClient)}}class D1{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=i_(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=n_(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(mo.PLAY)}pause(){this.sendPlaybackControl(mo.PAUSE)}stop(){this.sendPlaybackControl(mo.STOP)}resetContext(){this.sendPlaybackControl(mo.RESET_CONTEXT)}close(){this.conn.close()}}function I1(n){const t={};return n.forEach((o,s)=>{t[s]=o}),t}function U1(n){const t=new Headers;for(const[o,s]of Object.entries(n))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function L1(n,t,o){const s=new $E;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const c=JSON.parse(a);if(n.isVertexAI()){const h=s_(c);Object.assign(s,h)}else Object.assign(s,c);t(s)}class P1{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s,this.music=new w1(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,s,a,c,h,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&Xg(t.config.tools)&&Kg(E);const x=q1(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,v);else{const ee=this.apiClient.getApiKey();let he="BidiGenerateContent",Se="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",Se="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${he}?${Se}=${ee}`}let _=()=>{};const R=new Promise(ee=>{_=ee}),w=t.callbacks,U=function(){var ee;(ee=w==null?void 0:w.onopen)===null||ee===void 0||ee.call(w),_({})},L=this.apiClient,F={onopen:U,onmessage:ee=>{L1(L,w.onmessage,ee)},onerror:(o=w==null?void 0:w.onerror)!==null&&o!==void 0?o:function(ee){},onclose:(s=w==null?void 0:w.onclose)!==null&&s!==void 0?s:function(ee){}},z=this.webSocketFactory.create(v,G1(x),F);z.connect(),await R;let X=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const ee=this.apiClient.getProject(),he=this.apiClient.getLocation();X=`projects/${ee}/locations/${he}/`+X}let j={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Fs.AUDIO]}:t.config.responseModalities=[Fs.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(g=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[],G=[];for(const ee of P)if(this.isCallableTool(ee)){const he=ee;G.push(await he.tool())}else G.push(ee);G.length>0&&(t.config.tools=G);const ue={model:X,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=t_(this.apiClient,ue):j=e_(this.apiClient,ue),delete j.config,z.send(JSON.stringify(j)),new H1(z,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const O1={turnComplete:!0};class H1{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Jt(o.turns),t.isVertexAI()||(s=s.map(a=>tr(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(k1)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},O1),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:l_(t)}:o={realtimeInput:o_(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function G1(n){const t={};return n.forEach((o,s)=>{t[s]=o}),t}function q1(n){const t=new Headers;for(const[o,s]of Object.entries(n))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jm=10;function Xm(n){var t,o,s;if(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const h of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(vo(h)){a=!0;break}if(!a)return!0;const c=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function vo(n){return"callTool"in n&&typeof n.callTool=="function"}function V1(n){var t,o,s;return(s=(o=(t=n.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(a=>vo(a)))!==null&&s!==void 0?s:!1}function Km(n){var t;const o=[];return!((t=n==null?void 0:n.config)===null||t===void 0)&&t.tools&&n.config.tools.forEach((s,a)=>{if(vo(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(a)}),o}function Qm(n){var t;return!(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z1 extends _n{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var s,a,c,h,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!V1(o)||Xm(o.config))return await this.generateContentInternal(y);const m=Km(o);if(m.length>0){const w=m.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,E;const x=Jt(y.contents),_=(c=(a=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Jm;let R=0;for(;R<_&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,U=[];for(const L of(g=(h=o.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[])if(vo(L)){const z=await L.callTool(v.functionCalls);U.push(...z)}R++,E={role:"user",parts:U},y.contents=Jt(y.contents),y.contents.push(w),y.contents.push(E),Qm(y.config)&&(x.push(w),x.push(E))}return Qm(y.config)&&(v.automaticFunctionCallingHistory=x),v},this.generateContentStream=async o=>{var s,a,c,h,g;if(this.maybeMoveToResponseJsonSchem(o),Xm(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=Km(o);if(y.length>0){const E=y.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(a=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(h=o==null?void 0:o.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var a;let c;const h=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:h.push(y);let g;return c?g={generatedImages:h,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:h,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const h={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((s=h.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new bi(Cn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(h),h)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var s,a,c,h,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((h=(c=o.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,s,a;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const h=await Promise.all(c.map(async y=>vo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(g.config.tools=h,t.config&&t.config.tools&&Xg(t.config.tools)){const y=(a=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Kg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,s,a;const c=new Map;for(const h of(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(vo(h)){const g=h,y=await g.tool();for(const m of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,g)}}return c}async processAfcStream(t){var o,s,a;const c=(a=(s=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Jm;let h=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,E){var x,_;return yo(this,arguments,function*(){for(var R,w,U,L;g<c;){h&&(g++,h=!1);const j=yield Je(m.processParamsMaybeAddMcpUsage(E)),P=yield Je(m.generateContentStreamInternal(j)),G=[],ue=[];try{for(var F=!0,z=(w=void 0,El(P)),X;X=yield Je(z.next()),R=X.done,!R;F=!0){L=X.value,F=!1;const ee=L;if(yield yield Je(ee),ee.candidates&&(!((x=ee.candidates[0])===null||x===void 0)&&x.content)){ue.push(ee.candidates[0].content);for(const he of(_=ee.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(g<c&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(he.functionCall.name)){const Se=yield Je(v.get(he.functionCall.name).callTool([he.functionCall]));G.push(...Se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(ee){w={error:ee}}finally{try{!F&&!R&&(U=z.return)&&(yield Je(U.call(z)))}finally{if(w)throw w.error}}if(G.length>0){h=!0;const ee=new Tl;ee.candidates=[{content:{role:"user",parts:G}}],yield yield Je(ee);const he=[];he.push(...ue),he.push({role:"user",parts:G});const Se=Jt(E.contents).concat(he);E.contents=Se}else break}})})(this,y,t)}async generateContentInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Vm(this.apiClient,t);return g=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=Bm(v),x=new Tl;return Object.assign(x,E),x})}else{const m=qm(this.apiClient,t);return g=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=zm(v),x=new Tl;return Object.assign(x,E),x})}}async generateContentStreamInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Vm(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),h.then(function(E){return yo(this,arguments,function*(){var x,_,R,w;try{for(var U=!0,L=El(E),F;F=yield Je(L.next()),x=F.done,!x;U=!0){w=F.value,U=!1;const z=w,X=Bm(yield Je(z.json()));X.sdkHttpResponse={headers:z.headers};const j=new Tl;Object.assign(j,X),yield yield Je(j)}}catch(z){_={error:z}}finally{try{!U&&!x&&(R=L.return)&&(yield Je(R.call(L)))}finally{if(_)throw _.error}}})})}else{const m=qm(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),h.then(function(E){return yo(this,arguments,function*(){var x,_,R,w;try{for(var U=!0,L=El(E),F;F=yield Je(L.next()),x=F.done,!x;U=!0){w=F.value,U=!1;const z=w,X=zm(yield Je(z.json()));X.sdkHttpResponse={headers:z.headers};const j=new Tl;Object.assign(j,X),yield yield Je(j)}}catch(z){_={error:z}}finally{try{!U&&!x&&(R=L.return)&&(yield Je(R.call(L)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=P_(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=H_(v),x=new Cm;return Object.assign(x,E),x})}else{const m=L_(this.apiClient,t);return g=te("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=O_(v),x=new Cm;return Object.assign(x,E),x})}}async generateImagesInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Q_(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=$_(v),x=new _m;return Object.assign(x,E),x})}else{const m=K_(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=Z_(v),x=new _m;return Object.assign(x,E),x})}}async editImageInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI()){const g=D_(this.apiClient,t);return c=te("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=I_(y),v=new qE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI()){const g=QA(this.apiClient,t);return c=te("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=ZA(y),v=new VE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI()){const g=wA(this.apiClient,t);return c=te("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=DA(y),v=new zE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI()){const g=OA(this.apiClient,t);return c=te("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=HA(y),v=new BE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=pA(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>Gu(v))}else{const m=hA(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h.then(v=>Hu(v))}}async listInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=CA(this.apiClient,t);return g=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=AA(v),x=new Am;return Object.assign(x,E),x})}else{const m=xA(this.apiClient,t);return g=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=_A(v),x=new Am;return Object.assign(x,E),x})}}async update(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=XA(this.apiClient,t);return g=te("{model}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>Gu(v))}else{const m=JA(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h.then(v=>Hu(v))}}async delete(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=b_(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=M_(v),x=new Nm;return Object.assign(x,E),x})}else{const m=N_(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=R_(v),x=new Nm;return Object.assign(x,E),x})}}async countTokens(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=C_(this.apiClient,t);return g=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=A_(v),x=new bm;return Object.assign(x,E),x})}else{const m=x_(this.apiClient,t);return g=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=__(v),x=new bm;return Object.assign(x,E),x})}}async computeTokens(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI()){const g=m_(this.apiClient,t);return c=te("{model}:computeTokens",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=g_(y),v=new FE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=iA(this.apiClient,t);return g=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const E=tA(v),x=new Ys;return Object.assign(x,E),x})}else{const m=nA(this.apiClient,t);return g=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h.then(v=>{const E=eA(v),x=new Ys;return Object.assign(x,E),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B1 extends _n{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=kE(t);return g=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h}else{const m=UE(t);return g=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),h}}async fetchPredictVideosOperationInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI()){const g=NE(t);return c=te("{resourceName}:fetchPredictOperation",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F1(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Y1(n){const t={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>e2(c))),f(t,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(t,["role"],s),t}function J1(n,t,o){const s={},a=u(t,["expireTime"]);o!==void 0&&a!=null&&f(o,["expireTime"],a);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const h=u(t,["uses"]);o!==void 0&&h!=null&&f(o,["uses"],h);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],j1(n,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),s}function X1(n,t){const o={},s=u(t,["config"]);return s!=null&&f(o,["config"],J1(n,s,o)),o}function K1(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Q1(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const s=u(n,["args"]);s!=null&&f(t,["args"],s);const a=u(n,["name"]);if(a!=null&&f(t,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Z1(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function $1(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function W1(n,t){const o={},s=u(n,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const a=u(n,["responseModalities"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","responseModalities"],a);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const h=u(n,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","speechConfig"],ic(E));const x=u(n,["thinkingConfig"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","thinkingConfig"],x);const _=u(n,["enableAffectiveDialog"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],_);const R=u(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],Y1(ht(R)));const w=u(n,["tools"]);if(t!==void 0&&w!=null){let P=xo(w);Array.isArray(P)&&(P=P.map(G=>n2(Eo(G)))),f(t,["setup","tools"],P)}const U=u(n,["sessionResumption"]);t!==void 0&&U!=null&&f(t,["setup","sessionResumption"],t2(U));const L=u(n,["inputAudioTranscription"]);t!==void 0&&L!=null&&f(t,["setup","inputAudioTranscription"],L);const F=u(n,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const z=u(n,["realtimeInputConfig"]);t!==void 0&&z!=null&&f(t,["setup","realtimeInputConfig"],z);const X=u(n,["contextWindowCompression"]);t!==void 0&&X!=null&&f(t,["setup","contextWindowCompression"],X);const j=u(n,["proactivity"]);return t!==void 0&&j!=null&&f(t,["setup","proactivity"],j),o}function j1(n,t){const o={},s=u(t,["model"]);s!=null&&f(o,["setup","model"],Ie(n,s));const a=u(t,["config"]);return a!=null&&f(o,["config"],W1(a,o)),o}function e2(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(t,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],K1(c));const h=u(n,["functionCall"]);h!=null&&f(t,["functionCall"],Q1(h));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],F1(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(t,["thoughtSignature"],E);const x=u(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function t2(n){const t={},o=u(n,["handle"]);if(o!=null&&f(t,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function n2(n){const t={},o=u(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const a=u(n,["computerUse"]);a!=null&&f(t,["computerUse"],a);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const h=u(n,["codeExecution"]);if(h!=null&&f(t,["codeExecution"],h),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],Z1(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],$1(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i2(n){const t=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(c=>`${o}.${c}`);t.push(...a)}else t.push(o)}return t.join(",")}function o2(n,t){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,o=c):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(o){const c=i2(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];a.length>0&&(g=a.map(m=>h.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class l2 extends _n{constructor(t){super(),this.apiClient=t}async create(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=X1(this.apiClient,t);c=te("auth_tokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query;const y=o2(g,t.config);return a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s2(n,t){const o={},s=u(n,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),o}function r2(n){const t={},o=u(n,["name"]);o!=null&&f(t,["_url","name"],o);const s=u(n,["config"]);return s!=null&&s2(s,t),t}function a2(n){const t={},o=u(n,["name"]);return o!=null&&f(t,["_url","name"],o),t}function u2(n,t){const o={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const a=u(n,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function c2(n){const t={},o=u(n,["parent"]);o!=null&&f(t,["_url","parent"],o);const s=u(n,["config"]);return s!=null&&u2(s,t),t}function f2(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const a=u(n,["documents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d2 extends _n{constructor(t){super(),this.apiClient=t,this.list=async o=>new bi(Cn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=a2(t);return c=te("{name}",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,s;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=r2(t);a=te("{name}",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=c2(t);return c=te("{parent}/documents",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=f2(y),v=new YE;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h2 extends _n{constructor(t,o=new d2(t)){super(),this.apiClient=t,this.documents=o,this.list=async(s={})=>new bi(Cn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=i1(t);return c=te("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=s1(t);return c=te("{name}",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,s;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=l1(t);a=te("{name}",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=d1(t);return c=te("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=h1(y),v=new JE;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=p1(t);return c=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=m1(y),v=new XE;return Object.assign(v,m),v})}}async importFile(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=u1(t);return c=te("{file_search_store_name}:importFile",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=a1(y),v=new Wu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p2(n,t){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function m2(n,t){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function g2(n,t){const o={},s=u(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function y2(n,t){const o={},s=u(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function v2(n,t,o){const s={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=u(n,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&f(t,["displayName"],a),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const h=u(n,["learningRateMultiplier"]);if(h!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],h),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(n,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(n,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function T2(n,t,o){const s={};let a=u(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const _=u(n,["validationDataset"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec"],Zm(_))}else if(a==="PREFERENCE_TUNING"){const _=u(n,["validationDataset"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec"],Zm(_))}const c=u(n,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const h=u(n,["description"]);t!==void 0&&h!=null&&f(t,["description"],h);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=u(n,["epochCount"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(g==="PREFERENCE_TUNING"){const _=u(n,["epochCount"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const _=u(n,["learningRateMultiplier"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(y==="PREFERENCE_TUNING"){const _=u(n,["learningRateMultiplier"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const _=u(n,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(m==="PREFERENCE_TUNING"){const _=u(n,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const _=u(n,["adapterSize"]);t!==void 0&&_!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(v==="PREFERENCE_TUNING"){const _=u(n,["adapterSize"]);t!==void 0&&_!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(n,["labels"]);t!==void 0&&E!=null&&f(t,["labels"],E);const x=u(n,["beta"]);return t!==void 0&&x!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],x),s}function S2(n,t){const o={},s=u(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const a=u(n,["preTunedModel"]);a!=null&&f(o,["preTunedModel"],a);const c=u(n,["trainingDataset"]);c!=null&&D2(c);const h=u(n,["config"]);return h!=null&&v2(h,o),o}function E2(n,t){const o={},s=u(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const a=u(n,["preTunedModel"]);a!=null&&f(o,["preTunedModel"],a);const c=u(n,["trainingDataset"]);c!=null&&I2(c,o,t);const h=u(n,["config"]);return h!=null&&T2(h,o,t),o}function x2(n,t){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function C2(n,t){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function _2(n,t,o){const s={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const c=u(n,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const h=u(n,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),s}function A2(n,t,o){const s={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const c=u(n,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const h=u(n,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),s}function N2(n,t){const o={},s=u(n,["config"]);return s!=null&&_2(s,o),o}function b2(n,t){const o={},s=u(n,["config"]);return s!=null&&A2(s,o),o}function R2(n,t){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["nextPageToken"]);a!=null&&f(o,["nextPageToken"],a);const c=u(n,["tunedModels"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Qg(g))),f(o,["tuningJobs"],h)}return o}function M2(n,t){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["nextPageToken"]);a!=null&&f(o,["nextPageToken"],a);const c=u(n,["tuningJobs"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Vu(g))),f(o,["tuningJobs"],h)}return o}function w2(n,t){const o={},s=u(n,["name"]);s!=null&&f(o,["model"],s);const a=u(n,["name"]);return a!=null&&f(o,["endpoint"],a),o}function D2(n,t){const o={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(n,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),f(o,["examples","examples"],a)}return o}function I2(n,t,o){const s={};let a=u(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const h=u(n,["gcsUri"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(a==="PREFERENCE_TUNING"){const h=u(n,["gcsUri"]);t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=u(n,["vertexDatasetResource"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(c==="PREFERENCE_TUNING"){const h=u(n,["vertexDatasetResource"]);t!==void 0&&h!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Qg(n,t){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["name"]);a!=null&&f(o,["name"],a);const c=u(n,["state"]);c!=null&&f(o,["state"],Mg(c));const h=u(n,["createTime"]);h!=null&&f(o,["createTime"],h);const g=u(n,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const y=u(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=u(n,["description"]);v!=null&&f(o,["description"],v);const E=u(n,["baseModel"]);E!=null&&f(o,["baseModel"],E);const x=u(n,["_self"]);return x!=null&&f(o,["tunedModel"],w2(x)),o}function Vu(n,t){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["name"]);a!=null&&f(o,["name"],a);const c=u(n,["state"]);c!=null&&f(o,["state"],Mg(c));const h=u(n,["createTime"]);h!=null&&f(o,["createTime"],h);const g=u(n,["startTime"]);g!=null&&f(o,["startTime"],g);const y=u(n,["endTime"]);y!=null&&f(o,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=u(n,["error"]);v!=null&&f(o,["error"],v);const E=u(n,["description"]);E!=null&&f(o,["description"],E);const x=u(n,["baseModel"]);x!=null&&f(o,["baseModel"],x);const _=u(n,["tunedModel"]);_!=null&&f(o,["tunedModel"],_);const R=u(n,["preTunedModel"]);R!=null&&f(o,["preTunedModel"],R);const w=u(n,["supervisedTuningSpec"]);w!=null&&f(o,["supervisedTuningSpec"],w);const U=u(n,["preferenceOptimizationSpec"]);U!=null&&f(o,["preferenceOptimizationSpec"],U);const L=u(n,["tuningDataStats"]);L!=null&&f(o,["tuningDataStats"],L);const F=u(n,["encryptionSpec"]);F!=null&&f(o,["encryptionSpec"],F);const z=u(n,["partnerModelTuningSpec"]);z!=null&&f(o,["partnerModelTuningSpec"],z);const X=u(n,["customBaseModel"]);X!=null&&f(o,["customBaseModel"],X);const j=u(n,["experiment"]);j!=null&&f(o,["experiment"],j);const P=u(n,["labels"]);P!=null&&f(o,["labels"],P);const G=u(n,["outputUri"]);G!=null&&f(o,["outputUri"],G);const ue=u(n,["pipelineJob"]);ue!=null&&f(o,["pipelineJob"],ue);const ee=u(n,["serviceAccount"]);ee!=null&&f(o,["serviceAccount"],ee);const he=u(n,["tunedModelDisplayName"]);he!=null&&f(o,["tunedModelDisplayName"],he);const Se=u(n,["veoTuningSpec"]);return Se!=null&&f(o,["veoTuningSpec"],Se),o}function U2(n,t){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["name"]);a!=null&&f(o,["name"],a);const c=u(n,["metadata"]);c!=null&&f(o,["metadata"],c);const h=u(n,["done"]);h!=null&&f(o,["done"],h);const g=u(n,["error"]);return g!=null&&f(o,["error"],g),o}function Zm(n,t){const o={},s=u(n,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const a=u(n,["vertexDatasetResource"]);return a!=null&&f(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k2 extends _n{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new bi(Cn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:a});return c.baseModel=void 0,await this.tuneInternal(c)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),c=await this.tuneMldevInternal(a);let h="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?h=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(h=c.name.split("/operations/")[0]),{name:h,state:ku.JOB_STATE_QUEUED}}}}async getInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=C2(t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>Vu(v))}else{const m=x2(t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>Qg(v))}}async listInternal(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=b2(t);return g=te("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=M2(v),x=new Rm;return Object.assign(x,E),x})}else{const m=N2(t);return g=te("tunedModels",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=R2(v),x=new Rm;return Object.assign(x,E),x})}}async cancel(t){var o,s,a,c;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=m2(t);return g=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=y2(v),x=new Mm;return Object.assign(x,E),x})}else{const m=p2(t);return g=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const x=E;return x.sdkHttpResponse={headers:v.headers},x})),h.then(v=>{const E=g2(v),x=new Mm;return Object.assign(x,E),x})}}async tuneInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI()){const g=E2(t,t);return c=te("tuningJobs",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Vu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,s;let a,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=S2(t);return c=te("tunedModels",g._url),h=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>U2(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L2{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const P2=1024*1024*8,O2=3,H2=1e3,G2=2,Xs="x-goog-upload-status";async function q2(n,t,o){var s;const a=await Zg(n,t,o),c=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Xs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function V2(n,t,o){var s;const a=await Zg(n,t,o),c=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Xs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=Cg(c),g=new ju;return Object.assign(g,h),g}async function Zg(n,t,o){var s,a;let c=0,h=0,g=new Lu(new Response),y="upload";for(c=n.size;h<c;){const m=Math.min(P2,c-h),v=n.slice(h,h+m);h+m>=c&&(y+=", finalize");let E=0,x=H2;for(;E<O2&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(h),"Content-Length":String(m)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[Xs]));)E++,await B2(x),x=x*G2;if(h+=m,((a=g==null?void 0:g.headers)===null||a===void 0?void 0:a[Xs])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function z2(n){return{size:n.size,type:n.type}}function B2(n){return new Promise(t=>setTimeout(t,n))}class F2{async upload(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await q2(t,o,s)}async uploadToFileSearchStore(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await V2(t,o,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await z2(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y2{create(t,o,s){return new J2(t,o,s)}}class J2{constructor(t,o,s){this.url=t,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $m="x-goog-api-key";class X2{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get($m)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append($m,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K2="gl-node/";class Q2{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const s=_E(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new X2(this.apiKey);this.apiClient=new C1({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:K2+"web",uploader:new F2,downloader:new L2}),this.models=new z1(this.apiClient),this.live=new P1(this.apiClient,a,new Y2),this.batches=new jx(this.apiClient),this.chats=new kC(this.models,this.apiClient),this.caches=new DC(this.apiClient),this.files=new FC(this.apiClient),this.operations=new B1(this.apiClient),this.authTokens=new l2(this.apiClient),this.tunings=new k2(this.apiClient),this.fileSearchStores=new h2(this.apiClient)}}const Z2=void 0;console.warn("VITE_GEMINI_API_KEY environment variable not set. AI features will not work.");new Q2({apiKey:Z2});const $2=async n=>{throw new Error("API key is not configured.")},W2=async(n,t)=>{throw new Error("API key is not configured.")},j2=async n=>{throw new Error("API key is not configured.")},eN=async n=>{throw new Error("API key is not configured.")},tN=async n=>{throw new Error("API key is not configured.")},nN=async n=>{throw new Error("API key is not configured.")},iN=async n=>{throw new Error("API key or address is not configured.")},Wn=2,jn=1,oN=n=>{if(n.length===0)return"No rooms on this floor.";const t=Math.min(...n.map(x=>x.position.x/re)),o=Math.min(...n.map(x=>x.position.y/re)),s=Math.max(...n.map(x=>x.position.x/re+x.dimensions.width)),a=Math.max(...n.map(x=>x.position.y/re+x.dimensions.length)),c=Math.ceil((s-t)*Wn),h=Math.ceil((a-o)*jn),g=1,y=Array(h+g*2).fill(null).map(()=>Array(c+g*2).fill(" ")),m=-t*Wn+g,v=-o*jn+g;for(const x of n){const _=Math.round(x.position.x/re*Wn+m),R=Math.round(x.position.y/re*jn+v),w=Math.round(x.dimensions.width*Wn),U=Math.round(x.dimensions.length*jn);for(let L=R;L<R+U;L++)for(let F=_;F<_+w;F++){if(L<0||L>=y.length||F<0||F>=y[0].length)continue;const z=L===R,X=L===R+U-1,j=F===_,P=F===_+w-1;let G=" ";if(z&&j||z&&P||X&&j||X&&P?G="+":z||X?G="-":(j||P)&&(G="|"),G!==" "){const ue=y[L][F];ue!==" "&&ue!==G&&(ue==="|"||ue==="-")?y[L][F]="+":ue===" "&&(y[L][F]=G)}}}for(const x of n){const _=Math.round(x.position.x/re*Wn+m),R=Math.round(x.position.y/re*jn+v),w=Math.round(x.dimensions.width*Wn),U=Math.round(x.dimensions.length*jn);for(const L of x.features){let F="?";switch(L.type){case qe.Door:F="D";break;case qe.Window:F="W";break;case qe.Opening:F="=";break;default:continue}const z=L.offset/100;try{if(L.wall==="top"){const X=_+Math.round(w*z);y[R][X]==="-"&&(y[R][X]=F)}else if(L.wall==="bottom"){const X=_+Math.round(w*z);y[R+U-1][X]==="-"&&(y[R+U-1][X]=F)}else if(L.wall==="left"){const X=R+Math.round(U*z);y[X][_]==="|"&&(y[X][_]=F)}else if(L.wall==="right"){const X=R+Math.round(U*z);y[X][_+w-1]==="|"&&(y[X][_+w-1]=F)}}catch{}}}for(const x of n){const _=Math.round(x.position.x/re*Wn+m),R=Math.round(x.position.y/re*jn+v),w=Math.round(x.dimensions.width*Wn),U=Math.round(x.dimensions.length*jn),L=x.name,F=`${x.dimensions.width}'x${x.dimensions.length}'`,z=_+Math.floor(w/2),X=R+Math.floor(U/2);if(U>2&&w>L.length){const j=z-Math.floor(L.length/2);for(let P=0;P<L.length;P++)y[X-1][j+P]===" "&&(y[X-1][j+P]=L[P])}if(U>2&&w>F.length){const j=z-Math.floor(F.length/2);for(let P=0;P<F.length;P++)y[X][j+P]===" "&&(y[X][j+P]=F[P])}}return y.map(x=>x.join("").trimEnd()).filter(x=>x.trim().length>0).join(`
`)},$g=n=>{if(n.length===0)return"This project is empty.";const t={};for(const a of n){const c=a.floor||1;t[c]||(t[c]=[]),t[c].push(a)}const o=Object.keys(t).map(Number).sort((a,c)=>a-c);let s="";for(const a of o){s+=`--- Floor ${a} Diagram ---

`;const c=oN(t[a]);s+=c+`

`}return s.trim()},lN=async n=>{try{const t=$g(n.rooms),o={...n,diagram:t},s=`${o.property.name.replace(/ /g,"_")||"home-plan"}.json`,a=JSON.stringify(o,null,2),c=new Blob([a],{type:"application/json"}),h=URL.createObjectURL(c),g=document.createElement("a");g.href=h,g.download=s,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(h)}catch(t){throw console.error("Error saving file:",t),new Error("Could not create save file.")}},sN=()=>new Promise((n,t)=>{const o=document.createElement("input");o.type="file",o.accept=".json,application/json",o.onchange=s=>{var g;const c=(g=s.target.files)==null?void 0:g[0];if(!c){t(new Error("No file selected."));return}const h=new FileReader;h.onload=y=>{var m;try{const v=(m=y.target)==null?void 0:m.result;if(typeof v=="string"){const E=JSON.parse(v);E.property&&Array.isArray(E.rooms)?n(E):t(new Error("Invalid project file format."))}else t(new Error("Failed to read file content."))}catch(v){console.error("Error parsing project file:",v),t(new Error("Could not parse the selected file. Make sure it's a valid project JSON file."))}},h.onerror=y=>{console.error("Error reading file:",y),t(new Error("An error occurred while reading the file."))},h.readAsText(c)},o.click()}),rN=n=>{let t=`Project Report
`;t+=`====================

`,t+=`Project Name: ${n.property.name}
`,n.property.address&&(t+=`Address: ${n.property.address}
`),t+=`
`,t+=`Full Layout Diagram
`,t+=`-------------------
`,t+=$g(n.rooms)+`

`,t+=`Room Details
`,t+=`============

`;const o=[...n.rooms].sort((s,a)=>(s.floor||1)!==(a.floor||1)?(s.floor||1)-(a.floor||1):s.name.localeCompare(a.name));for(const s of o){if(t+=`------------------------------------------------------------
`,t+=`ROOM: ${s.name}
`,t+=`------------------------------------------------------------
`,t+=`- Type: ${s.type}
`,t+=`- Floor: ${s.floor||1}
`,t+=`- Dimensions: ${s.dimensions.width} ft (Width) x ${s.dimensions.length} ft (Length)
`,t+=`- Area: ${(s.dimensions.width*s.dimensions.length).toFixed(2)} sq. ft.
`,s.description&&(t+=`
- AI Description:
  ${s.description.replace(/\n/g,`
  `)}
`),s.features.length>0){t+=`
- Features:
`;for(const a of s.features){const c=a.type.replace(/_/g," ");t+=`  - ${c.charAt(0).toUpperCase()+c.slice(1)}: on ${a.wall} wall, ${a.size} ft wide, offset at ${a.offset.toFixed(0)}%.
`}}if(s.furniture.length>0){t+=`
- Furniture Layout:
`;for(const a of s.furniture)t+=`  - ${a.name.replace(/_/g," ")} (${a.dimensions.width}' x ${a.dimensions.length}')
`}if((s.pets||[]).length>0){t+=`
- Pets in this room:
`;for(const a of s.pets)t+=`  - ${a.name} (the ${a.type})
`}t+=`
`}try{const s=`${n.property.name.replace(/ /g,"_")||"home-plan"}_Report.txt`,a=new Blob([t],{type:"text/plain"}),c=URL.createObjectURL(a),h=document.createElement("a");h.href=c,h.download=s,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(c)}catch(s){console.error("Error exporting report:",s),alert("Could not export the report.")}};function Wg(n){let t=null;return()=>(t==null&&(t=n()),t)}function aN(n,t){return n.filter(o=>o!==t)}function uN(n,t){const o=new Set,s=c=>o.add(c);n.forEach(s),t.forEach(s);const a=[];return o.forEach(c=>a.push(c)),a}class cN{enter(t){const o=this.entered.length,s=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(t));return this.entered=uN(this.entered.filter(s),[t]),o===0&&this.entered.length>0}leave(t){const o=this.entered.length;return this.entered=aN(this.entered.filter(this.isNodeInDocument),t),o>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class fN{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const o={};Object.keys(this.config.exposeProperties).forEach(s=>{const a=this.config.exposeProperties[s];a!=null&&(o[s]={value:a(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,o)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,o){return o===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const jg="__NATIVE_FILE__",e0="__NATIVE_URL__",t0="__NATIVE_TEXT__",n0="__NATIVE_HTML__",Wm=Object.freeze(Object.defineProperty({__proto__:null,FILE:jg,HTML:n0,TEXT:t0,URL:e0},Symbol.toStringTag,{value:"Module"}));function bu(n,t,o){const s=t.reduce((a,c)=>a||n.getData(c),"");return s??o}const zu={[jg]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[n0]:{exposeProperties:{html:(n,t)=>bu(n,t,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[e0]:{exposeProperties:{urls:(n,t)=>bu(n,t,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[t0]:{exposeProperties:{text:(n,t)=>bu(n,t,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function dN(n,t){const o=zu[n];if(!o)throw new Error(`native type ${n} has no configuration`);const s=new fN(o);return s.loadDataTransfer(t),s}function Ru(n){if(!n)return null;const t=Array.prototype.slice.call(n.types||[]);return Object.keys(zu).filter(o=>{const s=zu[o];return s!=null&&s.matchesTypes?s.matchesTypes.some(a=>t.indexOf(a)>-1):!1})[0]||null}const hN=Wg(()=>/firefox/i.test(navigator.userAgent)),i0=Wg(()=>!!window.safari);class jm{interpolate(t){const{xs:o,ys:s,c1s:a,c2s:c,c3s:h}=this;let g=o.length-1;if(t===o[g])return s[g];let y=0,m=h.length-1,v;for(;y<=m;){v=Math.floor(.5*(y+m));const _=o[v];if(_<t)y=v+1;else if(_>t)m=v-1;else return s[v]}g=Math.max(0,m);const E=t-o[g],x=E*E;return s[g]+a[g]*E+c[g]*x+h[g]*E*x}constructor(t,o){const{length:s}=t,a=[];for(let _=0;_<s;_++)a.push(_);a.sort((_,R)=>t[_]<t[R]?-1:1);const c=[],h=[];let g,y;for(let _=0;_<s-1;_++)g=t[_+1]-t[_],y=o[_+1]-o[_],c.push(g),h.push(y/g);const m=[h[0]];for(let _=0;_<c.length-1;_++){const R=h[_],w=h[_+1];if(R*w<=0)m.push(0);else{g=c[_];const U=c[_+1],L=g+U;m.push(3*L/((L+U)/R+(L+g)/w))}}m.push(h[h.length-1]);const v=[],E=[];let x;for(let _=0;_<m.length-1;_++){x=h[_];const R=m[_],w=1/c[_],U=R+m[_+1]-x-x;v.push((x-R-U)*w),E.push(U*w*w)}this.xs=t,this.ys=o,this.c1s=m,this.c2s=v,this.c3s=E}}const pN=1;function o0(n){const t=n.nodeType===pN?n:n.parentElement;if(!t)return null;const{top:o,left:s}=t.getBoundingClientRect();return{x:s,y:o}}function qs(n){return{x:n.clientX,y:n.clientY}}function mN(n){var t;return n.nodeName==="IMG"&&(hN()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(n)))}function gN(n,t,o,s){let a=n?t.width:o,c=n?t.height:s;return i0()&&n&&(c/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:c}}function yN(n,t,o,s,a){const c=mN(t),g=o0(c?n:t),y={x:o.x-g.x,y:o.y-g.y},{offsetWidth:m,offsetHeight:v}=n,{anchorX:E,anchorY:x}=s,{dragPreviewWidth:_,dragPreviewHeight:R}=gN(c,t,m,v),w=()=>{let P=new jm([0,.5,1],[y.y,y.y/v*R,y.y+R-v]).interpolate(x);return i0()&&c&&(P+=(window.devicePixelRatio-1)*R),P},U=()=>new jm([0,.5,1],[y.x,y.x/m*_,y.x+_-m]).interpolate(E),{offsetX:L,offsetY:F}=a,z=L===0||L,X=F===0||F;return{x:z?L:U(),y:X?F:w()}}class vN{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,o){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=o}}function TN(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function eg(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{},s=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(o).filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable}))),s.forEach(function(a){TN(n,a,o[a])})}return n}class SN{profile(){var t,o;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((o=this.dragOverTargetIds)===null||o===void 0?void 0:o.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var o;(o=this.window)===null||o===void 0||o.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,o,s){return this.sourcePreviewNodeOptions.set(t,s),this.sourcePreviewNodes.set(t,o),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,o,s){this.sourceNodes.set(t,o),this.sourceNodeOptions.set(t,s);const a=h=>this.handleDragStart(h,t),c=h=>this.handleSelectStart(h);return o.setAttribute("draggable","true"),o.addEventListener("dragstart",a),o.addEventListener("selectstart",c),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),o.removeEventListener("dragstart",a),o.removeEventListener("selectstart",c),o.setAttribute("draggable","false")}}connectDropTarget(t,o){const s=h=>this.handleDragEnter(h,t),a=h=>this.handleDragOver(h,t),c=h=>this.handleDrop(h,t);return o.addEventListener("dragenter",s),o.addEventListener("dragover",a),o.addEventListener("drop",c),()=>{o.removeEventListener("dragenter",s),o.removeEventListener("dragover",a),o.removeEventListener("drop",c)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),o=this.sourceNodeOptions.get(t);return eg({dropEffect:this.altKeyPressed?"copy":"move"},o||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),o=this.sourcePreviewNodeOptions.get(t);return eg({anchorX:.5,anchorY:.5,captureDraggingState:!1},o||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Wm).some(o=>Wm[o]===t)}beginDragNativeItem(t,o){this.clearCurrentDragSourceNode(),this.currentNativeSource=dN(t,o),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const o=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var s;return(s=this.rootElement)===null||s===void 0?void 0:s.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},o)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,o){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(o))}handleDragEnter(t,o){this.dragEnterTargetIds.unshift(o)}handleDragOver(t,o){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(o)}handleDrop(t,o){this.dropTargetIds.unshift(o)}constructor(t,o,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const c=this.sourceNodes.get(a);return c&&o0(c)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:c}=this;this.dragStartSourceIds=null;const h=qs(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(c||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:h});const{dataTransfer:g}=a,y=Ru(g);if(this.monitor.isDragging()){if(g&&typeof g.setDragImage=="function"){const v=this.monitor.getSourceId(),E=this.sourceNodes.get(v),x=this.sourcePreviewNodes.get(v)||E;if(x){const{anchorX:_,anchorY:R,offsetX:w,offsetY:U}=this.getCurrentSourcePreviewNodeOptions(),z=yN(E,x,h,{anchorX:_,anchorY:R},{offsetX:w,offsetY:U});g.setDragImage(x,z.x,z.y)}}try{g==null||g.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(y)this.beginDragNativeItem(y);else{if(g&&!g.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var c;(c=this.currentNativeSource)===null||c===void 0||c.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:g}=a,y=Ru(g);y&&this.beginDragNativeItem(y,g)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:c}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,c.length>0&&this.actions.hover(c,{clientOffset:qs(a)}),c.some(g=>this.monitor.canDropOnTarget(g))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var c;(c=this.currentNativeSource)===null||c===void 0||c.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:c}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=qs(a),this.scheduleHover(c),(c||[]).some(g=>this.monitor.canDropOnTarget(g))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var c;a.preventDefault(),(c=this.currentNativeSource)===null||c===void 0||c.loadDataTransfer(a.dataTransfer)}else Ru(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:c}=this;this.dropTargetIds=[],this.actions.hover(c,{clientOffset:qs(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const c=a.target;typeof c.dragDrop=="function"&&(c.tagName==="INPUT"||c.tagName==="SELECT"||c.tagName==="TEXTAREA"||c.isContentEditable||(a.preventDefault(),c.dragDrop()))},this.options=new vN(o,s),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new cN(this.isNodeInDocument)}}const EN=function(t,o,s){return new SN(t,o,s)},l0=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),xN=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("circle",{cx:"12",cy:"12",r:"8"})}),CN=({onClose:n,onCapture:t})=>{const o=Z.useRef(null),s=Z.useRef(null),[a,c]=Z.useState(null),[h,g]=Z.useState(null),y=Z.useCallback(()=>{a&&a.getTracks().forEach(v=>v.stop())},[a]);Z.useEffect(()=>((async()=>{try{const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});c(E),o.current&&(o.current.srcObject=E)}catch(E){console.error("Error accessing camera:",E),g("Could not access the camera. Please ensure you have given permission and that your camera is working.")}})(),()=>{y()}),[y]);const m=()=>{if(o.current&&s.current){const v=o.current,E=s.current;E.width=v.videoWidth,E.height=v.videoHeight;const x=E.getContext("2d");if(x){x.drawImage(v,0,0,E.width,E.height);const R=E.toDataURL("image/jpeg").split(",")[1];t(R),y()}}};return T.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black animate-fade-in",children:h?T.jsxs("div",{className:"text-white text-center p-8 bg-red-800/50 rounded-lg",children:[T.jsx("h2",{className:"text-xl font-bold mb-4",children:"Camera Error"}),T.jsx("p",{className:"mb-4",children:h}),T.jsx("button",{onClick:n,className:"px-6 py-2 bg-white text-black font-semibold rounded-lg",children:"Close"})]}):T.jsxs(T.Fragment,{children:[T.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),T.jsx("div",{className:"absolute top-4 right-4",children:T.jsx("button",{onClick:n,className:"p-3 bg-black/50 rounded-full text-white hover:bg-black/75 transition-colors","aria-label":"Close camera view",children:T.jsx(l0,{})})}),T.jsx("div",{className:"absolute bottom-8 flex justify-center w-full",children:T.jsx("button",{onClick:m,className:"p-4 bg-white/30 rounded-full backdrop-blur-sm border-4 border-white/50 text-white hover:bg-white/50 transition-colors","aria-label":"Capture photo",children:T.jsx(xN,{})})}),T.jsx("canvas",{ref:s,className:"hidden"})]})})},_N=({isOpen:n,title:t,message:o,onConfirm:s,onCancel:a})=>n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 animate-fade-in",children:T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl p-6 max-w-sm w-full",children:[T.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4",children:t}),T.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:o}),T.jsxs("div",{className:"flex justify-end space-x-4",children:[T.jsx("button",{onClick:a,className:"px-4 py-2 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),T.jsx("button",{onClick:s,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"Confirm"})]})]})}):null,AN=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline-block mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),NN=({onPropertyCreate:n,onProjectLoad:t})=>{const[o,s]=Z.useState(""),[a,c]=Z.useState(""),[h,g]=Z.useState(null),[y,m]=Z.useState(!1),[v,E]=Z.useState({sqft:2e3,floors:1,bedrooms:3,bathrooms:2}),[x,_]=Z.useState(!1),R=async()=>{if(a){m(!0);try{const U=await $2(a);g(U)}catch(U){alert(U instanceof Error?U.message:"An unknown error occurred.")}finally{m(!1)}}},w=async()=>{_(!0);try{const U=await W2(v,h);n({name:o||"AI Generated Plan",address:a},U)}catch(U){alert(U instanceof Error?U.message:"An unknown error occurred.")}finally{_(!1)}};return T.jsx("div",{className:"w-screen h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:T.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 space-y-8 animate-fade-in",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold text-center text-slate-800 dark:text-slate-100",children:"Welcome to AI Home Planner"}),T.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mt-2",children:"Start a new project or load an existing one."})]}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsxs("button",{onClick:()=>n({name:"New Project",address:""}),className:"w-full flex-1 flex items-center justify-center space-x-2 px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[T.jsx(AN,{})," ",T.jsx("span",{children:"Start Blank Project"})]}),T.jsx("button",{onClick:t,className:"w-full flex-1 flex items-center justify-center space-x-2 px-4 py-3 border border-slate-300 dark:border-slate-600 text-base font-medium rounded-md shadow-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Load Project..."})]}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("span",{className:"w-full border-t border-slate-300 dark:border-slate-600"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400",children:"Or Generate a Layout with AI"})})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Project Name"}),T.jsx("input",{type:"text",name:"name",id:"name",value:o,onChange:U=>s(U.target.value),placeholder:"e.g., Dream House",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white sm:text-sm p-2 border"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Property Address (for AI research)"}),T.jsxs("div",{className:"flex space-x-2 mt-1",children:[T.jsx("input",{type:"text",name:"address",id:"address",className:"flex-grow mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white sm:text-sm p-2 border",value:a,onChange:U=>c(U.target.value),placeholder:"e.g., 1600 Amphitheatre Parkway, Mountain View, CA"}),T.jsx("button",{onClick:R,disabled:!a||y,className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded-md text-sm font-medium disabled:opacity-50",children:y?"...":T.jsx(ug,{})})]})]}),y&&T.jsx("div",{className:"text-center p-4 text-slate-500",children:"Researching address..."}),h&&T.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[T.jsx("h4",{className:"text-sm font-semibold mb-2 text-slate-700 dark:text-slate-200",children:"AI Research Results:"}),T.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 whitespace-pre-wrap max-h-40 overflow-y-auto",children:h})]}),T.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"sqft",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Sq. Footage"}),T.jsx("input",{type:"number",name:"sqft",id:"sqft",value:v.sqft,onChange:U=>E({...v,sqft:parseInt(U.target.value)||2e3}),placeholder:"e.g., 2000",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white sm:text-sm p-2 border"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"floors",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Floors"}),T.jsx("input",{type:"number",name:"floors",id:"floors",value:v.floors,onChange:U=>E({...v,floors:parseInt(U.target.value)||1}),placeholder:"e.g., 2",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white sm:text-sm p-2 border"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Bedrooms"}),T.jsx("input",{type:"number",name:"bedrooms",id:"bedrooms",value:v.bedrooms,onChange:U=>E({...v,bedrooms:parseInt(U.target.value)||3}),placeholder:"e.g., 3",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white sm:text-sm p-2 border"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Bathrooms"}),T.jsx("input",{type:"number",name:"bathrooms",id:"bathrooms",value:v.bathrooms,onChange:U=>E({...v,bathrooms:parseInt(U.target.value)||2}),placeholder:"e.g., 2",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white sm:text-sm p-2 border"})]})]}),T.jsx("button",{onClick:w,disabled:x,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:x?"Generating...":T.jsxs(T.Fragment,{children:[T.jsx(tg,{})," ",T.jsx("span",{children:"Generate AI Blueprint"})," "]})})]})]})})},bN=()=>{const[n,t]=Z.useState("CREATE_PROPERTY"),[o,s]=Z.useState(null),[a,c]=Z.useState([]),[h,g]=Z.useState(null),[y,m]=Z.useState(null),[v,E]=Z.useState("2d"),[x,_]=Z.useState(!1),[R,w]=Z.useState(1),[U,L]=Z.useState(1),[F,z]=Z.useState(!0),[X,j]=Z.useState("select"),[P,G]=Z.useState(null),[ue,ee]=Z.useState(null),[he,Se]=Z.useState({enabled:!1,azimuth:90}),[ce,ke]=Z.useState([]),[ze,Be]=Z.useState(-1),[H,Q]=Z.useState(!1),[ae,ne]=Z.useState(()=>typeof window<"u"&&localStorage.theme?localStorage.theme:typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");Z.useEffect(()=>{ae==="dark"?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},[ae]);const le=Z.useMemo(()=>a.find($=>$.id===h)||null,[a,h]),N=Z.useCallback(($,me)=>{const de=ce.slice(0,ze+1),mt={property:$,rooms:me};ke([...de,mt]),Be(de.length)},[ce,ze]);Z.useEffect(()=>{n==="DESIGNING"&&o&&ce.length===0&&N(o,a)},[n,o,a,ce.length,N]);const q=($,me=[])=>{s($),c(me),t("DESIGNING"),ke([{property:$,rooms:me}]),Be(0)},K=Z.useCallback(($,me=!0)=>{const de=a.map(mt=>mt.id===$.id?$:mt);c(de),me&&o&&N(o,de)},[a,o,N]),W=Z.useCallback(($,me=!0)=>{new Set($.map(mt=>mt.id));const de=a.map(mt=>$.find(or=>or.id===mt.id)||mt);c(de),me&&o&&N(o,de)},[a,o,N]),ge=Z.useCallback($=>{const me=a.filter(de=>de.id!==$);h===$&&g(null),c(me),o&&N(o,me)},[a,o,h,N]),Te=Z.useCallback($=>{const me={id:`room-${Date.now()}`,name:($==null?void 0:$.name)||"New Room",type:($==null?void 0:$.type)||dt.Custom,floor:R,dimensions:($==null?void 0:$.dimensions)||{width:10,length:10},position:($==null?void 0:$.position)||{x:50,y:50},rotation:0,features:[],furniture:[],pets:[],connections:[],color:sg[($==null?void 0:$.type)||dt.Custom]},de=[...a,me];c(de),g(me.id),o&&N(o,de)},[a,o,R,N]),Ne=Z.useCallback(async $=>{const me=a.find(de=>de.id===$);if(me){m(`furniture-${$}`);try{const de=await j2(me);K({...me,furniture:de},!0)}catch(de){console.error(de),alert(`AI layout generation failed: ${de instanceof Error?de.message:"Unknown error"}`)}finally{m(null)}}},[a,K]),J=Z.useCallback(async $=>{const me=a.find(de=>de.id===$);if(me){m(`description-${$}`);try{const de=await eN(me);K({...me,description:de},!0)}catch(de){console.error(de),alert(`AI description generation failed: ${de instanceof Error?de.message:"Unknown error"}`)}finally{m(null)}}},[a,K]),ie=Z.useCallback(async $=>{if(P){m(`dimensions-${P}`),G(null);try{const me=await tN($),de=a.find(mt=>mt.id===P);de&&K({...de,dimensions:me},!0)}catch(me){console.error(me),alert(`AI measurement failed: ${me instanceof Error?me.message:"Unknown error"}`)}finally{m(null)}}},[P,a,K]),ye=async $=>{const me=a.find(de=>de.id===$);if(me){m(`visualize-${$}`);try{const de=await nN(me);ee({imageUrl:`data:image/jpeg;base64,${de}`,roomName:me.name})}catch(de){console.error(de),alert(`Failed to generate visualization: ${de instanceof Error?de.message:"Unknown error"}`)}finally{m(null)}}},We=async $=>{const me=a.find(de=>de.id===$);if(!(!me||!o)){m(`costs-${$}`);try{const de=await iN(o),mt={...me,costEstimates:de};K(mt,!0)}catch(de){console.error(de),alert(`Failed to get regional costs: ${de instanceof Error?de.message:"Unknown error"}`)}finally{m(null)}}},pt=()=>o&&lN({property:o,rooms:a}),Wt=async()=>{try{const $=await sN();s($.property),c($.rooms),g(null);const me=Math.max(1,...$.rooms.map(de=>de.floor||1));L(me),w(1),ke([]),Be(-1),N($.property,$.rooms)}catch($){alert(`Error loading file: ${$ instanceof Error?$.message:"Unknown error"}`)}},Xt=()=>o&&rN({property:o,rooms:a}),oi=()=>{Q(!0)},li=()=>{t("CREATE_PROPERTY"),s(null),c([]),g(null),ke([]),Be(-1),Q(!1)},on=()=>{if(ze>0){const $=ze-1,me=ce[$];Be($),s(me.property),c(me.rooms)}},Ri=()=>{if(ze<ce.length-1){const $=ze+1,me=ce[$];Be($),s(me.property),c(me.rooms)}},si=()=>{const $=U+1;L($),w($)};return n==="CREATE_PROPERTY"?T.jsx(NN,{onPropertyCreate:q,onProjectLoad:Wt}):T.jsxs(ES,{backend:EN,children:[T.jsxs("div",{className:"flex h-screen w-screen bg-slate-100 dark:bg-slate-900 text-slate-900 dark:text-slate-50 overflow-hidden",children:[T.jsx(eT,{property:o,rooms:a,selectedRoom:le,onAddRoom:Te,onSelectRoom:g,onUpdateRoom:$=>K($,!0),onUpdateMultipleRooms:$=>W($,!0),onDeleteRoom:ge,onGenerateLayout:Ne,onGenerateDescription:J,onMeasureRoom:G,onGenerateVisualization:ye,onGetRegionalCosts:We,isAiLoading:y,isCollapsed:x,setIsCollapsed:_,totalFloors:U,currentFloor:R,setCurrentFloor:w,onAddFloor:si,interactionMode:X,setInteractionMode:j}),T.jsxs("main",{className:"flex-1 flex flex-col",children:[T.jsx(mE,{property:o,rooms:a,onNewProject:oi,onSave:pt,onLoad:Wt,onExportReport:Xt,theme:ae,setTheme:ne,viewMode:v,setViewMode:E,isSnapEnabled:F,setIsSnapEnabled:z,onUndo:on,onRedo:Ri,canUndo:ze>0,canRedo:ze<ce.length-1,sunlight:he,setSunlight:Se}),T.jsx(eE,{rooms:a.filter($=>($.floor||1)===R),allRooms:a,selectedRoomId:h,onSelectRoom:g,onUpdateRoom:$=>K($,!1),onFinalizeUpdate:$=>K($,!0),onAddRoom:Te,onDeleteRoom:ge,onGenerateLayout:Ne,viewMode:v,isSnapEnabled:F,interactionMode:X,setInteractionMode:j,currentFloor:R,sunlight:he})]})]}),P&&T.jsx(CN,{onClose:()=>G(null),onCapture:ie}),ue&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 animate-fade-in",onClick:()=>ee(null),children:T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl p-4 max-w-4xl w-full relative",onClick:$=>$.stopPropagation(),children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:["AI Visualization: ",ue.roomName]}),T.jsx("button",{onClick:()=>ee(null),"aria-label":"Close visualization",className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:T.jsx(l0,{})})]}),T.jsx("img",{src:ue.imageUrl,alt:`AI visualization of ${ue.roomName}`,className:"w-full h-auto rounded-md object-contain max-h-[80vh]"})]})}),T.jsx(_N,{isOpen:H,title:"Start New Project",message:"Are you sure you want to start a new project? Any unsaved changes will be lost.",onConfirm:li,onCancel:()=>Q(!1)})]})},s0=document.getElementById("root");if(!s0)throw new Error("Could not find root element to mount to");const RN=Ov.createRoot(s0);RN.render(T.jsx(Mv.StrictMode,{children:T.jsx(bN,{})}));
